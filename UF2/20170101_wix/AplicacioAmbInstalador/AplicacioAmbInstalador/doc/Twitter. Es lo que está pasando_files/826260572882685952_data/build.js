/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.16 Copyright (c) 2010-2015, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

/*!
 * jQuery JavaScript Library v1.11.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-05-01T17:42Z
 */

/*!
 * Sizzle CSS Selector Engine v1.10.19
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-04-18
 */

// Copyright 2009-2012 by contributors, MIT License
// vim: ts=4 sts=4 sw=4 expandtab

// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

/*
 *
 * This file contains an adaptation of the AES decryption algorithm
 * from the Standford Javascript Cryptography Library. That work is
 * covered by the following copyright and permissions notice:
 *
 * Copyright 2009-2010 Emily Stark, Mike Hamburg, Dan Boneh.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above
 *    copyright notice, this list of conditions and the following
 *    disclaimer in the documentation and/or other materials provided
 *    with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE AUTHORS ``AS IS'' AND ANY EXPRESS OR
 * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
 * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN
 * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * The views and conclusions contained in the software and documentation
 * are those of the authors and should not be interpreted as representing
 * official policies, either expressed or implied, of the authors.
 */

/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This file contains an adaptation of the AES decryption algorithm
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * from the Standford Javascript Cryptography Library. That work is
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * covered by the following copyright and permissions notice:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright 2009-2010 Emily Stark, Mike Hamburg, Dan Boneh.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Redistribution and use in source and binary forms, with or without
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * modification, are permitted provided that the following conditions are
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * met:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * 1. Redistributions of source code must retain the above copyright
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *    notice, this list of conditions and the following disclaimer.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * 2. Redistributions in binary form must reproduce the above
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *    copyright notice, this list of conditions and the following
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *    disclaimer in the documentation and/or other materials provided
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *    with the distribution.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * THIS SOFTWARE IS PROVIDED BY THE AUTHORS ``AS IS'' AND ANY EXPRESS OR
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> OR CONTRIBUTORS BE
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * The views and conclusions contained in the software and documentation
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * are those of the authors and should not be interpreted as representing
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * official policies, either expressed or implied, of the authors.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

/**
 *
 * This code was ported from the dash.js project at:
 *   https://github.com/Dash-Industry-Forum/dash.js/blob/development/externals/cea608-parser.js
 *   https://github.com/Dash-Industry-Forum/dash.js/commit/8269b26a761e0853bb21d78780ed945144ecdd4d#diff-71bc295a2d6b6b7093a1d3290d53a4b2
 *
 * The original copyright appears below:
 *
 * The copyright in this software is being made available under the BSD License,
 * included below. This software may be subject to other third party and contributor
 * rights, including patent rights, and no such rights are granted under this license.
 *
 * Copyright (c) 2015-2016, DASH Industry Forum.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *  1. Redistributions of source code must retain the above copyright notice, this
 *  list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above copyright notice,
 *  this list of conditions and the following disclaimer in the documentation and/or
 *  other materials provided with the distribution.
 *  2. Neither the name of Dash Industry Forum nor the names of its
 *  contributors may be used to endorse or promote products derived from this software
 *  without specific prior written permission.
 *
 *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
 *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 *  POSSIBILITY OF SUCH DAMAGE.
 */

// copyright sign

/* Copyright 2013 Twitter, Inc. Licensed under The MIT License. http://opensource.org/licenses/MIT */

// implementation lifted from underscore.js (c) 2009-2012 Jeremy Ashkenas

/*!
 * xdm.js – Nicolas Gallagher – MIT License
 * easyXDM – Copyright(c) 2009-2011, Øyvind Sean Kinsey, oyvind@kinsey.no – MIT License
 */

/*
 * jQuery XPath plugin v0.2.5
 * https://github.com/ilinsky/jquery-xpath
 * Copyright 2013, Sergey Ilinsky
 * Dual licensed under the MIT and GPL licenses.
 *
 * Includes xpath.js - XPath 2.0 implementation in JavaScript
 * https://github.com/ilinsky/xpath.js
 * Copyright 2013, Sergey Ilinsky
 * Dual licensed under the MIT and GPL licenses.
 *
 */

var requirejs,require,define;(function(global){function isFunction(e){return ostring.call(e)==="[object Function]"}function isArray(e){return ostring.call(e)==="[object Array]"}function each(e,t){if(e){var n;for(n=0;n<e.length;n+=1)if(e[n]&&t(e[n],n,e))break}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1;n-=1)if(e[n]&&t(e[n],n,e))break}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){if(n||!hasProp(e,i))r&&typeof t=="object"&&t&&!isArray(t)&&!isFunction(t)&&!(t instanceof RegExp)?(e[i]||(e[i]={}),mixin(e[i],t,n,r)):e[i]=t}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function m(e){var t,n;for(t=0;t<e.length;t++){n=e[t];if(n===".")e.splice(t,1),t-=1;else if(n===".."){if(t===0||t==1&&e[2]===".."||e[t-1]==="..")continue;t>0&&(e.splice(t-1,2),t-=2)}}}function g(e,t,n){var r,i,s,u,a,f,l,c,h,p,d,v,g=t&&t.split("/"),y=o.map,b=y&&y["*"];e&&(e=e.split("/"),l=e.length-1,o.nodeIdCompat&&jsSuffixRegExp.test(e[l])&&(e[l]=e[l].replace(jsSuffixRegExp,"")),e[0].charAt(0)==="."&&g&&(v=g.slice(0,g.length-1),e=v.concat(e)),m(e),e=e.join("/"));if(n&&y&&(g||b)){s=e.split("/");e:for(u=s.length;u>0;u-=1){f=s.slice(0,u).join("/");if(g)for(a=g.length;a>0;a-=1){i=getOwn(y,g.slice(0,a).join("/"));if(i){i=getOwn(i,f);if(i){c=i,h=u;break e}}}!p&&b&&getOwn(b,f)&&(p=getOwn(b,f),d=u)}!c&&p&&(c=p,h=d),c&&(s.splice(0,h,c),e=s.join("/"))}return r=getOwn(o.pkgs,e),r?r:e}function y(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===r.contextName)return t.parentNode.removeChild(t),!0})}function b(e){var t=getOwn(o.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),r.require.undef(e),r.makeRequire(null,{skipMap:!0})([e]),!0}function w(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function E(e,t,n,i){var s,o,u,a,f=null,l=t?t.name:null,h=e,p=!0,m="";return e||(p=!1,e="_@r"+(d+=1)),a=w(e),f=a[0],e=a[1],f&&(f=g(f,l,i),o=getOwn(c,f)),e&&(f?o&&o.normalize?m=o.normalize(e,function(e){return g(e,l,i)}):m=e.indexOf("!")===-1?g(e,l,i):e:(m=g(e,l,i),a=w(m),f=a[0],m=a[1],n=!0,s=r.nameToUrl(m))),u=f&&!o&&!n?"_unnormalized"+(v+=1):"",{prefix:f,name:m,parentMap:t,unnormalized:!!u,url:s,originalName:h,isDefine:p,id:(f?f+"!"+m:m)+u}}function S(e){var t=e.id,n=getOwn(u,t);return n||(n=u[t]=new r.Module(e)),n}function x(e,t,n){var r=e.id,i=getOwn(u,r);hasProp(c,r)&&(!i||i.defineEmitComplete)?t==="defined"&&n(c[r]):(i=S(e),i.error&&t==="error"?n(i.error):i.on(t,n))}function T(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(u,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function N(){globalDefQueue.length&&(apsp.apply(l,[l.length,0].concat(globalDefQueue)),globalDefQueue=[])}function C(e){delete u[e],delete a[e]}function k(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var s=r.id,o=getOwn(u,s);o&&!e.depMatched[i]&&!n[s]&&(getOwn(t,s)?(e.defineDep(i,c[s]),e.check()):k(o,t,n))}),n[r]=!0)}function L(){var e,n,i=o.waitSeconds*1e3,u=i&&r.startTime+i<(new Date).getTime(),f=[],l=[],c=!1,h=!0;if(t)return;t=!0,eachProp(a,function(e){var t=e.map,r=t.id;if(!e.enabled)return;t.isDefine||l.push(e);if(!e.error)if(!e.inited&&u)b(r)?(n=!0,c=!0):(f.push(r),y(r));else if(!e.inited&&e.fetched&&t.isDefine){c=!0;if(!t.prefix)return h=!1}});if(u&&f.length)return e=makeError("timeout","Load timeout for modules: "+f,null,f),e.contextName=r.contextName,T(e);h&&each(l,function(e){k(e,{},{})}),(!u||n)&&c&&(isBrowser||isWebWorker)&&!s&&(s=setTimeout(function(){s=0,L()},50)),t=!1}function A(e){hasProp(c,e[0])||S(E(e[0],null,!0)).init(e[1],e[2])}function O(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function M(e){var t=e.currentTarget||e.srcElement;return O(t,r.onScriptLoad,"load","onreadystatechange"),O(t,r.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function _(){var e;N();while(l.length){e=l.shift();if(e[0]===null)return T(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));A(e)}}var t,n,r,i,s,o={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},u={},a={},f={},l=[],c={},h={},p={},d=1,v=1;return i={require:function(e){return e.require?e.require:e.require=r.makeRequire(e.map)},exports:function(e){e.usingExports=!0;if(e.map.isDefine)return e.exports?c[e.map.id]=e.exports:e.exports=c[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(o.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},n=function(e){this.events=getOwn(f,e.id)||{},this.map=e,this.shim=getOwn(o.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},n.prototype={init:function(e,t,n,r){r=r||{};if(this.inited)return;this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check()},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(this.fetched)return;this.fetched=!0,r.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();r.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))},load:function(){var e=this.map.url;h[e]||(h[e]=!0,r.load(this.map.id,e))},check:function(){if(!this.enabled||this.enabling)return;var e,t,n=this.map.id,i=this.depExports,s=this.exports,o=this.factory;if(!this.inited)this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{s=r.execCb(n,o,i,s)}catch(u){e=u}else s=r.execCb(n,o,i,s);this.map.isDefine&&s===undefined&&(t=this.module,t?s=t.exports:this.usingExports&&(s=this.exports));if(e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",T(this.error=e)}else s=o;this.exports=s,this.map.isDefine&&!this.ignore&&(c[n]=s,req.onResourceLoad&&req.onResourceLoad(r,this.map,this.depMaps)),C(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}},callPlugin:function(){var e=this.map,t=e.id,n=E(e.prefix);this.depMaps.push(n),x(n,"defined",bind(this,function(n){var i,s,a,f=getOwn(p,this.map.id),l=this.map.name,c=this.map.parentMap?this.map.parentMap.name:null,h=r.makeRequire(e.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){n.normalize&&(l=n.normalize(l,function(e){return g(e,c,!0)})||""),s=E(e.prefix+"!"+l,this.map.parentMap),x(s,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),a=getOwn(u,s.id),a&&(this.depMaps.push(s),this.events.error&&a.on("error",bind(this,function(e){this.emit("error",e)})),a.enable());return}if(f){this.map.url=r.nameToUrl(f),this.load();return}i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(u,function(e){e.map.id.indexOf(t+"_unnormalized")===0&&C(e.map.id)}),T(e)}),i.fromText=bind(this,function(n,s){var u=e.name,a=E(u),f=useInteractive;s&&(n=s),f&&(useInteractive=!1),S(a),hasProp(o.config,t)&&(o.config[u]=o.config[t]);try{req.exec(n)}catch(l){return T(makeError("fromtexteval","fromText eval for "+t+" failed: "+l,l,[t]))}f&&(useInteractive=!0),this.depMaps.push(a),r.completeLoad(u),h([u],i)}),n.load(e.name,h,i,o)})),r.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){a[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,s,o;if(typeof e=="string"){e=E(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,o=getOwn(i,e.id);if(o){this.depExports[t]=o(this);return}this.depCount+=1,x(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback?x(e,"error",bind(this,this.errback)):this.events.error&&x(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,s=u[n],!hasProp(i,n)&&s&&!s.enabled&&r.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(u,e.id);t&&!t.enabled&&r.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),e==="error"&&delete this.events[e]}},r={config:o,contextName:e,registry:u,defined:c,urlFetched:h,defQueue:l,Module:n,makeModuleMap:E,nextTick:req.nextTick,onError:T,configure:function(e){e.baseUrl&&e.baseUrl.charAt(e.baseUrl.length-1)!=="/"&&(e.baseUrl+="/");var t=o.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(o[t]||(o[t]={}),mixin(o[t],e,!0,!0)):o[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(p[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,n){isArray(e)&&(e={deps:e}),(e.exports||e.init)&&!e.exportsFn&&(e.exportsFn=r.makeShimExports(e)),t[n]=e}),o.shim=t),e.packages&&each(e.packages,function(e){var t,n;e=typeof e=="string"?{name:e}:e,n=e.name,t=e.location,t&&(o.paths[n]=e.location),o.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(u,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=E(t))}),(e.deps||e.callback)&&r.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,n){function s(o,a,f){var l,h,p;return n.enableBuildCallback&&a&&isFunction(a)&&(a.__requireJsBuild=!0),typeof o=="string"?isFunction(a)?T(makeError("requireargs","Invalid require call"),f):t&&hasProp(i,o)?i[o](u[t.id]):req.get?req.get(r,o,t,s):(h=E(o,t,!1,!0),l=h.id,hasProp(c,l)?c[l]:T(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(_(),r.nextTick(function(){_(),p=S(E(null,t)),p.skipMap=n.skipMap,p.init(o,a,f,{enabled:!0}),L()}),s)}return n=n||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var n,i=e.lastIndexOf("."),s=e.split("/")[0],o=s==="."||s==="..";return i!==-1&&(!o||i>1)&&(n=e.substring(i,e.length),e=e.substring(0,i)),r.nameToUrl(g(e,t&&t.id,!0),n,!0)},defined:function(e){return hasProp(c,E(e,t,!1,!0).id)},specified:function(e){return e=E(e,t,!1,!0).id,hasProp(c,e)||hasProp(u,e)}}),t||(s.undef=function(e){N();var n=E(e,t,!0),r=getOwn(u,e);y(e),delete c[e],delete h[n.url],delete f[e],eachReverse(l,function(t,n){t[0]===e&&l.splice(n,1)}),r&&(r.events.defined&&(f[e]=r.events),C(e))}),s},enable:function(e){var t=getOwn(u,e.id);t&&S(e).enable()},completeLoad:function(e){var t,n,r,i=getOwn(o.shim,e)||{},s=i.exports;N();while(l.length){n=l.shift();if(n[0]===null){n[0]=e;if(t)break;t=!0}else n[0]===e&&(t=!0);A(n)}r=getOwn(u,e);if(!t&&!hasProp(c,e)&&r&&!r.inited){if(o.enforceDefine&&(!s||!getGlobal(s))){if(b(e))return;return T(makeError("nodefine","No define call for "+e,null,[e]))}A([e,i.deps||[],i.exportsFn])}L()},nameToUrl:function(e,t,n){var i,s,u,a,f,l,c,h=getOwn(o.pkgs,e);h&&(e=h),c=getOwn(p,e);if(c)return r.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))f=e+(t||"");else{i=o.paths,s=e.split("/");for(u=s.length;u>0;u-=1){a=s.slice(0,u).join("/"),l=getOwn(i,a);if(l){isArray(l)&&(l=l[0]),s.splice(0,u,l);break}}f=s.join("/"),f+=t||(/^data\:|\?/.test(f)||n?"":".js"),f=(f.charAt(0)==="/"||f.match(/^[\w\+\.\-]+:/)?"":o.baseUrl)+f}return o.urlArgs?f+((f.indexOf("?")===-1?"?":"&")+o.urlArgs):f},load:function(e,t){req.load(r,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if(e.type==="load"||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=M(e);r.completeLoad(t.id)}},onScriptError:function(e){var t=M(e);if(!b(t.id))return T(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},r.require=r.makeRequire(),r}function getInteractiveScript(){return interactiveScript&&interactiveScript.readyState==="interactive"?interactiveScript:(eachReverse(scripts(),function(e){if(e.readyState==="interactive")return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.16",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=typeof window!="undefined"&&typeof navigator!="undefined"&&!!window.document,isWebWorker=!isBrowser&&typeof importScripts!="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(typeof define!="undefined")return;if(typeof requirejs!="undefined"){if(isFunction(requirejs))return;cfg=requirejs,requirejs=undefined}typeof require!="undefined"&&!isFunction(require)&&(cfg=require,require=undefined),req=requirejs=function(e,t,n,r){var i,s,o=defContextName;return!isArray(e)&&typeof e!="string"&&(s=e,isArray(t)?(e=t,t=n,n=r):e=[]),s&&s.context&&(o=s.context),i=getOwn(contexts,o),i||(i=contexts[o]=req.s.newContext(o)),s&&i.configure(s),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=typeof setTimeout!="undefined"?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,n){var r=e&&e.config||{},i;if(isBrowser)return i=req.createNode(r,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),i.attachEvent&&!(i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0)&&!isOpera?(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)):(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(s){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,s,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){head||(head=e.parentNode),dataMain=e.getAttribute("data-main");if(dataMain)return mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var r,i;typeof e!="string"&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(n.length===1?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),(i?i.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)})(this),define("requirejs",function(){}),function(e,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}(typeof window!="undefined"?window:this,function(e,t){function g(e){var t=e.length,n=h.type(e);return n==="function"||h.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}function S(e,t,n){if(h.isFunction(t))return h.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return h.grep(e,function(e){return e===t!==n});if(typeof t=="string"){if(E.test(t))return h.filter(t,e,n);t=h.filter(t,e)}return h.grep(e,function(e){return h.inArray(e,t)>=0!==n})}function A(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function _(e){var t=M[e]={};return h.each(e.match(O)||[],function(e,n){t[n]=!0}),t}function P(){T.addEventListener?(T.removeEventListener("DOMContentLoaded",H,!1),e.removeEventListener("load",H,!1)):(T.detachEvent("onreadystatechange",H),e.detachEvent("onload",H))}function H(){if(T.addEventListener||event.type==="load"||T.readyState==="complete")P(),h.ready()}function q(e,t,n){if(n===undefined&&e.nodeType===1){var r="data-"+t.replace(I,"-$1").toLowerCase();n=e.getAttribute(r);if(typeof n=="string"){try{n=n==="true"?!0:n==="false"?!1:n==="null"?null:+n+""===n?+n:F.test(n)?h.parseJSON(n):n}catch(i){}h.data(e,t,n)}else n=undefined}return n}function R(e){var t;for(t in e){if(t==="data"&&h.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function U(e,t,r,i){if(!h.acceptData(e))return;var s,o,u=h.expando,a=e.nodeType,f=a?h.cache:e,l=a?e[u]:e[u]&&u;if((!l||!f[l]||!i&&!f[l].data)&&r===undefined&&typeof t=="string")return;l||(a?l=e[u]=n.pop()||h.guid++:l=u),f[l]||(f[l]=a?{}:{toJSON:h.noop});if(typeof t=="object"||typeof t=="function")i?f[l]=h.extend(f[l],t):f[l].data=h.extend(f[l].data,t);return o=f[l],i||(o.data||(o.data={}),o=o.data),r!==undefined&&(o[h.camelCase(t)]=r),typeof t=="string"?(s=o[t],s==null&&(s=o[h.camelCase(t)])):s=o,s}function z(e,t,n){if(!h.acceptData(e))return;var r,i,s=e.nodeType,o=s?h.cache:e,u=s?e[h.expando]:h.expando;if(!o[u])return;if(t){r=n?o[u]:o[u].data;if(r){h.isArray(t)?t=t.concat(h.map(t,h.camelCase)):t in r?t=[t]:(t=h.camelCase(t),t in r?t=[t]:t=t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!R(r):!h.isEmptyObject(r))return}}if(!n){delete o[u].data;if(!R(o[u]))return}s?h.cleanData([e],!0):l.deleteExpando||o!=o.window?delete o[u]:o[u]=null}function et(){return!0}function tt(){return!1}function nt(){try{return T.activeElement}catch(e){}}function rt(e){var t=it.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function wt(e,t){var n,r,i=0,s=typeof e.getElementsByTagName!==B?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==B?e.querySelectorAll(t||"*"):undefined;if(!s)for(s=[],n=e.childNodes||e;(r=n[i])!=null;i++)!t||h.nodeName(r,t)?s.push(r):h.merge(s,wt(r,t));return t===undefined||t&&h.nodeName(e,t)?h.merge([e],s):s}function Et(e){J.test(e.type)&&(e.defaultChecked=e.checked)}function St(e,t){return h.nodeName(e,"table")&&h.nodeName(t.nodeType!==11?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function xt(e){return e.type=(h.find.attr(e,"type")!==null)+"/"+e.type,e}function Tt(e){var t=vt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Nt(e,t){var n,r=0;for(;(n=e[r])!=null;r++)h._data(n,"globalEval",!t||h._data(t[r],"globalEval"))}function Ct(e,t){if(t.nodeType!==1||!h.hasData(e))return;var n,r,i,s=h._data(e),o=h._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)h.event.add(t,n,u[n][r])}o.data&&(o.data=h.extend({},o.data))}function kt(e,t){var n,r,i;if(t.nodeType!==1)return;n=t.nodeName.toLowerCase();if(!l.noCloneEvent&&t[h.expando]){i=h._data(t);for(r in i.events)h.removeEvent(t,r,i.handle);t.removeAttribute(h.expando)}if(n==="script"&&t.text!==e.text)xt(t).text=e.text,Tt(t);else if(n==="object")t.parentNode&&(t.outerHTML=e.outerHTML),l.html5Clone&&e.innerHTML&&!h.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML);else if(n==="input"&&J.test(e.type))t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value);else if(n==="option")t.defaultSelected=t.selected=e.defaultSelected;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function Ot(t,n){var r,i=h(n.createElement(t)).appendTo(n.body),s=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:h.css(i[0],"display");return i.detach(),s}function Mt(e){var t=T,n=At[e];if(!n){n=Ot(e,t);if(n==="none"||!n)Lt=(Lt||h("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Lt[0].contentWindow||Lt[0].contentDocument).document,t.write(),t.close(),n=Ot(e,t),Lt.detach();At[e]=n}return n}function jt(e,t){return{get:function(){var n=e();if(n==null)return;if(n){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function Vt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Xt.length;while(i--){t=Xt[i]+n;if(t in e)return t}return r}function $t(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=h._data(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&V(r)&&(s[o]=h._data(r,"olddisplay",Mt(r.nodeName)))):(i=V(r),(n&&n!=="none"||!i)&&h._data(r,"olddisplay",i?n:h.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function Jt(e,t,n){var r=Rt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Kt(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=h.css(e,n+X[s],!0,i)),r?(n==="content"&&(o-=h.css(e,"padding"+X[s],!0,i)),n!=="margin"&&(o-=h.css(e,"border"+X[s]+"Width",!0,i))):(o+=h.css(e,"padding"+X[s],!0,i),n!=="padding"&&(o+=h.css(e,"border"+X[s]+"Width",!0,i)));return o}function Qt(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=Pt(e),o=l.boxSizing&&h.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=Ht(e,t,s);if(i<0||i==null)i=e.style[t];if(Dt.test(i))return i;r=o&&(l.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Kt(e,t,n||(o?"border":"content"),r,s)+"px"}function Gt(e,t,n,r,i){return new Gt.prototype.init(e,t,n,r,i)}function on(){return setTimeout(function(){Yt=undefined}),Yt=h.now()}function un(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=X[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function an(e,t,n){var r,i=(sn[t]||[]).concat(sn["*"]),s=0,o=i.length;for(;s<o;s++)if(r=i[s].call(n,t,e))return r}function fn(e,t,n){var r,i,s,o,u,a,f,c,p=this,d={},v=e.style,m=e.nodeType&&V(e),g=h._data(e,"fxshow");n.queue||(u=h._queueHooks(e,"fx"),u.unqueued==null&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,p.always(function(){p.always(function(){u.unqueued--,h.queue(e,"fx").length||u.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[v.overflow,v.overflowX,v.overflowY],f=h.css(e,"display"),c=f==="none"?h._data(e,"olddisplay")||Mt(e.nodeName):f,c==="inline"&&h.css(e,"float")==="none"&&(!l.inlineBlockNeedsLayout||Mt(e.nodeName)==="inline"?v.display="inline-block":v.zoom=1)),n.overflow&&(v.overflow="hidden",l.shrinkWrapBlocks()||p.always(function(){v.overflow=n.overflow[0],v.overflowX=n.overflow[1],v.overflowY=n.overflow[2]}));for(r in t){i=t[r];if(en.exec(i)){delete t[r],s=s||i==="toggle";if(i===(m?"hide":"show")){if(i!=="show"||!g||g[r]===undefined)continue;m=!0}d[r]=g&&g[r]||h.style(e,r)}else f=undefined}if(!h.isEmptyObject(d)){g?"hidden"in g&&(m=g.hidden):g=h._data(e,"fxshow",{}),s&&(g.hidden=!m),m?h(e).show():p.done(function(){h(e).hide()}),p.done(function(){var t;h._removeData(e,"fxshow");for(t in d)h.style(e,t,d[t])});for(r in d)o=an(m?g[r]:0,r,p),r in g||(g[r]=o.start,m&&(o.end=o.start,o.start=r==="width"||r==="height"?1:0))}else(f==="none"?Mt(e.nodeName):f)==="inline"&&(v.display=f)}function ln(e,t){var n,r,i,s,o;for(n in e){r=h.camelCase(n),i=t[r],s=e[n],h.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=h.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function cn(e,t,n){var r,i,s=0,o=rn.length,u=h.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=Yt||on(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:h.extend({},t),opts:h.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Yt||on(),duration:n.duration,tweens:[],createTween:function(t,n){var r=h.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;ln(l,f.opts.specialEasing);for(;s<o;s++){r=rn[s].call(f,e,l,f.opts);if(r)return r}return h.map(l,an,f),h.isFunction(f.opts.start)&&f.opts.start.call(e,f),h.fx.timer(h.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Fn(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(O)||[];if(h.isFunction(n))while(r=s[i++])r.charAt(0)==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function In(e,t,n,r){function o(u){var a;return i[u]=!0,h.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===Hn;return o(t.dataTypes[0])||!i["*"]&&o("*")}function qn(e,t){var n,r,i=h.ajaxSettings.flatOptions||{};for(r in t)t[r]!==undefined&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&h.extend(!0,e,n),e}function Rn(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while(a[0]==="*")a.shift(),i===undefined&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in u)if(u[o]&&u[o].test(i)){a.unshift(o);break}if(a[0]in n)s=a[0];else{for(o in n){if(!a[0]||e.converters[o+" "+a[0]]){s=o;break}r||(r=o)}s=s||r}if(s)return s!==a[0]&&a.unshift(s),n[s]}function Un(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s){e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift();if(s)if(s==="*")s=a;else if(a!=="*"&&a!==s){o=f[a+" "+s]||f["* "+s];if(!o)for(i in f){u=i.split(" ");if(u[1]===s){o=f[a+" "+u[0]]||f["* "+u[0]];if(o){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}}}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}}return{state:"success",data:t}}function Jn(e,t,n,r){var i;if(h.isArray(t))h.each(t,function(t,i){n||Wn.test(e)?r(e,i):Jn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&h.type(t)==="object")for(i in t)Jn(e+"["+i+"]",t[i],n,r);else r(e,t)}function Yn(){try{return new e.XMLHttpRequest}catch(t){}}function Zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function ir(e){return h.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n=[],r=n.slice,i=n.concat,s=n.push,o=n.indexOf,u={},a=u.toString,f=u.hasOwnProperty,l={},c="1.11.1",h=function(e,t){return new h.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,d=/^-ms-/,v=/-([\da-z])/gi,m=function(e,t){return t.toUpperCase()};h.fn=h.prototype={jquery:c,constructor:h,selector:"",length:0,toArray:function(){return r.call(this)},get:function(e){return e!=null?e<0?this[e+this.length]:this[e]:r.call(this)},pushStack:function(e){var t=h.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return h.each(this,e,t)},map:function(e){return this.pushStack(h.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:s,sort:n.sort,splice:n.splice},h.extend=h.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;typeof o=="boolean"&&(f=o,o=arguments[u]||{},u++),typeof o!="object"&&!h.isFunction(o)&&(o={}),u===a&&(o=this,u--);for(;u<a;u++)if((i=arguments[u])!=null)for(r in i){e=o[r],n=i[r];if(o===n)continue;f&&n&&(h.isPlainObject(n)||(t=h.isArray(n)))?(t?(t=!1,s=e&&h.isArray(e)?e:[]):s=e&&h.isPlainObject(e)?e:{},o[r]=h.extend(f,s,n)):n!==undefined&&(o[r]=n)}return o},h.extend({expando:"jQuery"+(c+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return h.type(e)==="function"},isArray:Array.isArray||function(e){return h.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!h.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||h.type(e)!=="object"||e.nodeType||h.isWindow(e))return!1;try{if(e.constructor&&!f.call(e,"constructor")&&!f.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(l.ownLast)for(t in e)return f.call(e,t);for(t in e);return t===undefined||f.call(e,t)},type:function(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?u[a.call(e)]||"object":typeof e},globalEval:function(t){t&&h.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(d,"ms-").replace(v,m)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=g(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:function(e){return e==null?"":(e+"").replace(p,"")},makeArray:function(e,t){var n=t||[];return e!=null&&(g(Object(e))?h.merge(n,typeof e=="string"?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(o)return o.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=+t.length,r=0,i=e.length;while(r<n)e[i++]=t[r++];if(n!==n)while(t[r]!==undefined)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length,u=!n;for(;s<o;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,n){var r,s=0,o=e.length,u=g(e),a=[];if(u)for(;s<o;s++)r=t(e[s],s,n),r!=null&&a.push(r);else for(s in e)r=t(e[s],s,n),r!=null&&a.push(r);return i.apply([],a)},guid:1,proxy:function(e,t){var n,i,s;return typeof t=="string"&&(s=e[t],t=e,e=s),h.isFunction(e)?(n=r.call(arguments,2),i=function(){return e.apply(t||this,n.concat(r.call(arguments)))},i.guid=e.guid=e.guid||h.guid++,i):undefined},now:function(){return+(new Date)},support:l}),h.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});var y=function(e){function st(e,t,r,i){var s,u,f,l,c,d,g,y,S,x;(t?t.ownerDocument||t:E)!==p&&h(t),t=t||p,r=r||[];if(!e||typeof e!="string")return r;if((l=t.nodeType)!==1&&l!==9)return[];if(v&&!i){if(s=Z.exec(e))if(f=s[1]){if(l===9){u=t.getElementById(f);if(!u||!u.parentNode)return r;if(u.id===f)return r.push(u),r}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&b(t,u)&&u.id===f)return r.push(u),r}else{if(s[2])return P.apply(r,t.getElementsByTagName(e)),r;if((f=s[3])&&n.getElementsByClassName&&t.getElementsByClassName)return P.apply(r,t.getElementsByClassName(f)),r}if(n.qsa&&(!m||!m.test(e))){y=g=w,S=t,x=l===9&&e;if(l===1&&t.nodeName.toLowerCase()!=="object"){d=o(e),(g=t.getAttribute("id"))?y=g.replace(tt,"\\$&"):t.setAttribute("id",y),y="[id='"+y+"'] ",c=d.length;while(c--)d[c]=y+mt(d[c]);S=et.test(e)&&dt(t.parentNode)||t,x=d.join(",")}if(x)try{return P.apply(r,S.querySelectorAll(x)),r}catch(T){}finally{g||t.removeAttribute("id")}}}return a(e.replace(z,"$1"),t,r,i)}function ot(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function ut(e){return e[w]=!0,e}function at(e){var t=p.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ft(e,t){var n=e.split("|"),i=e.length;while(i--)r.attrHandle[n[i]]=t}function lt(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function pt(e){return ut(function(t){return t=+t,ut(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function dt(e){return e&&typeof e.getElementsByTagName!==L&&e}function vt(){}function mt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function gt(e,t,n){var r=t.dir,i=n&&r==="parentNode",s=x++;return t.first?function(t,n,s){while(t=t[r])if(t.nodeType===1||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[S,s];if(o){while(t=t[r])if(t.nodeType===1||i)if(e(t,n,o))return!0}else while(t=t[r])if(t.nodeType===1||i){a=t[w]||(t[w]={});if((u=a[r])&&u[0]===S&&u[1]===s)return f[2]=u[2];a[r]=f;if(f[2]=e(t,n,o))return!0}}}function yt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function bt(e,t,n){var r=0,i=t.length;for(;r<i;r++)st(e,t[r],n);return n}function wt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function Et(e,t,n,r,i,s){return r&&!r[w]&&(r=Et(r)),i&&!i[w]&&(i=Et(i,s)),ut(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||bt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?wt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=wt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?B.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=wt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):P.apply(o,g)})}function St(e){var t,n,i,s=e.length,o=r.relative[e[0].type],u=o||r.relative[" "],a=o?1:0,l=gt(function(e){return e===t},u,!0),c=gt(function(e){return B.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;a<s;a++)if(n=r.relative[e[a].type])h=[gt(yt(h),n)];else{n=r.filter[e[a].type].apply(null,e[a].matches);if(n[w]){i=++a;for(;i<s;i++)if(r.relative[e[i].type])break;return Et(a>1&&yt(h),a>1&&mt(e.slice(0,a-1).concat({value:e[a-2].type===" "?"*":""})).replace(z,"$1"),n,a<i&&St(e.slice(a,i)),i<s&&St(e=e.slice(i)),i<s&&mt(e))}h.push(n)}return yt(h)}function xt(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,u,a,l){var c,h,d,v=0,m="0",g=s&&[],y=[],b=f,w=s||i&&r.find.TAG("*",l),E=S+=b==null?1:Math.random()||.1,x=w.length;l&&(f=o!==p&&o);for(;m!==x&&(c=w[m])!=null;m++){if(i&&c){h=0;while(d=e[h++])if(d(c,o,u)){a.push(c);break}l&&(S=E)}n&&((c=!d&&c)&&v--,s&&g.push(c))}v+=m;if(n&&m!==v){h=0;while(d=t[h++])d(g,y,o,u);if(s){if(v>0)while(m--)!g[m]&&!y[m]&&(y[m]=_.call(a));y=wt(y)}P.apply(a,y),l&&!s&&y.length>0&&v+t.length>1&&st.uniqueSort(a)}return l&&(S=E,f=b),g};return n?ut(s):s}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w="sizzle"+ -(new Date),E=e.document,S=0,x=0,T=ot(),N=ot(),C=ot(),k=function(e,t){return e===t&&(c=!0),0},L=typeof undefined,A=1<<31,O={}.hasOwnProperty,M=[],_=M.pop,D=M.push,P=M.push,H=M.slice,B=M.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",q=I.replace("w","w#"),R="\\["+F+"*("+I+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+q+"))|)"+F+"*\\]",U=":("+I+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|"+".*"+")\\)|)",z=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),W=new RegExp("^"+F+"*,"+F+"*"),X=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),V=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),$=new RegExp(U),J=new RegExp("^"+q+"$"),K={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I.replace("w","w*")+")"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/[+~]/,tt=/'|\\/g,nt=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),rt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{P.apply(M=H.call(E.childNodes),E.childNodes),M[E.childNodes.length].nodeType}catch(it){P={apply:M.length?function(e,t){D.apply(e,H.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=st.support={},s=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},h=st.setDocument=function(e){var t,i=e?e.ownerDocument||e:E,o=i.defaultView;if(i===p||i.nodeType!==9||!i.documentElement)return p;p=i,d=i.documentElement,v=!s(i),o&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",function(){h()},!1):o.attachEvent&&o.attachEvent("onunload",function(){h()})),n.attributes=at(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=at(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Y.test(i.getElementsByClassName)&&at(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",e.getElementsByClassName("i").length===2}),n.getById=at(function(e){return d.appendChild(e).id=w,!i.getElementsByName||!i.getElementsByName(w).length}),n.getById?(r.find.ID=function(e,t){if(typeof t.getElementById!==L&&v){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){var n=typeof e.getAttributeNode!==L&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==L)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==L&&v)return t.getElementsByClassName(e)},g=[],m=[];if(n.qsa=Y.test(i.querySelectorAll))at(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+j+")"),e.querySelectorAll(":checked").length||m.push(":checked")}),at(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")});return(n.matchesSelector=Y.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&at(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),g.push("!=",U)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Y.test(d.compareDocumentPosition),b=t||Y.test(d.contains)?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return c=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,r&1||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===i||e.ownerDocument===E&&b(E,e)?-1:t===i||t.ownerDocument===E&&b(E,t)?1:l?B.call(l,e)-B.call(l,t):0:r&4?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,s=e.parentNode,o=t.parentNode,u=[e],a=[t];if(!s||!o)return e===i?-1:t===i?1:s?-1:o?1:l?B.call(l,e)-B.call(l,t):0;if(s===o)return lt(e,t);n=e;while(n=n.parentNode)u.unshift(n);n=t;while(n=n.parentNode)a.unshift(n);while(u[r]===a[r])r++;return r?lt(u[r],a[r]):u[r]===E?-1:a[r]===E?1:0},i},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){(e.ownerDocument||e)!==p&&h(e),t=t.replace(V,"='$1']");if(n.matchesSelector&&v&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&e.document.nodeType!==11)return r}catch(i){}return st(t,p,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},st.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=r.attrHandle[t.toLowerCase()],s=i&&O.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):undefined;return s!==undefined?s:n.attributes||!v?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},st.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},st.uniqueSort=function(e){var t,r=[],i=0,s=0;c=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(k);if(c){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return l=null,e},i=st.getText=function(e){var t,n="",r=0,s=e.nodeType;if(!s)while(t=e[r++])n+=i(t);else if(s===1||s===9||s===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(s===3||s===4)return e.nodeValue;return n},r=st.selectors={cacheLength:50,createPseudo:ut,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(nt,rt),e[3]=(e[3]||e[4]||e[5]||"").replace(nt,rt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(nt,rt).toLowerCase();return e==="*"?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&T(e,function(e){return t.test(typeof e.className=="string"&&e.className||typeof e.getAttribute!==L&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&y){l=m[w]||(m[w]={}),f=l[e]||[],p=f[0]===S&&f[1],h=f[0]===S&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[S,p,h];break}}else if(y&&(f=(t[w]||(t[w]={}))[e])&&f[0]===S)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){y&&((c[w]||(c[w]={}))[e]=[S,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ut(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=B.call(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ut(function(e){var t=[],n=[],r=u(e.replace(z,"$1"));return r[w]?ut(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:ut(function(e){return function(t){return st(e,t).length>0}}),contains:ut(function(e){return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:ut(function(e){return J.test(e||"")||st.error("unsupported lang: "+e),e=e.replace(nt,rt).toLowerCase(),function(t){var n;do if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[n<0?n+t:n]}),even:pt(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:pt(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:pt(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:pt(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ct(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=ht(t);return vt.prototype=r.filters=r.pseudos,r.setFilters=new vt,o=st.tokenize=function(e,t){var n,i,s,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){if(!n||(i=W.exec(u)))i&&(u=u.slice(i[0].length)||u),a.push(s=[]);n=!1;if(i=X.exec(u))n=i.shift(),s.push({value:n,type:i[0].replace(z," ")}),u=u.slice(n.length);for(o in r.filter)(i=K[o].exec(u))&&(!f[o]||(i=f[o](i)))&&(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?st.error(e):N(e,a).slice(0)},u=st.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=o(e)),n=t.length;while(n--)s=St(t[n]),s[w]?r.push(s):i.push(s);s=C(e,xt(i,r)),s.selector=e}return s},a=st.select=function(e,t,i,s){var a,f,l,c,h,p=typeof e=="function"&&e,d=!s&&o(e=p.selector||e);i=i||[];if(d.length===1){f=d[0]=d[0].slice(0);if(f.length>2&&(l=f[0]).type==="ID"&&n.getById&&t.nodeType===9&&v&&r.relative[f[1].type]){t=(r.find.ID(l.matches[0].replace(nt,rt),t)||[])[0];if(!t)return i;p&&(t=t.parentNode),e=e.slice(f.shift().value.length)}a=K.needsContext.test(e)?0:f.length;while(a--){l=f[a];if(r.relative[c=l.type])break;if(h=r.find[c])if(s=h(l.matches[0].replace(nt,rt),et.test(f[0].type)&&dt(t.parentNode)||t)){f.splice(a,1),e=s.length&&mt(f);if(!e)return P.apply(i,s),i;break}}}return(p||u(e,d))(s,t,!v,i,et.test(e)&&dt(t.parentNode)||t),i},n.sortStable=w.split("").sort(k).join("")===w,n.detectDuplicates=!!c,h(),n.sortDetached=at(function(e){return e.compareDocumentPosition(p.createElement("div"))&1}),at(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild.getAttribute("href")==="#"})||ft("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}),(!n.attributes||!at(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),e.firstChild.getAttribute("value")===""}))&&ft("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input")return e.defaultValue}),at(function(e){return e.getAttribute("disabled")==null})||ft(j,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),st}(e);h.find=y,h.expr=y.selectors,h.expr[":"]=h.expr.pseudos,h.unique=y.uniqueSort,h.text=y.getText,h.isXMLDoc=y.isXML,h.contains=y.contains;var b=h.expr.match.needsContext,w=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^.[^:#\[\.,]*$/;h.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),t.length===1&&r.nodeType===1?h.find.matchesSelector(r,e)?[r]:[]:h.find.matches(e,h.grep(t,function(e){return e.nodeType===1}))},h.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if(typeof e!="string")return this.pushStack(h(e).filter(function(){for(t=0;t<i;t++)if(h.contains(r[t],this))return!0}));for(t=0;t<i;t++)h.find(e,r[t],n);return n=this.pushStack(i>1?h.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(S(this,e||[],!1))},not:function(e){return this.pushStack(S(this,e||[],!0))},is:function(e){return!!S(this,typeof e=="string"&&b.test(e)?h(e):e||[],!1).length}});var x,T=e.document,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=h.fn.init=function(e,t){var n,r;if(!e)return this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?n=[null,e,null]:n=N.exec(e);if(n&&(n[1]||!t)){if(n[1]){t=t instanceof h?t[0]:t,h.merge(this,h.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:T,!0));if(w.test(n[1])&&h.isPlainObject(t))for(n in t)h.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}r=T.getElementById(n[2]);if(r&&r.parentNode){if(r.id!==n[2])return x.find(e);this.length=1,this[0]=r}return this.context=T,this.selector=e,this}return!t||t.jquery?(t||x).find(e):this.constructor(t).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):h.isFunction(e)?typeof x.ready!="undefined"?x.ready(e):e(h):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),h.makeArray(e,this))};C.prototype=h.fn,x=h(T);var k=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};h.extend({dir:function(e,t,n){var r=[],i=e[t];while(i&&i.nodeType!==9&&(n===undefined||i.nodeType!==1||!h(i).is(n)))i.nodeType===1&&r.push(i),i=i[t];return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}}),h.fn.extend({has:function(e){var t,n=h(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(h.contains(this,n[t]))return!0})},closest:function(e,t){var n,r=0,i=this.length,s=[],o=b.test(e)||typeof e!="string"?h(e,t||this.context):0;for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&h.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?h.unique(s):s)},index:function(e){return e?typeof e=="string"?h.inArray(this[0],h(e)):h.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(h.unique(h.merge(this.get(),h(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),h.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return h.dir(e,"parentNode")},parentsUntil:function(e,t,n){return h.dir(e,"parentNode",n)},next:function(e){return A(e,"nextSibling")},prev:function(e){return A(e,"previousSibling")},nextAll:function(e){return h.dir(e,"nextSibling")},prevAll:function(e){return h.dir(e,"previousSibling")},nextUntil:function(e,t,n){return h.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return h.dir(e,"previousSibling",n)},siblings:function(e){return h.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return h.sibling(e.firstChild)},contents:function(e){return h.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:h.merge([],e.childNodes)}},function(e,t){h.fn[e]=function(n,r){var i=h.map(this,t,n);return e.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(i=h.filter(r,i)),this.length>1&&(L[e]||(i=h.unique(i)),k.test(e)&&(i=i.reverse())),this.pushStack(i)}});var O=/\S+/g,M={};h.Callbacks=function(e){e=typeof e=="string"?M[e]||_(e):h.extend({},e);var t,n,r,i,s,o,u=[],a=!e.once&&[],f=function(c){n=e.memory&&c,r=!0,s=o||0,o=0,i=u.length,t=!0;for(;u&&s<i;s++)if(u[s].apply(c[0],c[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(a?a.length&&f(a.shift()):n?u=[]:l.disable())},l={add:function(){if(u){var r=u.length;(function s(t){h.each(t,function(t,n){var r=h.type(n);r==="function"?(!e.unique||!l.has(n))&&u.push(n):n&&n.length&&r!=="string"&&s(n)})})(arguments),t?i=u.length:n&&(o=r,f(n))}return this},remove:function(){return u&&h.each(arguments,function(e,n){var r;while((r=h.inArray(n,u,r))>-1)u.splice(r,1),t&&(r<=i&&i--,r<=s&&s--)}),this},has:function(e){return e?h.inArray(e,u)>-1:!!u&&!!u.length},empty:function(){return u=[],i=0,this},disable:function(){return u=a=n=undefined,this},disabled:function(){return!u},lock:function(){return a=undefined,n||l.disable(),this},locked:function(){return!a},fireWith:function(e,n){return u&&(!r||a)&&(n=n||[],n=[e,n.slice?n.slice():n],t?a.push(n):f(n)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},h.extend({Deferred:function(e){var t=[["resolve","done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),"rejected"],["notify","progress",h.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return h.Deferred(function(n){h.each(t,function(t,s){var o=h.isFunction(e[t])&&e[t];i[s[1]](function(){var e=o&&o.apply(this,arguments);e&&h.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?h.extend(e,r):r}},i={};return r.pipe=r.then,h.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=r.call(arguments),i=n.length,s=i!==1||e&&h.isFunction(e.promise)?i:0,o=s===1?e:h.Deferred(),u=function(e,t,n){return function(i){t[e]=this,n[e]=arguments.length>1?r.call(arguments):i,n===a?o.notifyWith(t,n):--s||o.resolveWith(t,n)}},a,f,l;if(i>1){a=new Array(i),f=new Array(i),l=new Array(i);for(;t<i;t++)n[t]&&h.isFunction(n[t].promise)?n[t].promise().done(u(t,l,n)).fail(o.reject).progress(u(t,f,a)):--s}return s||o.resolveWith(l,n),o.promise()}});var D;h.fn.ready=function(e){return h.ready.promise().done(e),this},h.extend({isReady:!1,readyWait:1,holdReady:function(e){e?h.readyWait++:h.ready(!0)},ready:function(e){if(e===!0?--h.readyWait:h.isReady)return;if(!T.body)return setTimeout(h.ready);h.isReady=!0;if(e!==!0&&--h.readyWait>0)return;D.resolveWith(T,[h]),h.fn.triggerHandler&&(h(T).triggerHandler("ready"),h(T).off("ready"))}}),h.ready.promise=function(t){if(!D){D=h.Deferred();if(T.readyState==="complete")setTimeout(h.ready);else if(T.addEventListener)T.addEventListener("DOMContentLoaded",H,!1),e.addEventListener("load",H,!1);else{T.attachEvent("onreadystatechange",H),e.attachEvent("onload",H);var n=!1;try{n=e.frameElement==null&&T.documentElement}catch(r){}n&&n.doScroll&&function i(){if(!h.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}P(),h.ready()}}()}}return D.promise(t)};var B=typeof undefined,j;for(j in h(l))break;l.ownLast=j!=="0",l.inlineBlockNeedsLayout=!1,h(function(){var e,t,n,r;n=T.getElementsByTagName("body")[0];if(!n||!n.style)return;t=T.createElement("div"),r=T.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==B&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",l.inlineBlockNeedsLayout=e=t.offsetWidth===3,e&&(n.style.zoom=1)),n.removeChild(r)}),function(){var e=T.createElement("div");if(l.deleteExpando==null){l.deleteExpando=!0;try{delete e.test}catch(t){l.deleteExpando=!1}}e=null}(),h.acceptData=function(e){var t=h.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return n!==1&&n!==9?!1:!t||t!==!0&&e.getAttribute("classid")===t};var F=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,I=/([A-Z])/g;h.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?h.cache[e[h.expando]]:e[h.expando],!!e&&!R(e)},data:function(e,t,n){return U(e,t,n)},removeData:function(e,t){return z(e,t)},_data:function(e,t,n){return U(e,t,n,!0)},_removeData:function(e,t){return z(e,t,!0)}}),h.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(e===undefined){if(this.length){i=h.data(s);if(s.nodeType===1&&!h._data(s,"parsedAttrs")){n=o.length;while(n--)o[n]&&(r=o[n].name,r.indexOf("data-")===0&&(r=h.camelCase(r.slice(5)),q(s,r,i[r])));h._data(s,"parsedAttrs",!0)}}return i}return typeof e=="object"?this.each(function(){h.data(this,e)}):arguments.length>1?this.each(function(){h.data(this,e,t)}):s?q(s,e,h.data(s,e)):undefined},removeData:function(e){return this.each(function(){h.removeData(this,e)})}}),h.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=h._data(e,t),n&&(!r||h.isArray(n)?r=h._data(e,t,h.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=h.queue(e,t),r=n.length,i=n.shift(),s=h._queueHooks(e,t),o=function(){h.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return h._data(e,n)||h._data(e,n,{empty:h.Callbacks("once memory").add(function(){h._removeData(e,t+"queue"),h._removeData(e,n)})})}}),h.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?h.queue(this[0],e):t===undefined?this:this.each(function(){var n=h.queue(this,e,t);h._queueHooks(this,e),e==="fx"&&n[0]!=="inprogress"&&h.dequeue(this,e)})},dequeue:function(e){return this.each(function(){h.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=h.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};typeof e!="string"&&(t=e,e=undefined),e=e||"fx";while(o--)n=h._data(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var W=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,X=["Top","Right","Bottom","Left"],V=function(e,t){return e=t||e,h.css(e,"display")==="none"||!h.contains(e.ownerDocument,e)},$=h.access=function(e,t,n,r,i,s,o){var u=0,a=e.length,f=n==null;if(h.type(n)==="object"){i=!0;for(u in n)h.access(e,t,u,n[u],!0,s,o)}else if(r!==undefined){i=!0,h.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(h(e),n)}));if(t)for(;u<a;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)))}return i?e:f?t.call(e):a?t(e[0],n):s},J=/^(?:checkbox|radio)$/i;(function(){var e=T.createElement("input"),t=T.createElement("div"),n=T.createDocumentFragment();t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",l.leadingWhitespace=t.firstChild.nodeType===3,l.tbody=!t.getElementsByTagName("tbody").length,l.htmlSerialize=!!t.getElementsByTagName("link").length,l.html5Clone=T.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",e.type="checkbox",e.checked=!0,n.appendChild(e),l.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){l.noCloneEvent=!1}),t.cloneNode(!0).click());if(l.deleteExpando==null){l.deleteExpando=!0;try{delete t.test}catch(r){l.deleteExpando=!1}}})(),function(){var t,n,r=T.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(l[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),l[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var K=/^(?:input|select|textarea)$/i,Q=/^key/,G=/^(?:mouse|pointer|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=/^([^.]*)(?:\.(.+)|)$/;h.event={global:{},add:function(e,t,n,r,i){var s,o,u,a,f,l,c,p,d,v,m,g=h._data(e);if(!g)return;n.handler&&(a=n,n=a.handler,i=a.selector),n.guid||(n.guid=h.guid++),(o=g.events)||(o=g.events={}),(l=g.handle)||(l=g.handle=function(e){return typeof h===B||!!e&&h.event.triggered===e.type?undefined:h.event.dispatch.apply(l.elem,arguments)},l.elem=e),t=(t||"").match(O)||[""],u=t.length;while(u--){s=Z.exec(t[u])||[],d=m=s[1],v=(s[2]||"").split(".").sort();if(!d)continue;f=h.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=h.event.special[d]||{},c=h.extend({type:d,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&h.expr.match.needsContext.test(i),namespace:v.join(".")},a);if(!(p=o[d])){p=o[d]=[],p.delegateCount=0;if(!f.setup||f.setup.call(e,r,v,l)===!1)e.addEventListener?e.addEventListener(d,l,!1):e.attachEvent&&e.attachEvent("on"+d,l)}f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),h.event.global[d]=!0}e=null},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,p,d,v,m,g=h.hasData(e)&&h._data(e);if(!g||!(l=g.events))return;t=(t||"").match(O)||[""],f=t.length;while(f--){u=Z.exec(t[f])||[],d=m=u[1],v=(u[2]||"").split(".").sort();if(!d){for(d in l)h.event.remove(e,d+t[f],n,r,!0);continue}c=h.event.special[d]||{},d=(r?c.delegateType:c.bindType)||d,p=l[d]||[],u=u[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=p.length;while(s--)o=p[s],(i||m===o.origType)&&(!n||n.guid===o.guid)&&(!u||u.test(o.namespace))&&(!r||r===o.selector||r==="**"&&o.selector)&&(p.splice(s,1),o.selector&&p.delegateCount--,c.remove&&c.remove.call(e,o));a&&!p.length&&((!c.teardown||c.teardown.call(e,v,g.handle)===!1)&&h.removeEvent(e,d,g.handle),delete l[d])}h.isEmptyObject(l)&&(delete g.handle,h._removeData(e,"events"))},trigger:function(t,n,r,i){var s,o,u,a,l,c,p,d=[r||T],v=f.call(t,"type")?t.type:t,m=f.call(t,"namespace")?t.namespace.split("."):[];u=c=r=r||T;if(r.nodeType===3||r.nodeType===8)return;if(Y.test(v+h.event.triggered))return;v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),o=v.indexOf(":")<0&&"on"+v,t=t[h.expando]?t:new h.Event(v,typeof t=="object"&&t),t.isTrigger=i?2:3,t.namespace=m.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=r),n=n==null?[t]:h.makeArray(n,[t]),l=h.event.special[v]||{};if(!i&&l.trigger&&l.trigger.apply(r,n)===!1)return;if(!i&&!l.noBubble&&!h.isWindow(r)){a=l.delegateType||v,Y.test(a+v)||(u=u.parentNode);for(;u;u=u.parentNode)d.push(u),c=u;c===(r.ownerDocument||T)&&d.push(c.defaultView||c.parentWindow||e)}p=0;while((u=d[p++])&&!t.isPropagationStopped())t.type=p>1?a:l.bindType||v,s=(h._data(u,"events")||{})[t.type]&&h._data(u,"handle"),s&&s.apply(u,n),s=o&&u[o],s&&s.apply&&h.acceptData(u)&&(t.result=s.apply(u,n),t.result===!1&&t.preventDefault());t.type=v;if(!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(d.pop(),n)===!1)&&h.acceptData(r)&&o&&r[v]&&!h.isWindow(r)){c=r[o],c&&(r[o]=null),h.event.triggered=v;try{r[v]()}catch(g){}h.event.triggered=undefined,c&&(r[o]=c)}return t.result},dispatch:function(e){e=h.event.fix(e);var t,n,i,s,o,u=[],a=r.call(arguments),f=(h._data(this,"events")||{})[e.type]||[],l=h.event.special[e.type]||{};a[0]=e,e.delegateTarget=this;if(l.preDispatch&&l.preDispatch.call(this,e)===!1)return;u=h.event.handlers.call(this,e,f),t=0;while((s=u[t++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,o=0;while((i=s.handlers[o++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(i.namespace))e.handleObj=i,e.data=i.data,n=((h.event.special[i.origType]||{}).handle||i.handler).apply(s.elem,a),n!==undefined&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation())}return l.postDispatch&&l.postDispatch.call(this,e),e.result},handlers:function(e,t){var n,r,i,s,o=[],u=t.delegateCount,a=e.target;if(u&&a.nodeType&&(!e.button||e.type!=="click"))for(;a!=this;a=a.parentNode||this)if(a.nodeType===1&&(a.disabled!==!0||e.type!=="click")){i=[];for(s=0;s<u;s++)r=t[s],n=r.selector+" ",i[n]===undefined&&(i[n]=r.needsContext?h(n,this).index(a)>=0:h.find(n,this,null,[a]).length),i[n]&&i.push(r);i.length&&o.push({elem:a,handlers:i})}return u<t.length&&o.push({elem:this,handlers:t.slice(u)}),o},fix:function(e){if(e[h.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];o||(this.fixHooks[i]=o=G.test(i)?this.mouseHooks:Q.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new h.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=s.srcElement||T),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button,o=t.fromElement;return e.pageX==null&&t.clientX!=null&&(r=e.target.ownerDocument||T,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),!e.which&&s!==undefined&&(e.which=s&1?1:s&2?3:s&4?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==nt()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===nt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(h.nodeName(this,"input")&&this.type==="checkbox"&&this.click)return this.click(),!1},_default:function(e){return h.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=h.extend(new h.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?h.event.trigger(i,null,t):h.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},h.removeEvent=T.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===B&&(e[r]=null),e.detachEvent(r,n))},h.Event=function(e,t){if(!(this instanceof h.Event))return new h.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.returnValue===!1?et:tt):this.type=e,t&&h.extend(this,t),this.timeStamp=e&&e.timeStamp||h.now(),this[h.expando]=!0},h.Event.prototype={isDefaultPrevented:tt,isPropagationStopped:tt,isImmediatePropagationStopped:tt,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=et;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=et;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=et,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){h.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!h.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),l.submitBubbles||(h.event.special.submit={setup:function(){if(h.nodeName(this,"form"))return!1;h.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=h.nodeName(t,"input")||h.nodeName(t,"button")?t.form:undefined;n&&!h._data(n,"submitBubbles")&&(h.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),h._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&h.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(h.nodeName(this,"form"))return!1;h.event.remove(this,"._submit")}}),l.changeBubbles||(h.event.special.change={setup:function(){if(K.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")h.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),h.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),h.event.simulate("change",this,e,!0)});return!1}h.event.add(this,"beforeactivate._change",function(e){var t=e.target;K.test(t.nodeName)&&!h._data(t,"changeBubbles")&&(h.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&h.event.simulate("change",this.parentNode,e,!0)}),h._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return h.event.remove(this,"._change"),!K.test(this.nodeName)}}),l.focusinBubbles||h.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){h.event.simulate(t,e.target,h.event.fix(e),!0)};h.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=h._data(r,t);i||r.addEventListener(e,n,!0),h._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=h._data(r,t)-1;i?h._data(r,t,i):(r.removeEventListener(e,n,!0),h._removeData(r,t))}}}),h.fn.extend({on:function(e,t,n,r,i){var s,o;if(typeof e=="object"){typeof t!="string"&&(n=n||t,t=undefined);for(s in e)this.on(s,t,n,e[s],i);return this}n==null&&r==null?(r=t,n=t=undefined):r==null&&(typeof t=="string"?(r=n,n=undefined):(r=n,n=t,t=undefined));if(r===!1)r=tt;else if(!r)return this;return i===1&&(o=r,r=function(e){return h().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=h.guid++)),this.each(function(){h.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,h(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if(typeof e=="object"){for(i in e)this.off(i,t,e[i]);return this}if(t===!1||typeof t=="function")n=t,t=undefined;return n===!1&&(n=tt),this.each(function(){h.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){h.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return h.event.trigger(e,t,n,!0)}});var it="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",st=/ jQuery\d+="(?:null|\d+)"/g,ot=new RegExp("<(?:"+it+")[\\s/>]","i"),ut=/^\s+/,at=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ft=/<([\w:]+)/,lt=/<tbody/i,ct=/<|&#?\w+;/,ht=/<(?:script|style|link)/i,pt=/checked\s*(?:[^=]|=\s*.checked.)/i,dt=/^$|\/(?:java|ecma)script/i,vt=/^true\/(.*)/,mt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,gt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},yt=rt(T),bt=yt.appendChild(T.createElement("div"));gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,h.extend({clone:function(e,t,n){var r,i,s,o,u,a=h.contains(e.ownerDocument,e);l.html5Clone||h.isXMLDoc(e)||!ot.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(bt.innerHTML=e.outerHTML,bt.removeChild(s=bt.firstChild));if((!l.noCloneEvent||!l.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!h.isXMLDoc(e)){r=wt(s),u=wt(e);for(o=0;(i=u[o])!=null;++o)r[o]&&kt(i,r[o])}if(t)if(n){u=u||wt(e),r=r||wt(s);for(o=0;(i=u[o])!=null;o++)Ct(i,r[o])}else Ct(e,s);return r=wt(s,"script"),r.length>0&&Nt(r,!a&&wt(e,"script")),r=u=i=null,s},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,c,p=e.length,d=rt(t),v=[],m=0;for(;m<p;m++){s=e[m];if(s||s===0)if(h.type(s)==="object")h.merge(v,s.nodeType?[s]:s);else if(!ct.test(s))v.push(t.createTextNode(s));else{u=u||d.appendChild(t.createElement("div")),a=(ft.exec(s)||["",""])[1].toLowerCase(),c=gt[a]||gt._default,u.innerHTML=c[1]+s.replace(at,"<$1></$2>")+c[2],i=c[0];while(i--)u=u.lastChild;!l.leadingWhitespace&&ut.test(s)&&v.push(t.createTextNode(ut.exec(s)[0]));if(!l.tbody){s=a==="table"&&!lt.test(s)?u.firstChild:c[1]==="<table>"&&!lt.test(s)?u:0,i=s&&s.childNodes.length;while(i--)h.nodeName(f=s.childNodes[i],"tbody")&&!f.childNodes.length&&s.removeChild(f)}h.merge(v,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=d.lastChild}}u&&d.removeChild(u),l.appendChecked||h.grep(wt(v,"input"),Et),m=0;while(s=v[m++]){if(r&&h.inArray(s,r)!==-1)continue;o=h.contains(s.ownerDocument,s),u=wt(d.appendChild(s),"script"),o&&Nt(u);if(n){i=0;while(s=u[i++])dt.test(s.type||"")&&n.push(s)}}return u=null,d},cleanData:function(e,t){var r,i,s,o,u=0,a=h.expando,f=h.cache,c=l.deleteExpando,p=h.event.special;for(;(r=e[u])!=null;u++)if(t||h.acceptData(r)){s=r[a],o=s&&f[s];if(o){if(o.events)for(i in o.events)p[i]?h.event.remove(r,i):h.removeEvent(r,i,o.handle);f[s]&&(delete f[s],c?delete r[a]:typeof r.removeAttribute!==B?r.removeAttribute(a):r[a]=null,n.push(s))}}}}),h.fn.extend({text:function(e){return $(this,function(e){return e===undefined?h.text(this):this.empty().append((this[0]&&this[0].ownerDocument||T).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=St(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=St(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?h.filter(e,this):this,i=0;for(;(n=r[i])!=null;i++)!t&&n.nodeType===1&&h.cleanData(wt(n)),n.parentNode&&(t&&h.contains(n.ownerDocument,n)&&Nt(wt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&h.cleanData(wt(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&h.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return h.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined)return t.nodeType===1?t.innerHTML.replace(st,""):undefined;if(typeof e=="string"&&!ht.test(e)&&(l.htmlSerialize||!ot.test(e))&&(l.leadingWhitespace||!ut.test(e))&&!gt[(ft.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(at,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},t.nodeType===1&&(h.cleanData(wt(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,h.cleanData(wt(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=i.apply([],e);var n,r,s,o,u,a,f=0,c=this.length,p=this,d=c-1,v=e[0],m=h.isFunction(v);if(m||c>1&&typeof v=="string"&&!l.checkClone&&pt.test(v))return this.each(function(n){var r=p.eq(n);m&&(e[0]=v.call(this,n,r.html())),r.domManip(e,t)});if(c){a=h.buildFragment(e,this[0].ownerDocument,!1,this),n=a.firstChild,a.childNodes.length===1&&(a=n);if(n){o=h.map(wt(a,"script"),xt),s=o.length;for(;f<c;f++)r=a,f!==d&&(r=h.clone(r,!0,!0),s&&h.merge(o,wt(r,"script"))),t.call(this[f],r,f);if(s){u=o[o.length-1].ownerDocument,h.map(o,Tt);for(f=0;f<s;f++)r=o[f],dt.test(r.type||"")&&!h._data(r,"globalEval")&&h.contains(u,r)&&(r.src?h._evalUrl&&h._evalUrl(r.src):h.globalEval((r.text||r.textContent||r.innerHTML||"").replace(mt,"")))}a=n=null}}return this}}),h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){h.fn[e]=function(e){var n,r=0,i=[],o=h(e),u=o.length-1;for(;r<=u;r++)n=r===u?this:this.clone(!0),h(o[r])[t](n),s.apply(i,n.get());return this.pushStack(i)}});var Lt,At={};(function(){var e;l.shrinkWrapBlocks=function(){if(e!=null)return e;e=!1;var t,n,r;n=T.getElementsByTagName("body")[0];if(!n||!n.style)return;return t=T.createElement("div"),r=T.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==B&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(T.createElement("div")).style.width="5px",e=t.offsetWidth!==3),n.removeChild(r),e}})();var _t=/^margin/,Dt=new RegExp("^("+W+")(?!px)[a-z%]+$","i"),Pt,Ht,Bt=/^(top|right|bottom|left)$/;e.getComputedStyle?(Pt=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},Ht=function(e,t,n){var r,i,s,o,u=e.style;return n=n||Pt(e),o=n?n.getPropertyValue(t)||n[t]:undefined,n&&(o===""&&!h.contains(e.ownerDocument,e)&&(o=h.style(e,t)),Dt.test(o)&&_t.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=i,u.maxWidth=s)),o===undefined?o:o+""}):T.documentElement.currentStyle&&(Pt=function(e){return e.currentStyle},Ht=function(e,t,n){var r,i,s,o,u=e.style;return n=n||Pt(e),o=n?n[t]:undefined,o==null&&u&&u[t]&&(o=u[t]),Dt.test(o)&&!Bt.test(t)&&(r=u.left,i=e.runtimeStyle,s=i&&i.left,s&&(i.left=e.currentStyle.left),u.left=t==="fontSize"?"1em":o,o=u.pixelLeft+"px",u.left=r,s&&(i.left=s)),o===undefined?o:o+""||"auto"}),function(){function a(){var t,n,r,a;n=T.getElementsByTagName("body")[0];if(!n||!n.style)return;t=T.createElement("div"),r=T.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",i=s=!1,u=!0,e.getComputedStyle&&(i=(e.getComputedStyle(t,null)||{}).top!=="1%",s=(e.getComputedStyle(t,null)||{width:"4px"}).width==="4px",a=t.appendChild(T.createElement("div")),a.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",a.style.marginRight=a.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(a,null)||{}).marginRight)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=t.getElementsByTagName("td"),a[0].style.cssText="margin:0;border:0;padding:0;display:none",o=a[0].offsetHeight===0,o&&(a[0].style.display="",a[1].style.display="none",o=a[0].offsetHeight===0),n.removeChild(r)}var t,n,r,i,s,o,u;t=T.createElement("div"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=r&&r.style;if(!n)return;n.cssText="float:left;opacity:.5",l.opacity=n.opacity==="0.5",l.cssFloat=!!n.cssFloat,t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle=t.style.backgroundClip==="content-box",l.boxSizing=n.boxSizing===""||n.MozBoxSizing===""||n.WebkitBoxSizing==="",h.extend(l,{reliableHiddenOffsets:function(){return o==null&&a(),o},boxSizingReliable:function(){return s==null&&a(),s},pixelPosition:function(){return i==null&&a(),i},reliableMarginRight:function(){return u==null&&a(),u}})}(),h.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var Ft=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,qt=/^(none|table(?!-c[ea]).+)/,Rt=new RegExp("^("+W+")(.*)$","i"),Ut=new RegExp("^([+-])=("+W+")","i"),zt={position:"absolute",visibility:"hidden",display:"block"},Wt={letterSpacing:"0",fontWeight:"400"},Xt=["Webkit","O","Moz","ms"];h.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ht(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var i,s,o,u=h.camelCase(t),a=e.style;t=h.cssProps[u]||(h.cssProps[u]=Vt(a,u)),o=h.cssHooks[t]||h.cssHooks[u];if(n===undefined)return o&&"get"in o&&(i=o.get(e,!1,r))!==undefined?i:a[t];s=typeof n,s==="string"&&(i=Ut.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(h.css(e,t)),s="number");if(n==null||n!==n)return;s==="number"&&!h.cssNumber[u]&&(n+="px"),!l.clearCloneStyle&&n===""&&t.indexOf("background")===0&&(a[t]="inherit");if(!o||!("set"in o)||(n=o.set(e,n,r))!==undefined)try{a[t]=n}catch(f){}},css:function(e,t,n,r){var i,s,o,u=h.camelCase(t);return t=h.cssProps[u]||(h.cssProps[u]=Vt(e.style,u)),o=h.cssHooks[t]||h.cssHooks[u],o&&"get"in o&&(s=o.get(e,!0,n)),s===undefined&&(s=Ht(e,t,r)),s==="normal"&&t in Wt&&(s=Wt[t]),n===""||n?(i=parseFloat(s),n===!0||h.isNumeric(i)?i||0:s):s}}),h.each(["height","width"],function(e,t){h.cssHooks[t]={get:function(e,n,r){if(n)return qt.test(h.css(e,"display"))&&e.offsetWidth===0?h.swap(e,zt,function(){return Qt(e,t,r)}):Qt(e,t,r)},set:function(e,n,r){var i=r&&Pt(e);return Jt(e,n,r?Kt(e,t,r,l.boxSizing&&h.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),l.opacity||(h.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=h.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if((t>=1||t==="")&&h.trim(s.replace(Ft,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(t===""||r&&!r.filter)return}n.filter=Ft.test(s)?s.replace(Ft,i):s+" "+i}}),h.cssHooks.marginRight=jt(l.reliableMarginRight,function(e,t){if(t)return h.swap(e,{display:"inline-block"},Ht,[e,"marginRight"])}),h.each({margin:"",padding:"",border:"Width"},function(e,t){h.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+X[r]+t]=s[r]||s[r-2]||s[0];return i}},_t.test(e)||(h.cssHooks[e+t].set=Jt)}),h.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,s={},o=0;if(h.isArray(t)){r=Pt(e),i=t.length;for(;o<i;o++)s[t[o]]=h.css(e,t[o],!1,r);return s}return n!==undefined?h.style(e,t,n):h.css(e,t)},e,t,arguments.length>1)},show:function(){return $t(this,!0)},hide:function(){return $t(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){V(this)?h(this).show():h(this).hide()})}}),h.Tween=Gt,Gt.prototype={constructor:Gt,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(h.cssNumber[n]?"":"px")},cur:function(){var e=Gt.propHooks[this.prop];return e&&e.get?e.get(this):Gt.propHooks._default.get(this)},run:function(e){var t,n=Gt.propHooks[this.prop];return this.options.duration?this.pos=t=h.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Gt.propHooks._default.set(this),this}},Gt.prototype.init.prototype=Gt.prototype,Gt.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=h.css(e.elem,e.prop,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){h.fx.step[e.prop]?h.fx.step[e.prop](e):e.elem.style&&(e.elem.style[h.cssProps[e.prop]]!=null||h.cssHooks[e.prop])?h.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Gt.propHooks.scrollTop=Gt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},h.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},h.fx=Gt.prototype.init,h.fx.step={};var Yt,Zt,en=/^(?:toggle|show|hide)$/,tn=new RegExp("^(?:([+-])=|)("+W+")([a-z%]*)$","i"),nn=/queueHooks$/,rn=[fn],sn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=tn.exec(t),s=i&&i[3]||(h.cssNumber[e]?"":"px"),o=(h.cssNumber[e]||s!=="px"&&+r)&&tn.exec(h.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,h.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&u!==1&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};h.Animation=h.extend(cn,{tweener:function(e,t){h.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],sn[n]=sn[n]||[],sn[n].unshift(t)},prefilter:function(e,t){t?rn.unshift(e):rn.push(e)}}),h.speed=function(e,t,n){var r=e&&typeof e=="object"?h.extend({},e):{complete:n||!n&&t||h.isFunction(e)&&e,duration:e,easing:n&&t||t&&!h.isFunction(t)&&t};r.duration=h.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in h.fx.speeds?h.fx.speeds[r.duration]:h.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){h.isFunction(r.old)&&r.old.call(this),r.queue&&h.dequeue(this,r.queue)},r},h.fn.extend({fadeTo:function(e,t,n,r){return this.filter(V).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=h.isEmptyObject(e),s=h.speed(t,n,r),o=function(){var t=cn(this,h.extend({},e),s);(i||h._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return typeof e!="string"&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=e!=null&&e+"queueHooks",s=h.timers,o=h._data(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&nn.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem===this&&(e==null||s[i].queue===e)&&(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&h.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=h._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=h.timers,o=r?r.length:0;n.finish=!0,h.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),h.each(["toggle","show","hide"],function(e,t){var n=h.fn[t];h.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(un(t,!0),e,r,i)}}),h.each({slideDown:un("show"),slideUp:un("hide"),slideToggle:un("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){h.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),h.timers=[],h.fx.tick=function(){var e,t=h.timers,n=0;Yt=h.now();for(;n<t.length;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1);t.length||h.fx.stop(),Yt=undefined},h.fx.timer=function(e){h.timers.push(e),e()?h.fx.start():h.timers.pop()},h.fx.interval=13,h.fx.start=function(){Zt||(Zt=setInterval(h.fx.tick,h.fx.interval))},h.fx.stop=function(){clearInterval(Zt),Zt=null},h.fx.speeds={slow:600,fast:200,_default:400},h.fn.delay=function(e,t){return e=h.fx?h.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=T.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=T.createElement("select"),i=n.appendChild(T.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",l.getSetAttribute=t.className!=="t",l.style=/top/.test(r.getAttribute("style")),l.hrefNormalized=r.getAttribute("href")==="/a",l.checkOn=!!e.value,l.optSelected=i.selected,l.enctype=!!T.createElement("form").enctype,n.disabled=!0,l.optDisabled=!i.disabled,e=T.createElement("input"),e.setAttribute("value",""),l.input=e.getAttribute("value")==="",e.value="t",e.setAttribute("type","radio"),l.radioValue=e.value==="t"}();var hn=/\r/g;h.fn.extend({val:function(e){var t,n,r,i=this[0];if(!arguments.length){if(i)return t=h.valHooks[i.type]||h.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,typeof n=="string"?n.replace(hn,""):n==null?"":n);return}return r=h.isFunction(e),this.each(function(n){var i;if(this.nodeType!==1)return;r?i=e.call(this,n,h(this).val()):i=e,i==null?i="":typeof i=="number"?i+="":h.isArray(i)&&(i=h.map(i,function(e){return e==null?"":e+""})),t=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()];if(!t||!("set"in t)||t.set(this,i,"value")===undefined)this.value=i})}}),h.extend({valHooks:{option:{get:function(e){var t=h.find.attr(e,"value");return t!=null?t:h.trim(h.text(e))}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(l.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!h.nodeName(n.parentNode,"optgroup"))){t=h(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n,r,i=e.options,s=h.makeArray(t),o=i.length;while(o--){r=i[o];if(h.inArray(h.valHooks.option.get(r),s)>=0)try{r.selected=n=!0}catch(u){r.scrollHeight}else r.selected=!1}return n||(e.selectedIndex=-1),i}}}}),h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function(e,t){if(h.isArray(t))return e.checked=h.inArray(h(e).val(),t)>=0}},l.checkOn||(h.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})});var pn,dn,vn=h.expr.attrHandle,mn=/^(?:checked|selected)$/i,gn=l.getSetAttribute,yn=l.input;h.fn.extend({attr:function(e,t){return $(this,h.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){h.removeAttr(this,e)})}}),h.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(!e||s===3||s===8||s===2)return;if(typeof e.getAttribute===B)return h.prop(e,t,n);if(s!==1||!h.isXMLDoc(e))t=t.toLowerCase(),r=h.attrHooks[t]||(h.expr.match.bool.test(t)?dn:pn);if(n===undefined)return r&&"get"in r&&(i=r.get(e,t))!==null?i:(i=h.find.attr(e,t),i==null?undefined:i);if(n!==null)return r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:(e.setAttribute(t,n+""),n);h.removeAttr(e,t)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(O);if(s&&e.nodeType===1)while(n=s[i++])r=h.propFix[n]||n,h.expr.match.bool.test(n)?yn&&gn||!mn.test(n)?e[r]=!1:e[h.camelCase("default-"+n)]=e[r]=!1:h.attr(e,n,""),e.removeAttribute(gn?n:r)},attrHooks:{type:{set:function(e,t){if(!l.radioValue&&t==="radio"&&h.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),dn={set:function(e,t,n){return t===!1?h.removeAttr(e,n):yn&&gn||!mn.test(n)?e.setAttribute(!gn&&h.propFix[n]||n,n):e[h.camelCase("default-"+n)]=e[n]=!0,n}},h.each(h.expr.match.bool.source.match(/\w+/g),function(e,t){var n=vn[t]||h.find.attr;vn[t]=yn&&gn||!mn.test(t)?function(e,t,r){var i,s;return r||(s=vn[t],vn[t]=i,i=n(e,t,r)!=null?t.toLowerCase():null,vn[t]=s),i}:function(e,t,n){if(!n)return e[h.camelCase("default-"+t)]?t.toLowerCase():null}});if(!yn||!gn)h.attrHooks.value={set:function(e,t,n){if(!h.nodeName(e,"input"))return pn&&pn.set(e,t,n);e.defaultValue=t}};gn||(pn={set:function(e,t,n){var r=e.getAttributeNode(n);r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="";if(n==="value"||t===e.getAttribute(n))return t}},vn.id=vn.name=vn.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&r.value!==""?r.value:null},h.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:pn.set},h.attrHooks.contenteditable={set:function(e,t,n){pn.set(e,t===""?!1:t,n)}},h.each(["width","height"],function(e,t){h.attrHooks[t]={set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}}})),l.style||(h.attrHooks.style={get:function(e){return e.style.cssText||undefined},set:function(e,t){return e.style.cssText=t+""}});var bn=/^(?:input|select|textarea|button|object)$/i,wn=/^(?:a|area)$/i;h.fn.extend({prop:function(e,t){return $(this,h.prop,e,t,arguments.length>1)},removeProp:function(e){return e=h.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(t){}})}}),h.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,s,o=e.nodeType;if(!e||o===3||o===8||o===2)return;return s=o!==1||!h.isXMLDoc(e),s&&(t=h.propFix[t]||t,i=h.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&(r=i.get(e,t))!==null?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=h.find.attr(e,"tabindex");return t?parseInt(t,10):bn.test(e.nodeName)||wn.test(e.nodeName)&&e.href?0:-1}}}}),l.hrefNormalized||h.each(["href","src"],function(e,t){h.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),l.optSelected||(h.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),h.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){h.propFix[this.toLowerCase()]=this}),l.enctype||(h.propFix.enctype="encoding");var En=/[\t\r\n\f]/g;h.fn.extend({addClass:function(e){var t,n,r,i,s,o,u=0,a=this.length,f=typeof e=="string"&&e;if(h.isFunction(e))return this.each(function(t){h(this).addClass(e.call(this,t,this.className))});if(f){t=(e||"").match(O)||[];for(;u<a;u++){n=this[u],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(En," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=h.trim(r),n.className!==o&&(n.className=o)}}}return this},removeClass:function(e){var t,n,r,i,s,o,u=0,a=this.length,f=arguments.length===0||typeof e=="string"&&e;if(h.isFunction(e))return this.each(function(t){h(this).removeClass(e.call(this,t,this.className))});if(f){t=(e||"").match(O)||[];for(;u<a;u++){n=this[u],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(En," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");o=e?h.trim(r):"",n.className!==o&&(n.className=o)}}}return this},toggleClass:function(e,t){var n=typeof e;return typeof t=="boolean"&&n==="string"?t?this.addClass(e):this.removeClass(e):h.isFunction(e)?this.each(function(n){h(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var t,r=0,i=h(this),s=e.match(O)||[];while(t=s[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else if(n===B||n==="boolean")this.className&&h._data(this,"__className__",this.className),this.className=this.className||e===!1?"":h._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(En," ").indexOf(t)>=0)return!0;return!1}}),h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){h.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),h.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)}});var Sn=h.now(),xn=/\?/,Tn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;h.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=h.trim(t+"");return i&&!h.trim(i.replace(Tn,function(e,t,i,s){return n&&t&&(r=0),r===0?e:(n=i||t,r+=!s-!i,"")}))?Function("return "+i)():h.error("Invalid JSON: "+t)},h.parseXML=function(t){var n,r;if(!t||typeof t!="string")return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=undefined}return(!n||!n.documentElement||n.getElementsByTagName("parsererror").length)&&h.error("Invalid XML: "+t),n};var Nn,Cn,kn=/#.*$/,Ln=/([?&])_=[^&]*/,An=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,On=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mn=/^(?:GET|HEAD)$/,_n=/^\/\//,Dn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Pn={},Hn={},Bn="*/".concat("*");try{Cn=location.href}catch(jn){Cn=T.createElement("a"),Cn.href="",Cn=Cn.href}Nn=Dn.exec(Cn.toLowerCase())||[],h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Cn,type:"GET",isLocal:On.test(Nn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qn(qn(e,h.ajaxSettings),t):qn(h.ajaxSettings,e)},ajaxPrefilter:Fn(Pn),ajaxTransport:Fn(Hn),ajax:function(e,t){function x(e,t,n,r){var f,g,y,w,S,x=t;if(b===2)return;b=2,o&&clearTimeout(o),a=undefined,s=r||"",E.readyState=e>0?4:0,f=e>=200&&e<300||e===304,n&&(w=Rn(l,E,n)),w=Un(l,w,E,f);if(f)l.ifModified&&(S=E.getResponseHeader("Last-Modified"),S&&(h.lastModified[i]=S),S=E.getResponseHeader("etag"),S&&(h.etag[i]=S)),e===204||l.type==="HEAD"?x="nocontent":e===304?x="notmodified":(x=w.state,g=w.data,y=w.error,f=!y);else{y=x;if(e||!x)x="error",e<0&&(e=0)}E.status=e,E.statusText=(t||x)+"",f?d.resolveWith(c,[g,x,E]):d.rejectWith(c,[E,x,y]),E.statusCode(m),m=undefined,u&&p.trigger(f?"ajaxSuccess":"ajaxError",[E,l,f?g:y]),v.fireWith(c,[E,x]),u&&(p.trigger("ajaxComplete",[E,l]),--h.active||h.event.trigger("ajaxStop"))}typeof e=="object"&&(t=e,e=undefined),t=t||{};var n,r,i,s,o,u,a,f,l=h.ajaxSetup({},t),c=l.context||l,p=l.context&&(c.nodeType||c.jquery)?h(c):h.event,d=h.Deferred(),v=h.Callbacks("once memory"),m=l.statusCode||{},g={},y={},b=0,w="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(b===2){if(!f){f={};while(t=An.exec(s))f[t[1].toLowerCase()]=t[2]}t=f[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return b===2?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)m[t]=[m[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||w;return a&&a.abort(t),x(0,t),this}};d.promise(E).complete=v.add,E.success=E.done,E.error=E.fail,l.url=((e||l.url||Cn)+"").replace(kn,"").replace(_n,Nn[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=h.trim(l.dataType||"*").toLowerCase().match(O)||[""],l.crossDomain==null&&(n=Dn.exec(l.url.toLowerCase()),l.crossDomain=!(!n||n[1]===Nn[1]&&n[2]===Nn[2]&&(n[3]||(n[1]==="http:"?"80":"443"))===(Nn[3]||(Nn[1]==="http:"?"80":"443")))),l.data&&l.processData&&typeof l.data!="string"&&(l.data=h.param(l.data,l.traditional)),In(Pn,l,t,E);if(b===2)return E;u=l.global,u&&h.active++===0&&h.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Mn.test(l.type),i=l.url,l.hasContent||(l.data&&(i=l.url+=(xn.test(i)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Ln.test(i)?i.replace(Ln,"$1_="+Sn++):i+(xn.test(i)?"&":"?")+"_="+Sn++)),l.ifModified&&(h.lastModified[i]&&E.setRequestHeader("If-Modified-Since",h.lastModified[i]),h.etag[i]&&E.setRequestHeader("If-None-Match",h.etag[i])),(l.data&&l.hasContent&&l.contentType!==!1||t.contentType)&&E.setRequestHeader("Content-Type",l.contentType),E.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+Bn+"; q=0.01":""):l.accepts["*"]);for(r in l.headers)E.setRequestHeader(r,l.headers[r]);if(!l.beforeSend||l.beforeSend.call(c,E,l)!==!1&&b!==2){w="abort";for(r in{success:1,error:1,complete:1})E[r](l[r]);a=In(Hn,l,t,E);if(!a)x(-1,"No Transport");else{E.readyState=1,u&&p.trigger("ajaxSend",[E,l]),l.async&&l.timeout>0&&(o=setTimeout(function(){E.abort("timeout")},l.timeout));try{b=1,a.send(g,x)}catch(S){if(!(b<2))throw S;x(-1,S)}}return E}return E.abort()},getJSON:function(e,t,n){return h.get(e,t,n,"json")},getScript:function(e,t){return h.get(e,undefined,t,"script")}}),h.each(["get","post"],function(e,t){h[t]=function(e,n,r,i){return h.isFunction(n)&&(i=i||r,r=n,n=undefined),h.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),h.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){h.fn[t]=function(e){return this.on(t,e)}}),h._evalUrl=function(e){return h.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},h.fn.extend({wrapAll:function(e){if(h.isFunction(e))return this.each(function(t){h(this).wrapAll(e.call(this,t))});if(this[0]){var t=h(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return h.isFunction(e)?this.each(function(t){h(this).wrapInner(e.call(this,t))}):this.each(function(){var t=h(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=h.isFunction(e);return this.each(function(n){h(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()}}),h.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!l.reliableHiddenOffsets()&&(e.style&&e.style.display||h.css(e,"display"))==="none"},h.expr.filters.visible=function(e){return!h.expr.filters.hidden(e)};var zn=/%20/g,Wn=/\[\]$/,Xn=/\r?\n/g,Vn=/^(?:submit|button|image|reset|file)$/i,$n=/^(?:input|select|textarea|keygen)/i;h.param=function(e,t){var n,r=[],i=function(e,t){t=h.isFunction(t)?t():t==null?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};t===undefined&&(t=h.ajaxSettings&&h.ajaxSettings.traditional);if(h.isArray(e)||e.jquery&&!h.isPlainObject(e))h.each(e,function(){i(this.name,this.value)});else for(n in e)Jn(n,e[n],t,i);return r.join("&").replace(zn,"+")},h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=h.prop(this,"elements");return e?h.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!h(this).is(":disabled")&&$n.test(this.nodeName)&&!Vn.test(e)&&(this.checked||!J.test(e))}).map(function(e,t){var n=h(this).val();return n==null?null:h.isArray(n)?h.map(n,function(e){return{name:t.name,value:e.replace(Xn,"\r\n")}}):{name:t.name,value:n.replace(Xn,"\r\n")}}).get()}}),h.ajaxSettings.xhr=e.ActiveXObject!==undefined?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Yn()||Zn()}:Yn;var Kn=0,Qn={},Gn=h.ajaxSettings.xhr();e.ActiveXObject&&h(e).on("unload",function(){for(var e in Qn)Qn[e](undefined,!0)}),l.cors=!!Gn&&"withCredentials"in Gn,Gn=l.ajax=!!Gn,Gn&&h.ajaxTransport(function(e){if(!e.crossDomain||l.cors){var t;return{send:function(n,r){var i,s=e.xhr(),o=++Kn;s.open(e.type,e.url,e.async,e.username,e.password);if(e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),!e.crossDomain&&!n["X-Requested-With"]&&(n["X-Requested-With"]="XMLHttpRequest");for(i in n)n[i]!==undefined&&s.setRequestHeader(i,n[i]+"");s.send(e.hasContent&&e.data||null),t=function(n,i){var u,a,f;if(t&&(i||s.readyState===4)){delete Qn[o],t=undefined,s.onreadystatechange=h.noop;if(i)s.readyState!==4&&s.abort();else{f={},u=s.status,typeof s.responseText=="string"&&(f.text=s.responseText);try{a=s.statusText}catch(l){a=""}!u&&e.isLocal&&!e.crossDomain?u=f.text?200:404:u===1223&&(u=204)}}f&&r(u,a,f,s.getAllResponseHeaders())},e.async?s.readyState===4?setTimeout(t):s.onreadystatechange=Qn[o]=t:t()},abort:function(){t&&t(undefined,!0)}}}}),h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return h.globalEval(e),e}}}),h.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),h.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=T.head||h("head")[0]||T.documentElement;return{send:function(r,i){t=T.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){if(n||!t.readyState||/loaded|complete/.test(t.readyState))t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success")},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(undefined,!0)}}}});var er=[],tr=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=er.pop()||h.expando+"_"+Sn++;return this[e]=!0,e}}),h.ajaxPrefilter("json jsonp",function(t,n,r){var i,s,o,u=t.jsonp!==!1&&(tr.test(t.url)?"url":typeof t.data=="string"&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tr.test(t.data)&&"data");if(u||t.dataTypes[0]==="jsonp")return i=t.jsonpCallback=h.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,u?t[u]=t[u].replace(tr,"$1"+i):t.jsonp!==!1&&(t.url+=(xn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||h.error(i+" was not called"),o[0]},t.dataTypes[0]="json",s=e[i],e[i]=function(){o=arguments},r.always(function(){e[i]=s,t[i]&&(t.jsonpCallback=n.jsonpCallback,er.push(i)),o&&h.isFunction(s)&&s(o[0]),o=s=undefined}),"script"}),h.parseHTML=function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||T;var r=w.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=h.buildFragment([e],t,i),i&&i.length&&h(i).remove(),h.merge([],r.childNodes))};var nr=h.fn.load;h.fn.load=function(e,t,n){if(typeof e!="string"&&nr)return nr.apply(this,arguments);var r,i,s,o=this,u=e.indexOf(" ");return u>=0&&(r=h.trim(e.slice(u,e.length)),e=e.slice(0,u)),h.isFunction(t)?(n=t,t=undefined):t&&typeof t=="object"&&(s="POST"),o.length>0&&h.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){i=arguments,o.html(r?h("<div>").append(h.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,i||[e.responseText,t,e])}),this},h.expr.filters.animated=function(e){return h.grep(h.timers,function(t){return e===t.elem}).length};var rr=e.document.documentElement;h.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=h.css(e,"position"),c=h(e),p={};l==="static"&&(e.style.position="relative"),u=c.offset(),s=h.css(e,"top"),a=h.css(e,"left"),f=(l==="absolute"||l==="fixed")&&h.inArray("auto",[s,a])>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),h.isFunction(t)&&(t=t.call(e,n,u)),t.top!=null&&(p.top=t.top-u.top+o),t.left!=null&&(p.left=t.left-u.left+i),"using"in t?t.using.call(e,p):c.css(p)}},h.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){h.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],s=i&&i.ownerDocument;if(!s)return;return t=s.documentElement,h.contains(t,i)?(typeof i.getBoundingClientRect!==B&&(r=i.getBoundingClientRect()),n=ir(s),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(!this[0])return;var e,t,n={top:0,left:0},r=this[0];return h.css(r,"position")==="fixed"?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),h.nodeName(e[0],"html")||(n=e.offset()),n.top+=h.css(e[0],"borderTopWidth",!0),n.left+=h.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-h.css(r,"marginTop",!0),left:t.left-n.left-h.css(r,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||rr;while(e&&!h.nodeName(e,"html")&&h.css(e,"position")==="static")e=e.offsetParent;return e||rr})}}),h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);h.fn[e]=function(r){return $(this,function(e,r,i){var s=ir(e);if(i===undefined)return s?t in s?s[t]:s.document.documentElement[r]:e[r];s?s.scrollTo(n?h(s).scrollLeft():i,n?i:h(s).scrollTop()):e[r]=i},e,r,arguments.length,null)}}),h.each(["top","left"],function(e,t){h.cssHooks[t]=jt(l.pixelPosition,function(e,n){if(n)return n=Ht(e,t),Dt.test(n)?h(e).position()[t]+"px":n})}),h.each({Height:"height",Width:"width"},function(e,t){h.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){h.fn[r]=function(r,i){var s=arguments.length&&(n||typeof r!="boolean"),o=n||(r===!0||i===!0?"margin":"border");return $(this,function(t,n,r){var i;return h.isWindow(t)?t.document.documentElement["client"+e]:t.nodeType===9?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?h.css(t,n,o):h.style(t,n,r,o)},t,s?r:undefined,s,null)}})}),h.fn.size=function(){return this.length},h.fn.andSelf=h.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return h});var sr=e.jQuery,or=e.$;return h.noConflict=function(t){return e.$===h&&(e.$=or),t&&e.jQuery===h&&(e.jQuery=sr),h},typeof t===B&&(e.jQuery=e.$=h),h}),function(e){typeof define=="function"?define("es5-shim",e):typeof YUI=="function"?YUI.add("es5",e):e()}(function(){Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError("Function.prototype.bind called on incompatible "+n);var i=r.call(arguments,1),s=function(){if(this instanceof s){var e=function(){};e.prototype=n.prototype;var o=new e,u=n.apply(o,i.concat(r.call(arguments)));return Object(u)===u?u:o}return n.apply(t,i.concat(r.call(arguments)))};return s});var e=Function.prototype.call,t=Array.prototype,n=Object.prototype,r=t.slice,i=e.bind(n.toString),s=e.bind(n.hasOwnProperty),o,u,a,f,l;if(l=s(n,"__defineGetter__"))o=e.bind(n.__defineGetter__),u=e.bind(n.__defineSetter__),a=e.bind(n.__lookupGetter__),f=e.bind(n.__lookupSetter__);Array.isArray||(Array.isArray=function(t){return i(t)=="[object Array]"}),Array.prototype.forEach||(Array.prototype.forEach=function(t){var n=w(this),r=arguments[1],s=-1,o=n.length>>>0;if(i(t)!="[object Function]")throw new TypeError;while(++s<o)s in n&&t.call(r,n[s],s,n)}),Array.prototype.map||(Array.prototype.map=function(t){var n=w(this),r=n.length>>>0,s=Array(r),o=arguments[1];if(i(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var u=0;u<r;u++)u in n&&(s[u]=t.call(o,n[u],u,n));return s}),Array.prototype.filter||(Array.prototype.filter=function(t){var n=w(this),r=n.length>>>0,s=[],o,u=arguments[1];if(i(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var a=0;a<r;a++)a in n&&(o=n[a],t.call(u,o,a,n)&&s.push(o));return s}),Array.prototype.every||(Array.prototype.every=function(t){var n=w(this),r=n.length>>>0,s=arguments[1];if(i(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var o=0;o<r;o++)if(o in n&&!t.call(s,n[o],o,n))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var n=w(this),r=n.length>>>0,s=arguments[1];if(i(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var o=0;o<r;o++)if(o in n&&t.call(s,n[o],o,n))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var n=w(this),r=n.length>>>0;if(i(t)!="[object Function]")throw new TypeError(t+" is not a function");if(!r&&arguments.length==1)throw new TypeError("reduce of empty array with no initial value");var s=0,o;if(arguments.length>=2)o=arguments[1];else do{if(s in n){o=n[s++];break}if(++s>=r)throw new TypeError("reduce of empty array with no initial value")}while(!0);for(;s<r;s++)s in n&&(o=t.call(void 0,o,n[s],s,n));return o}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var n=w(this),r=n.length>>>0;if(i(t)!="[object Function]")throw new TypeError(t+" is not a function");if(!r&&arguments.length==1)throw new TypeError("reduceRight of empty array with no initial value");var s,o=r-1;if(arguments.length>=2)s=arguments[1];else do{if(o in n){s=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}while(!0);do o in this&&(s=t.call(void 0,s,n[o],o,n));while(o--);return s}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var n=w(this),r=n.length>>>0;if(!r)return-1;var i=0;arguments.length>1&&(i=y(arguments[1])),i=i>=0?i:Math.max(0,r+i);for(;i<r;i++)if(i in n&&n[i]===t)return i;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){var n=w(this),r=n.length>>>0;if(!r)return-1;var i=r-1;arguments.length>1&&(i=Math.min(i,y(arguments[1]))),i=i>=0?i:r-Math.abs(i);for(;i>=0;i--)if(i in n&&t===n[i])return i;return-1});if(!Object.keys){var c=!0,h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=h.length;for(var d in{toString:null})c=!1;Object.keys=function E(e){if(typeof e!="object"&&typeof e!="function"||e===null)throw new TypeError("Object.keys called on a non-object");var E=[];for(var t in e)s(e,t)&&E.push(t);if(c)for(var n=0,r=p;n<r;n++){var i=h[n];s(e,i)&&E.push(i)}return E}}if(!Date.prototype.toISOString||(new Date(-621987552e5)).toISOString().indexOf("-000001")===-1)Date.prototype.toISOString=function(){var t,n,r,i;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");t=[this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],i=this.getUTCFullYear(),i=(i<0?"-":i>9999?"+":"")+("00000"+Math.abs(i)).slice(0<=i&&i<=9999?-4:-6),n=t.length;while(n--)r=t[n],r<10&&(t[n]="0"+r);return i+"-"+t.slice(0,2).join("-")+"T"+t.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"};Date.now||(Date.now=function(){return(new Date).getTime()}),Date.prototype.toJSON||(Date.prototype.toJSON=function(t){if(typeof this.toISOString!="function")throw new TypeError("toISOString property is not callable");return this.toISOString()});if(!Date.parse||Date.parse("+275760-09-13T00:00:00.000Z")!==864e13)Date=function(e){var t=function i(t,n,r,s,o,u,a){var f=arguments.length;if(this instanceof e){var l=f==1&&String(t)===t?new e(i.parse(t)):f>=7?new e(t,n,r,s,o,u,a):f>=6?new e(t,n,r,s,o,u):f>=5?new e(t,n,r,s,o):f>=4?new e(t,n,r,s):f>=3?new e(t,n,r):f>=2?new e(t,n):f>=1?new e(t):new e;return l.constructor=i,l}return e.apply(this,arguments)},n=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$");for(var r in e)t[r]=e[r];return t.now=e.now,t.UTC=e.UTC,t.prototype=e.prototype,t.prototype.constructor=t,t.parse=function(r){var i=n.exec(r);if(i){i.shift();for(var s=1;s<7;s++)i[s]=+(i[s]||(s<3?1:0)),s==1&&i[s]--;var o=+i.pop(),u=+i.pop(),a=i.pop(),f=0;if(a){if(u>23||o>59)return NaN;f=(u*60+o)*6e4*(a=="+"?-1:1)}var l=+i[0];return 0<=l&&l<=99?(i[0]=l+400,e.UTC.apply(this,i)+f-126227808e5):e.UTC.apply(this,i)+f}return e.parse.apply(this,arguments)},t}(Date);var v="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||v.trim()){v="["+v+"]";var m=new RegExp("^"+v+v+"*"),g=new RegExp(v+v+"*$");String.prototype.trim=function(){if(this===undefined||this===null)throw new TypeError("can't convert "+this+" to object");return String(this).replace(m,"").replace(g,"")}}var y=function(e){return e=+e,e!==e?e=0:e!==0&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e},b="a"[0]!="a",w=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return b&&typeof e=="string"&&e?e.split(""):Object(e)}}),function(e){typeof define=="function"?define("es5-sham",e):typeof YUI=="function"?YUI.add("es5-sham",e):e()}(function(){function t(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){}}Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__||(t.constructor?t.constructor.prototype:prototypeOfObject)});if(!Object.getOwnPropertyDescriptor){var e="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(n,r){if(typeof n!="object"&&typeof n!="function"||n===null)throw new TypeError(e+n);if(!owns(n,r))return;var i={enumerable:!0,configurable:!0};if(supportsAccessors){var s=n.__proto__;n.__proto__=prototypeOfObject;var o=lookupGetter(n,r),u=lookupSetter(n,r);n.__proto__=s;if(o||u)return o&&(i.get=o),u&&(i.set=u),i}return i.value=n[r],i}}Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)}),Object.create||(Object.create=function(t,n){var r;if(t===null)r={__proto__:null};else{if(typeof t!="object")throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var i=function(){};i.prototype=t,r=new i,r.__proto__=t}return n!==void 0&&Object.defineProperties(r,n),r});if(Object.defineProperty){var n=t({}),r=typeof document=="undefined"||t(document.createElement("div"));if(!n||!r)var i=Object.defineProperty}if(!Object.defineProperty||i){var s="Property description must be an object: ",o="Object.defineProperty called on non-object: ",u="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(t,n,r){if(typeof t!="object"&&typeof t!="function"||t===null)throw new TypeError(o+t);if(typeof r!="object"&&typeof r!="function"||r===null)throw new TypeError(s+r);if(i)try{return i.call(Object,t,n,r)}catch(a){}if(owns(r,"value"))if(supportsAccessors&&(lookupGetter(t,n)||lookupSetter(t,n))){var f=t.__proto__;t.__proto__=prototypeOfObject,delete t[n],t[n]=r.value,t.__proto__=f}else t[n]=r.value;else{if(!supportsAccessors)throw new TypeError(u);owns(r,"get")&&defineGetter(t,n,r.get),owns(r,"set")&&defineSetter(t,n,r.set)}return t}}Object.defineProperties||(Object.defineProperties=function(t,n){for(var r in n)owns(n,r)&&r!="__proto__"&&Object.defineProperty(t,r,n[r]);return t}),Object.seal||(Object.seal=function(t){return t}),Object.freeze||(Object.freeze=function(t){return t});try{Object.freeze(function(){})}catch(a){Object.freeze=function(t){return function(n){return typeof n=="function"?n:t(n)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(t){return t}),Object.isSealed||(Object.isSealed=function(t){return!1}),Object.isFrozen||(Object.isFrozen=function(t){return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)!==t)throw new TypeError;var n="";while(owns(t,n))n+="?";t[n]=!0;var r=owns(t,n);return delete t[n],r})}),function(e){if(typeof exports=="object"&&typeof module!="undefined")module.exports=e();else if(typeof define=="function"&&define.amd)define("hlsjs",[],e);else{var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"?t=self:t=this,t.Hls=e()}}(function(){var e,t,n;return function r(e,t,n){function i(o,u){if(!t[o]){if(!e[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return i(n?n:t)},l,l.exports,r,e,t,n)}return t[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||undefined}function i(e){return typeof e=="function"}function s(e){return typeof e=="number"}function o(e){return typeof e=="object"&&e!==null}function u(e){return e===void 0}t.exports=r,r.EventEmitter=r,r.prototype._events=undefined,r.prototype._maxListeners=undefined,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!s(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,s,a,f;this._events||(this._events={});if(e==="error")if(!this._events.error||o(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}n=this._events[e];if(u(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n)){s=Array.prototype.slice.call(arguments,1),f=n.slice(),r=f.length;for(a=0;a<r;a++)f[a].apply(this,s)}return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(u(this._maxListeners)?n=r.defaultMaxListeners:n=this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var n,r,s,u;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;n=this._events[e],s=n.length,r=-1;if(n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(u=s;u-->0;)if(n[u]===t||n[u].listener&&n[u].listener===t){r=u;break}if(r<0)return this;n.length===1?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events){if(t==="removeListener")continue;this.removeAllListeners(t)}return this.removeAllListeners("removeListener"),this._events={},this}n=this._events[e];if(i(n))this.removeListener(e,n);else if(n)while(n.length)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:i(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t,n){var r=arguments[3],i=arguments[4],s=arguments[5],o=JSON.stringify;t.exports=function(e,t){var n,u=Object.keys(s);for(var a=0,f=u.length;a<f;a++){var l=u[a],c=s[l].exports;if(c===e||c&&c.default===e){n=l;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var h={};for(var a=0,f=u.length;a<f;a++){var l=u[a];h[l]=l}i[n]=[Function(["require","module","exports"],"("+e+")(self)"),h]}var p=Math.floor(Math.pow(16,8)*Math.random()).toString(16),d={};d[n]=n,i[p]=[Function(["require"],"var f = require("+o(n)+");"+"(f.default ? f.default : f)(self);"),d];var v="("+r+")({"+Object.keys(i).map(function(e){return o(e)+":["+i[e][0]+","+o(i[e][1])+"]"}).join(",")+"},{},["+o(p)+"])",m=window.URL||window.webkitURL||window.mozURL||window.msURL,g=new Blob([v],{type:"text/javascript"});if(t&&t.bare)return g;var y=m.createObjectURL(g),b=new Worker(y);return b.objectURL=y,b}},{}],3:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{"default":e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function g(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../events"),s=d(i),o=e("../event-handler"),u=d(o),a=e("../helper/buffer-helper"),f=d(a),l=e("../errors"),c=e("../utils/logger"),h=e("./ewma-bandwidth-estimator"),p=d(h),y=function(e){function t(e){v(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.FRAG_LOADING,s.default.FRAG_LOADED,s.default.ERROR));return n.lastLoadedFragLevel=0,n._autoLevelCapping=-1,n._nextAutoLevel=-1,n.hls=e,n.onCheck=n.abandonRulesCheck.bind(n),n}return g(t,e),r(t,[{key:"destroy",value:function(){this.clearTimer(),u.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(t){var n=t.frag;if(n.type==="main"){this.timer||(this.timer=setInterval(this.onCheck,100));if(!this.bwEstimator){var r=this.hls,i=t.frag.level,s=r.levels[i].details.live,o=r.config,u=void 0,a=void 0;s?(u=o.abrEwmaFastLive,a=o.abrEwmaSlowLive):(u=o.abrEwmaFastVoD,a=o.abrEwmaSlowVoD),this.bwEstimator=new p.default(r,a,u,o.abrEwmaDefaultEstimate)}n.trequest=performance.now(),this.fragCurrent=n}}},{key:"abandonRulesCheck",value:function(){var t=this.hls,n=t.media,r=this.fragCurrent;if(!r.loader||r.loader.stats&&r.loader.stats.aborted){c.logger.warn("frag loader destroy or aborted, disarm abandonRulesCheck"),this.clearTimer();return}if(n&&(!n.paused&&n.playbackRate!==0||!n.readyState)&&r.autoLevel&&r.level){var i=performance.now()-r.trequest,o=Math.abs(n.playbackRate);if(i>500*r.duration/o){var u=t.levels,a=Math.max(1,r.loaded*1e3/i),l=Math.max(r.loaded,Math.round(r.duration*u[r.level].bitrate/8)),h=n.currentTime,p=(l-r.loaded)/a,d=(f.default.bufferInfo(n,h,t.config.maxBufferHole).end-h)/o;if(d<2*r.duration/o&&p>d){var v=void 0,m=void 0;for(m=r.level-1;m>=0;m--){v=r.duration*u[m].bitrate/(6.4*a),c.logger.log("fragLoadedDelay/bufferStarvationDelay/fragLevelNextLoadedDelay["+m+"] :"+p.toFixed(1)+"/"+d.toFixed(1)+"/"+v.toFixed(1));if(v<d)break}v<p&&(m=Math.max(0,m),t.nextLoadLevel=m,this.bwEstimator.sample(i,r.loaded),c.logger.warn("loading too slow, abort fragment loading and switch to level "+m),r.loader.abort(),this.clearTimer(),t.trigger(s.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r}))}}}}},{key:"onFragLoaded",value:function(t){var n=t.frag;if(n.type==="main"){var r=t.stats;r.aborted===undefined&&n.loadCounter===1&&this.bwEstimator.sample(performance.now()-r.trequest,r.loaded),this.clearTimer(),this.lastLoadedFragLevel=n.level,this._nextAutoLevel=-1}}},{key:"onError",value:function(t){switch(t.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer();break;default:}}},{key:"clearTimer",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){this._autoLevelCapping=t}},{key:"nextAutoLevel",get:function(){var t=this.hls,n=t.config,r=t.levels,i=t.media,s=void 0,o=void 0;this._autoLevelCapping===-1&&r&&r.length?o=r.length-1:o=this._autoLevelCapping;if(this._nextAutoLevel!==-1)return Math.min(this._nextAutoLevel,o);var u=i&&i.playbackRate!==0?Math.abs(i.playbackRate):1,a=this.bwEstimator?this.bwEstimator.getEstimate()/u:n.abrEwmaDefaultEstimate/u,f=void 0;for(s=0;s<=o;s++){s<=this.lastLoadedFragLevel?f=n.abrBandWidthFactor*a:f=n.abrBandWidthUpFactor*a;if(f<r[s].bitrate)return Math.max(0,s-1)}return s-1},set:function(t){this._nextAutoLevel=t}}]),t}(u.default);n.default=y},{"../errors":24,"../event-handler":25,"../events":26,"../helper/buffer-helper":28,"../utils/logger":44,"./ewma-bandwidth-estimator":8}],4:[function(e,t,n){"use strict";function w(e){return e&&e.__esModule?e:{"default":e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function x(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../utils/binary-search"),s=w(i),o=e("../helper/buffer-helper"),u=w(o),a=e("../demux/demuxer"),f=w(a),l=e("../events"),c=w(l),h=e("../event-handler"),p=w(h),d=e("../helper/level-helper"),v=w(d),m=e("../utils/timeRanges"),g=w(m),y=e("../errors"),b=e("../utils/logger"),T={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR"},N=function(e){function t(e){E(this,t);var n=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHING,c.default.AUDIO_TRACKS_UPDATED,c.default.AUDIO_TRACK_SWITCH,c.default.AUDIO_TRACK_LOADED,c.default.KEY_LOADED,c.default.FRAG_LOADED,c.default.FRAG_PARSING_INIT_SEGMENT,c.default.FRAG_PARSING_DATA,c.default.FRAG_PARSED,c.default.ERROR,c.default.BUFFER_CREATED,c.default.BUFFER_APPENDED,c.default.BUFFER_FLUSHED));return n.config=e.config,n.audioCodecSwap=!1,n.ticks=0,n.ontick=n.tick.bind(n),n}return x(t,e),r(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),p.default.prototype.destroy.call(this),this.state=T.STOPPED}},{key:"startLoad",value:function(t){if(this.tracks){var n=this.media,r=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,n&&r?(b.logger.log("configure startPosition @"+r),this.state=T.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=T.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else b.logger.warn("cannot start loading as audio tracks not parsed yet"),this.startPosition=t,this.state=T.STOPPED}},{key:"stopLoad",value:function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=T.STOPPED}},{key:"tick",value:function(){this.ticks++,this.ticks===1&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){var t=this,n,r,i,o=this.hls,a=o.config;switch(this.state){case T.ERROR:case T.PAUSED:break;case T.STARTING:this.state=T.WAITING_TRACK,this.loadedmetadata=!1;break;case T.IDLE:if(!this.media&&(this.startFragRequested||!a.startFragPrefetch))break;this.loadedmetadata?n=this.media.currentTime:n=this.nextLoadPosition;var f=this.mediaBuffer?this.mediaBuffer:this.media,l=u.default.bufferInfo(f,n,a.maxBufferHole),h=l.len,p=l.end,d=this.fragPrevious,v=a.maxMaxBufferLength;if(h<v&&this.trackId<this.tracks.length){i=this.tracks[this.trackId].details;if(typeof i=="undefined"){this.state=T.WAITING_TRACK;break}var m=i.fragments,g=m.length,w=m[0].start,E=m[g-1].start+m[g-1].duration,S=void 0;p<w?S=m[0]:function(){var e=void 0,n=a.maxFragLookUpTolerance;p<E?(p>E-n&&(n=0),e=s.default.search(m,function(e){return e.start+e.duration-n<=p?1:e.start-n>p?-1:0})):e=m[g-1],e&&(S=e,w=e.start,d&&S.level===d.level&&S.sn===d.sn&&(S.sn<i.endSN?(S=m[S.sn+1-i.startSN],b.logger.log("SN just loaded, load next one: "+S.sn)):(i.live||(t.state=T.ENDED),S=null)))}();if(S)if(S.decryptdata.uri!=null&&S.decryptdata.key==null)b.logger.log("Loading key for "+S.sn+" of ["+i.startSN+" ,"+i.endSN+"],track "+this.trackId),this.state=T.KEY_LOADING,o.trigger(c.default.KEY_LOADING,{frag:S});else{b.logger.log("Loading "+S.sn+" of ["+i.startSN+" ,"+i.endSN+"],track "+this.trackId+", currentTime:"+n+",bufferEnd:"+p.toFixed(3)),this.fragLoadIdx!==undefined?this.fragLoadIdx++:this.fragLoadIdx=0;if(S.loadCounter){S.loadCounter++;var x=a.fragLoadingLoopThreshold;if(S.loadCounter>x&&Math.abs(this.fragLoadIdx-S.loadIdx)<x){o.trigger(c.default.ERROR,{type:y.ErrorTypes.MEDIA_ERROR,details:y.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:S});return}}else S.loadCounter=1;S.loadIdx=this.fragLoadIdx,this.fragCurrent=S,this.startFragRequested=!0,o.trigger(c.default.FRAG_LOADING,{frag:S}),this.state=T.FRAG_LOADING}}break;case T.WAITING_TRACK:r=this.tracks[this.trackId],r&&r.details&&(this.state=T.IDLE);break;case T.FRAG_LOADING_WAITING_RETRY:var N=performance.now(),C=this.retryDate;f=this.media;var k=f&&f.seeking;if(!C||N>=C||k)b.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=T.IDLE;break;case T.STOPPED:case T.FRAG_LOADING:case T.PARSING:case T.PARSED:case T.ENDED:break;default:}}},{key:"onMediaAttached",value:function(t){var n=this.media=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);var r=this.config;this.tracks&&r.autoStartLoad&&this.startLoad(r.startPosition)}},{key:"onMediaDetaching",value:function(){var t=this.media;t&&t.ended&&(b.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var n=this.tracks;n&&n.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=undefined})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){this.state===T.ENDED&&(this.state=T.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),this.fragLoadIdx!==undefined&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()}},{key:"onMediaEnded",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:"onAudioTracksUpdated",value:function(t){b.logger.log("audio tracks updated"),this.tracks=t.audioTracks}},{key:"onAudioTrackSwitch",value:function(t){this.trackId=t.id,this.state=T.IDLE,this.fragCurrent=null,this.state=T.PAUSED,this.hls.trigger(c.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),this.tick()}},{key:"onAudioTrackLoaded",value:function(t){var n=t.details,r=t.id,i=this.tracks[r],s=n.totalduration;b.logger.log("track "+r+" loaded ["+n.startSN+","+n.endSN+"],duration:"+s),n.PTSKnown=!1,i.details=n;if(!this.startFragRequested){if(this.startPosition===-1){var o=n.startTimeOffset;isNaN(o)?this.startPosition=0:(b.logger.log("start time offset found in playlist, adjust startPosition to "+o),this.startPosition=o)}this.nextLoadPosition=this.startPosition}this.state===T.WAITING_TRACK&&(this.state=T.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===T.KEY_LOADING&&(this.state=T.IDLE,this.tick())}},{key:"onFragLoaded",value:function(t){var n=this.fragCurrent;if(this.state===T.FRAG_LOADING&&n&&t.frag.type==="audio"&&t.frag.level===n.level&&t.frag.sn===n.sn){this.state=T.PARSING,this.stats=t.stats;var r=this.tracks[this.trackId],i=r.details,s=i.totalduration,o=n.start,u=n.level,a=n.sn,l=this.config.defaultAudioCodec||r.audioCodec;this.pendingAppending=0,this.demuxer||(this.demuxer=new f.default(this.hls,"audio")),b.logger.log("Demuxing "+a+" of ["+i.startSN+" ,"+i.endSN+"],track "+u),this.demuxer.push(t.payload,l,null,o,n.cc,u,a,s,n.decryptdata)}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(t){var n=this.fragCurrent;if(n&&t.id==="audio"&&t.sn===n.sn&&t.level===n.level&&this.state===T.PARSING){var r=t.tracks,i=void 0;i=r.audio;if(i){i.levelCodec="mp4a.40.2",i.id=t.id,this.hls.trigger(c.default.BUFFER_CODECS,r),b.logger.log("track:audio,container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var s=i.initSegment;s&&(this.pendingAppending++,this.hls.trigger(c.default.BUFFER_APPENDING,{type:"audio",data:s,parent:"audio"})),this.tick()}}}},{key:"onFragParsingData",value:function(t){var n=this,r=this.fragCurrent;if(r&&t.id==="audio"&&t.sn===r.sn&&t.level===r.level&&this.state===T.PARSING){var i=this.tracks[this.trackId],s=this.fragCurrent;b.logger.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),v.default.updateFragPTSDTS(i.details,s.sn,t.startPTS,t.endPTS),[t.data1,t.data2].forEach(function(e){e&&(n.pendingAppending++,n.hls.trigger(c.default.BUFFER_APPENDING,{type:t.type,data:e,parent:"audio"}))}),this.nextLoadPosition=t.endPTS,this.tick()}}},{key:"onFragParsed",value:function(t){var n=this.fragCurrent;n&&t.id==="audio"&&t.sn===n.sn&&t.level===n.level&&this.state===T.PARSING&&(this.stats.tparsed=performance.now(),this.state=T.PARSED,this._checkAppendedParsed())}},{key:"onBufferCreated",value:function(t){var n=t.tracks.audio;n&&(this.mediaBuffer=n.buffer,this.loadedmetadata=!0)}},{key:"onBufferAppended",value:function(t){if(t.parent==="audio")switch(this.state){case T.PARSING:case T.PARSED:this.pendingAppending--,this._checkAppendedParsed();break;default:}}},{key:"_checkAppendedParsed",value:function(){if(this.state===T.PARSED&&this.pendingAppending===0){var t=this.fragCurrent,n=this.stats;if(t){this.fragPrevious=t,n.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*n.length/(n.tbuffered-n.tfirst)),this.hls.trigger(c.default.FRAG_BUFFERED,{stats:n,frag:t,id:"audio"});var r=this.mediaBuffer?this.mediaBuffer:this.media;b.logger.log("audio buffered : "+g.default.toString(r.buffered)),this.state=T.IDLE}this.tick()}}},{key:"onError",value:function(t){var n=t.frag;if(n&&n.type!=="audio")return;switch(t.details){case y.ErrorDetails.FRAG_LOAD_ERROR:case y.ErrorDetails.FRAG_LOAD_TIMEOUT:if(!t.fatal){var r=this.fragLoadError;r?r++:r=1;if(r<=this.config.fragLoadingMaxRetry){this.fragLoadError=r,n.loadCounter=0;var i=Math.min(Math.pow(2,r-1)*this.config.fragLoadingRetryDelay,64e3);b.logger.warn("audioStreamController: frag loading failed, retry in "+i+" ms"),this.retryDate=performance.now()+i,this.state=T.FRAG_LOADING_WAITING_RETRY}else b.logger.error("audioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.hls.trigger(c.default.ERROR,t),this.state=T.ERROR}break;case y.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case y.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case y.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case y.ErrorDetails.KEY_LOAD_ERROR:case y.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==T.ERROR&&(this.state=t.fatal?T.ERROR:T.IDLE,b.logger.warn("audioStreamController: "+t.details+" while loading frag,switch to "+this.state+" state ..."));break;default:}}},{key:"onBufferFlushed",value:function(){this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=T.IDLE,this.fragPrevious=null,this.tick()}}]),t}(p.default);n.default=N},{"../demux/demuxer":20,"../errors":24,"../event-handler":25,"../events":26,"../helper/buffer-helper":28,"../helper/level-helper":29,"../utils/binary-search":40,"../utils/logger":44,"../utils/timeRanges":46}],5:[function(e,t,n){"use strict";function f(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function h(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../events"),s=f(i),o=e("../event-handler"),u=f(o),a=e("../utils/logger"),p=function(e){function t(e){l(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.MANIFEST_LOADING,s.default.MANIFEST_LOADED,s.default.AUDIO_TRACK_LOADED));return n.tracks=[],n.trackId=0,n}return h(t,e),r(t,[{key:"destroy",value:function(){u.default.prototype.destroy.call(this)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.trackId=0}},{key:"onManifestLoaded",value:function(t){var n=this,r=t.audioTracks||[];this.tracks=r,this.hls.trigger(s.default.AUDIO_TRACKS_UPDATED,{audioTracks:r}),r.forEach(function(e){if(e.default){n.audioTrack=e.id;return}})}},{key:"onAudioTrackLoaded",value:function(t){t.id<this.tracks.length&&(a.logger.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*t.details.targetduration)),!t.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))}},{key:"setAudioTrackInternal",value:function(t){if(t>=0&&t<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=t,a.logger.log("switching to audioTrack "+t),this.hls.trigger(s.default.AUDIO_TRACK_SWITCH,{id:t});var n=this.tracks[t];if(n.details===undefined||n.details.live===!0)a.logger.log("(re)loading playlist for audioTrack "+t),this.hls.trigger(s.default.AUDIO_TRACK_LOADING,{url:n.url,id:t})}}},{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){(this.trackId!==t||this.tracks[t].details===undefined)&&this.setAudioTrackInternal(t)}}]),t}(u.default);n.default=p},{"../event-handler":25,"../events":26,"../utils/logger":44}],6:[function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function p(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../events"),s=l(i),o=e("../event-handler"),u=l(o),a=e("../utils/logger"),f=e("../errors"),d=function(e){function t(e){c(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.MEDIA_ATTACHING,s.default.MEDIA_DETACHING,s.default.MANIFEST_PARSED,s.default.BUFFER_RESET,s.default.BUFFER_APPENDING,s.default.BUFFER_CODECS,s.default.BUFFER_EOS,s.default.BUFFER_FLUSHING,s.default.LEVEL_UPDATED));return n._msDuration=null,n._levelDuration=null,n.onsbue=n.onSBUpdateEnd.bind(n),n.onsbe=n.onSBUpdateError.bind(n),n.pendingTracks={},n}return p(t,e),r(t,[{key:"destroy",value:function(){u.default.prototype.destroy.call(this)}},{key:"onManifestParsed",value:function(t){var n=t.audio,r=t.video,i=0;if(n||r)i=(n?1:0)+(r?1:0),a.logger.log(i+" sourceBuffer(s) expected");this.sourceBufferNb=i}},{key:"onMediaAttaching",value:function(t){var n=this.media=t.media;if(n){var r=this.mediaSource=new MediaSource;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener("sourceopen",this.onmso),r.addEventListener("sourceended",this.onmse),r.addEventListener("sourceclose",this.onmsc),n.src=URL.createObjectURL(r)}}},{key:"onMediaDetaching",value:function(){a.logger.log("media source detaching");var t=this.mediaSource;if(t){if(t.readyState==="open")try{t.endOfStream()}catch(n){a.logger.warn("onMediaDetaching:"+n.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc);try{this.media.src="",this.media.removeAttribute("src")}catch(n){a.logger.warn("onMediaDetaching:"+n.message+" while unlinking video.src")}this.mediaSource=null,this.media=null,this.pendingTracks={},this.sourceBuffer={}}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(s.default.MEDIA_DETACHED)}},{key:"onMediaSourceOpen",value:function(){a.logger.log("media source opened"),this.hls.trigger(s.default.MEDIA_ATTACHED,{media:this.media}),this.mediaSource.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()}},{key:"checkPendingTracks",value:function(){var t=this.pendingTracks,n=Object.keys(t).length;n&&(this.sourceBufferNb===n||this.sourceBufferNb===0)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())}},{key:"onMediaSourceClose",value:function(){a.logger.log("media source closed")}},{key:"onMediaSourceEnded",value:function(){a.logger.log("media source ended")}},{key:"onSBUpdateEnd",value:function(){this._needsFlush&&this.doFlush(),this._needsEos&&this.onBufferEos(),this.appending=!1,this.hls.trigger(s.default.BUFFER_APPENDED,{parent:this.parent}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()}},{key:"onSBUpdateError",value:function(t){a.logger.error("sourceBuffer error:"+t),this.hls.trigger(s.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferReset",value:function(){var t=this.sourceBuffer;for(var n in t){var r=t[n];try{this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this.onsbue),r.removeEventListener("error",this.onsbe)}catch(i){}}this.sourceBuffer={},this.flushRange=[],this.appended=0}},{key:"onBufferCodecs",value:function(t){if(Object.keys(this.sourceBuffer).length===0){for(var n in t)this.pendingTracks[n]=t[n];var r=this.mediaSource;r&&r.readyState==="open"&&this.checkPendingTracks()}}},{key:"createSourceBuffers",value:function(t){var n=this.sourceBuffer,r=this.mediaSource;for(var i in t)if(!n[i]){var o=t[i],u=o.levelCodec||o.codec,l=o.container+";codecs="+u;a.logger.log("creating sourceBuffer with mimeType:"+l);try{var c=n[i]=r.addSourceBuffer(l);c.addEventListener("updateend",this.onsbue),c.addEventListener("error",this.onsbe),o.buffer=c}catch(h){a.logger.error("error while trying to add sourceBuffer:"+h.message),this.hls.trigger(s.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:h,mimeType:l})}}this.hls.trigger(s.default.BUFFER_CREATED,{tracks:t})}},{key:"onBufferAppending",value:function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())}},{key:"onBufferAppendFail",value:function(t){a.logger.error("sourceBuffer error:"+t.event),this.hls.trigger(s.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1,frag:this.fragCurrent})}},{key:"onBufferEos",value:function(){var t=this.sourceBuffer,n=this.mediaSource;if(!n||n.readyState!=="open")return;t.audio&&t.audio.updating||t.video&&t.video.updating?this._needsEos=!0:(a.logger.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment"),n.endOfStream(),this._needsEos=!1)}},{key:"onBufferFlushing",value:function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()}},{key:"onLevelUpdated",value:function(t){var n=t.details;if(n.fragments.length===0)return;this._levelDuration=n.totalduration+n.fragments[0].start,this.updateMediaElementDuration()}},{key:"updateMediaElementDuration",value:function(){if(this._levelDuration===null)return;var t=this.media,n=this.mediaSource,r=this.sourceBuffer;if(!t||!n||!r||t.readyState===0||n.readyState!=="open")return;for(var i in r)if(r[i].updating)return;this._msDuration===null&&(this._msDuration=n.duration),this._levelDuration>this._msDuration&&(a.logger.log("Updating mediasource duration to "+this._levelDuration),n.duration=this._levelDuration,this._msDuration=this._levelDuration)}},{key:"doFlush",value:function(){while(this.flushRange.length){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type)){this._needsFlush=!0;return}this.flushRange.shift(),this.flushBufferCounter=0}if(this.flushRange.length===0){this._needsFlush=!1;var n=0,r=this.sourceBuffer;for(var i in r)n+=r[i].buffered.length;this.appended=n,this.hls.trigger(s.default.BUFFER_FLUSHED)}}},{key:"doAppending",value:function(){var t=this.hls,n=this.sourceBuffer,r=this.segments;if(Object.keys(n).length){if(this.media.error){this.segments=[],a.logger.error("trying to append although a media error occured, flush segment and abort");return}if(this.appending)return;if(r&&r.length){var i=r.shift();try{n[i.type]?(this.parent=i.parent,n[i.type].appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(o){a.logger.error("error while trying to append buffer:"+o.message),r.unshift(i);var u={type:f.ErrorTypes.MEDIA_ERROR};if(o.code===22){this.segments=[],u.details=f.ErrorDetails.BUFFER_FULL_ERROR,t.trigger(s.default.ERROR,u);return}this.appendError?this.appendError++:this.appendError=1,u.details=f.ErrorDetails.BUFFER_APPEND_ERROR,u.frag=this.fragCurrent;if(this.appendError>t.config.appendErrorMaxRetry){a.logger.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),r=[],u.fatal=!0,t.trigger(s.default.ERROR,u);return}u.fatal=!1,t.trigger(s.default.ERROR,u)}}}}},{key:"flushBuffer",value:function(t,n,r){var i,s,o,u,f,l;if(this.flushBufferCounter<this.appended&&this.sourceBuffer)for(var c in this.sourceBuffer){if(r&&c!==r)continue;i=this.sourceBuffer[c];if(!!i.updating)return a.logger.warn("cannot flush, sb updating in progress"),!1;for(s=0;s<i.buffered.length;s++){o=i.buffered.start(s),u=i.buffered.end(s),navigator.userAgent.toLowerCase().indexOf("firefox")!==-1&&n===Number.POSITIVE_INFINITY?(f=t,l=n):(f=Math.max(o,t),l=Math.min(u,n));if(Math.min(l,u)-f>.5)return this.flushBufferCounter++,a.logger.log("flush "+c+" ["+f+","+l+"], of ["+o+","+u+"], pos:"+this.media.currentTime),i.remove(f,l),!1}}else a.logger.warn("abort flushing too many retries");return a.logger.log("buffer flushed"),!0}}]),t}(u.default);n.default=d},{"../errors":24,"../event-handler":25,"../events":26,"../utils/logger":44}],7:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../events"),s=a(i),o=e("../event-handler"),u=a(o),h=function(e){function t(e){return f(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.FPS_DROP_LEVEL_CAPPING,s.default.MEDIA_ATTACHING,s.default.MANIFEST_PARSED))}return c(t,e),r(t,[{key:"destroy",value:function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))}},{key:"onFpsDropLevelCapping",value:function(t){this.restrictedLevels||(this.restrictedLevels=[]),this.isLevelRestricted(t.droppedLevel)||this.restrictedLevels.push(t.droppedLevel)}},{key:"onMediaAttaching",value:function(t){this.media=t.media instanceof HTMLVideoElement?t.media:null}},{key:"onManifestParsed",value:function(t){this.hls.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=t.levels,this.hls.firstLevel=this.getMaxLevel(t.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"detectPlayerSize",value:function(){if(this.media){var t=this.levels?this.levels.length:0;t&&(this.hls.autoLevelCapping=this.getMaxLevel(t-1),this.hls.autoLevelCapping>this.autoLevelCapping&&this.hls.streamController.nextLevelSwitch(),this.autoLevelCapping=this.hls.autoLevelCapping)}}},{key:"getMaxLevel",value:function(t){var n=0,r=void 0,i=void 0,s=this.mediaWidth,o=this.mediaHeight,u=0,a=0;for(r=0;r<=t;r++){i=this.levels[r];if(this.isLevelRestricted(r))break;n=r,u=i.width,a=i.height;if(s<=u||o<=a)break}return n}},{key:"isLevelRestricted",value:function(t){return this.restrictedLevels&&this.restrictedLevels.indexOf(t)!==-1?!0:!1}},{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(n){}return t}},{key:"mediaWidth",get:function(){var t=void 0;return this.media&&(t=this.media.width||this.media.clientWidth||this.media.offsetWidth,t*=this.contentScaleFactor),t}},{key:"mediaHeight",get:function(){var t=void 0;return this.media&&(t=this.media.height||this.media.clientHeight||this.media.offsetHeight,t*=this.contentScaleFactor),t}}]),t}(u.default);n.default=h},{"../event-handler":25,"../events":26}],8:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../utils/ewma"),s=o(i),a=function(){function e(t,n,r,i){u(this,e),this.hls=t,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new s.default(n),this.fast_=new s.default(r)}return r(e,[{key:"sample",value:function(t,n){t=Math.max(t,this.minDelayMs_);var r=8e3*n/t,i=t/1e3;this.fast_.sample(i,r),this.slow_.sample(i,r)}},{key:"getEstimate",value:function(){return!this.fast_||!this.slow_||this.fast_.getTotalWeight()<this.minWeight_?this.defaultEstimate_:Math.min(this.fast_.getEstimate(),this.slow_.getEstimate())}},{key:"destroy",value:function(){}}]),e}();n.default=a},{"../utils/ewma":43}],9:[function(e,t,n){"use strict";function f(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function h(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../events"),s=f(i),o=e("../event-handler"),u=f(o),a=e("../utils/logger"),p=function(e){function t(e){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.MEDIA_ATTACHING))}return h(t,e),r(t,[{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1}},{key:"onMediaAttaching",value:function(t){this.hls.config.capLevelOnFPSDrop&&(this.video=t.media instanceof HTMLVideoElement?t.media:null,typeof this.video.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),this.hls.config.fpsDroppedMonitoringPeriod))}},{key:"checkFPS",value:function(t,n,r){var i=performance.now();if(n){if(this.lastTime){var o=i-this.lastTime,u=r-this.lastDroppedFrames,f=n-this.lastDecodedFrames,l=1e3*u/o;this.hls.trigger(s.default.FPS_DROP,{currentDropped:u,currentDecoded:f,totalDroppedFrames:r});if(l>0&&u>this.hls.config.fpsDroppedMonitoringThreshold*f){var c=this.hls.currentLevel;a.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+c),c>0&&(this.hls.autoLevelCapping===-1||this.hls.autoLevelCapping>=c)&&(c-=1,this.hls.trigger(s.default.FPS_DROP_LEVEL_CAPPING,{level:c,droppedLevel:this.hls.currentLevel}),this.hls.autoLevelCapping=c,this.hls.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=n}}},{key:"checkFPSInterval",value:function(){if(this.video)if(this.isVideoPlaybackQualityAvailable){var t=this.video.getVideoPlaybackQuality();this.checkFPS(this.video,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(this.video,this.video.webkitDecodedFrameCount,this.video.webkitDroppedFrameCount)}}]),t}(u.default);n.default=p},{"../event-handler":25,"../events":26,"../utils/logger":44}],10:[function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function p(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../events"),s=l(i),o=e("../event-handler"),u=l(o),a=e("../utils/logger"),f=e("../errors"),d=function(e){function t(e){c(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.MANIFEST_LOADED,s.default.LEVEL_LOADED,s.default.ERROR));return n.ontick=n.tick.bind(n),n._manualLevel=n._autoLevelCapping=-1,n}return p(t,e),r(t,[{key:"destroy",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this._manualLevel=-1}},{key:"startLoad",value:function(){this.canload=!0,this.timer&&this.tick()}},{key:"stopLoad",value:function(){this.canload=!1}},{key:"onManifestLoaded",value:function(t){var n=[],r=[],i,o,u={},l=!1,c=!1,h=this.hls;t.levels.forEach(function(e){e.videoCodec&&(l=!0);if(e.audioCodec||e.attrs&&e.attrs.AUDIO)c=!0;var t=u[e.bitrate];t===undefined?(u[e.bitrate]=n.length,e.url=[e.url],e.urlId=0,n.push(e)):n[t].url.push(e.url)}),l&&c?n.forEach(function(e){e.videoCodec&&r.push(e)}):r=n,r=r.filter(function(e){var t=function(t){return MediaSource.isTypeSupported("audio/mp4;codecs="+t)},n=function(t){return MediaSource.isTypeSupported("video/mp4;codecs="+t)},r=e.audioCodec,i=e.videoCodec;return(!r||t(r))&&(!i||n(i))});if(r.length){i=r[0].bitrate,r.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=r;for(o=0;o<r.length;o++)if(r[o].bitrate===i){this._firstLevel=o,a.logger.log("manifest loaded,"+r.length+" level(s) found, first bitrate:"+i);break}h.trigger(s.default.MANIFEST_PARSED,{levels:this._levels,firstLevel:this._firstLevel,stats:t.stats,audio:c,video:l})}else h.trigger(s.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:h.url,reason:"no level with compatible codecs found in manifest"});return}},{key:"setLevelInternal",value:function(t){var n=this._levels;if(t>=0&&t<n.length){this.timer&&(clearTimeout(this.timer),this.timer=null),this._level=t,a.logger.log("switching to level "+t),this.hls.trigger(s.default.LEVEL_SWITCH,{level:t});var r=n[t];if(r.details===undefined||r.details.live===!0){a.logger.log("(re)loading playlist for level "+t);var i=r.urlId;this.hls.trigger(s.default.LEVEL_LOADING,{url:r.url[i],level:t,id:i})}}else this.hls.trigger(s.default.ERROR,{type:f.ErrorTypes.OTHER_ERROR,details:f.ErrorDetails.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})}},{key:"onError",value:function(t){if(t.fatal)return;var n=t.details,r=this.hls,i=void 0,o=void 0,u=!1;switch(n){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:case f.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case f.ErrorDetails.KEY_LOAD_ERROR:case f.ErrorDetails.KEY_LOAD_TIMEOUT:i=t.frag.level;break;case f.ErrorDetails.LEVEL_LOAD_ERROR:case f.ErrorDetails.LEVEL_LOAD_TIMEOUT:i=t.context.level,u=!0;break;default:}if(i!==undefined){o=this._levels[i];if(o.urlId<o.url.length-1)o.urlId++,o.details=undefined,a.logger.warn("level controller,"+n+" for level "+i+": switching to redundant stream id "+o.urlId);else{var l=this._manualLevel===-1&&i;l?(a.logger.warn("level controller,"+n+": emergency switch-down for next fragment"),r.abrController.nextAutoLevel=0):o&&o.details&&o.details.live?(a.logger.warn("level controller,"+n+" on live stream, discard"),u&&(this._level=undefined)):n!==f.ErrorDetails.FRAG_LOAD_ERROR&&n!==f.ErrorDetails.FRAG_LOAD_TIMEOUT&&(a.logger.error("cannot recover "+n+" error"),this._level=undefined,this.timer&&(clearTimeout(this.timer),this.timer=null),t.fatal=!0,r.trigger(s.default.ERROR,t))}}}},{key:"onLevelLoaded",value:function(t){if(t.level===this._level){var n=t.details;if(n.live){var r=1e3*(n.averagetargetduration?n.averagetargetduration:n.targetduration),i=this._levels[t.level],s=i.details;s&&n.endSN===s.endSN&&(r/=2,a.logger.log("same live playlist, reload twice faster")),r-=performance.now()-t.stats.trequest,r=Math.max(1e3,Math.round(r)),a.logger.log("live playlist, reload in "+r+" ms"),this.timer=setTimeout(this.ontick,r)}else this.timer=null}}},{key:"tick",value:function(){var t=this._level;if(t!==undefined&&this.canload){var n=this._levels[t],r=n.urlId;this.hls.trigger(s.default.LEVEL_LOADING,{url:n.url[r],level:t,id:r})}}},{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._level},set:function(t){var n=this._levels;n&&n.length>t&&(this._level!==t||n[t].details===undefined)&&this.setLevelInternal(t)}},{key:"manualLevel",get:function(){return this._manualLevel},set:function(t){this._manualLevel=t,this._startLevel===undefined&&(this._startLevel=t),t!==-1&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){return this._startLevel===undefined?this._firstLevel:this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return this._manualLevel!==-1?this._manualLevel:this.hls.abrController.nextAutoLevel},set:function(t){this.level=t,this._manualLevel===-1&&(this.hls.abrController.nextAutoLevel=t)}}]),t}(u.default);n.default=d},{"../errors":24,"../event-handler":25,"../events":26,"../utils/logger":44}],11:[function(e,t,n){"use strict";function w(e){return e&&e.__esModule?e:{"default":e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function x(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../utils/binary-search"),s=w(i),o=e("../helper/buffer-helper"),u=w(o),a=e("../demux/demuxer"),f=w(a),l=e("../events"),c=w(l),h=e("../event-handler"),p=w(h),d=e("../helper/level-helper"),v=w(d),m=e("../utils/timeRanges"),g=w(m),y=e("../errors"),b=e("../utils/logger"),T={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR"},N=5,C=function(e){function t(e){E(this,t);var n=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,c.default.MEDIA_ATTACHED,c.default.MEDIA_DETACHING,c.default.MANIFEST_LOADING,c.default.MANIFEST_PARSED,c.default.LEVEL_LOADED,c.default.KEY_LOADED,c.default.FRAG_LOADED,c.default.FRAG_LOAD_EMERGENCY_ABORTED,c.default.FRAG_PARSING_INIT_SEGMENT,c.default.FRAG_PARSING_DATA,c.default.FRAG_PARSED,c.default.ERROR,c.default.BUFFER_CREATED,c.default.BUFFER_APPENDED,c.default.BUFFER_FLUSHED));return n.config=e.config,n.audioCodecSwap=!1,n.ticks=0,n.ontick=n.tick.bind(n),n.frozenForTickCount=0,n}return x(t,e),r(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),p.default.prototype.destroy.call(this),this.state=T.STOPPED}},{key:"startLoad",value:function(t){if(this.levels){var n=this.media,r=this.lastCurrentTime;this.stopLoad(),this.demuxer=new f.default(this.hls,"main"),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,n&&r>0?(b.logger.log("configure startPosition @"+r),this.lastPaused||(b.logger.log("resuming video"),n.play()),this.state=T.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=T.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else b.logger.warn("cannot start loading as manifest not parsed yet"),this.state=T.STOPPED}},{key:"stopLoad",value:function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=T.STOPPED}},{key:"tick",value:function(){this.ticks++,this.ticks===1&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){switch(this.state){case T.STARTING:var t=this.hls,n=t.startLevel;n===-1&&(n=0,this.fragBitrateTest=!0),this.level=t.nextLoadLevel=n,this.state=T.WAITING_LEVEL,this.loadedmetadata=!1;break;case T.IDLE:if(!this._doTickIdle())return;break;case T.WAITING_LEVEL:var r=this.levels[this.level];r&&r.details&&(this.state=T.IDLE);break;case T.FRAG_LOADING_WAITING_RETRY:var i=performance.now(),s=this.retryDate;if(!s||i>=s||this.media&&this.media.seeking)b.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=T.IDLE;break;case T.ERROR:case T.PAUSED:case T.STOPPED:case T.FRAG_LOADING:case T.PARSING:case T.PARSED:case T.ENDED:break;default:}this._checkBuffer(),this._checkFragmentChanged()}},{key:"_doTickIdle",value:function(){var t=this.hls,n=t.config,r=this.media;if(!r&&(this.startFragRequested||!n.startFragPrefetch))return!0;var i=void 0;this.loadedmetadata?i=r.currentTime:i=this.nextLoadPosition;var s=t.nextLoadLevel,o=void 0;this.levels[s].hasOwnProperty("bitrate")?(o=Math.max(8*n.maxBufferSize/this.levels[s].bitrate,n.maxBufferLength),o=Math.min(o,n.maxMaxBufferLength)):o=n.maxBufferLength;var a=u.default.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,i,n.maxBufferHole),f=a.len;if(f>=o)return!0;b.logger.trace("buffer length of "+f.toFixed(3)+" is below max of "+o.toFixed(3)+". checking for more payload ..."),t.nextLoadLevel=s,this.level=s;var l=this.levels[s].details;return typeof l=="undefined"||l.live&&this.levelLastLoaded!==s?(this.state=T.WAITING_LEVEL,!0):this._fetchPayloadOrEos({pos:i,bufferInfo:a,levelDetails:l})}},{key:"_fetchPayloadOrEos",value:function(t){var n=t.pos,r=t.bufferInfo,i=t.levelDetails,s=this.fragPrevious,o=this.level,u=i.fragments,a=u.length,f=u[0].start,l=u[a-1].start+u[a-1].duration,c=r.end,h=void 0;if(i.live){h=this._ensureFragmentAtLivePoint({levelDetails:i,bufferEnd:c,start:f,end:l,fragPrevious:s,fragments:u,fragLen:a});if(h===null)return!1}else c<f&&(h=u[0]);return h||(h=this._findFragment({start:f,fragPrevious:s,fragLen:a,fragments:u,bufferEnd:c,end:l,levelDetails:i})),h?this._loadFragmentOrKey({frag:h,level:o,levelDetails:i,pos:n,bufferEnd:c}):!0}},{key:"_ensureFragmentAtLivePoint",value:function(t){var n=t.levelDetails,r=t.bufferEnd,i=t.start,s=t.end,o=t.fragPrevious,u=t.fragments,a=t.fragLen,f=this.hls.config,l=void 0,c=f.liveMaxLatencyDuration!==undefined?f.liveMaxLatencyDuration:f.liveMaxLatencyDurationCount*n.targetduration;if(r<Math.max(i,s-c)){var h=f.liveSyncDuration!==undefined?f.liveSyncDuration:f.liveSyncDurationCount*n.targetduration,p=i+Math.max(0,n.totalduration-h);b.logger.log("buffer end: "+r+" is located too far from the end of live sliding playlist, reset currentTime to : "+p.toFixed(3)),r=p;var d=this.media;d&&d.readyState&&d.duration>p&&(d.currentTime=p)}if(n.PTSKnown&&r>s)return null;if(this.startFragRequested&&!n.PTSKnown){if(o){var v=o.sn+1;v>=n.startSN&&v<=n.endSN&&(l=u[v-n.startSN],b.logger.log("live playlist, switching playlist, load frag with next SN: "+l.sn))}l||(l=u[Math.min(a-1,Math.round(a/2))],b.logger.log("live playlist, switching playlist, unknown, load middle frag : "+l.sn))}return l}},{key:"_findFragment",value:function(t){var n=t.start,r=t.fragPrevious,i=t.fragLen,o=t.fragments,u=t.bufferEnd,a=t.end,f=t.levelDetails,l=this.hls.config,h=void 0,p=void 0,d=l.maxFragLookUpTolerance;u<a?(u>a-d&&(d=0),p=s.default.search(o,function(e){return e.start+e.duration-d<=u?1:e.start-d>u&&e.start?-1:0})):p=o[i-1];if(p){h=p,n=p.start;if(r&&h.level===r.level&&h.sn===r.sn)if(h.sn<f.endSN){var v=r.deltaPTS,m=h.sn-f.startSN;v&&v>l.maxBufferHole&&r.dropped&&m?(h=o[m-1],b.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),r.loadCounter--):(h=o[m+1],b.logger.log("SN just loaded, load next one: "+h.sn))}else f.live||(this.hls.trigger(c.default.BUFFER_EOS),this.media.seeking||(this.state=T.ENDED)),h=null}return h}},{key:"_loadFragmentOrKey",value:function(t){var n=t.frag,r=t.level,i=t.levelDetails,s=t.pos,o=t.bufferEnd,u=this.hls,a=u.config;if(n.decryptdata.uri==null||n.decryptdata.key!=null){b.logger.log("Loading "+n.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+r+", currentTime:"+s+",bufferEnd:"+o.toFixed(3)),this.fragLoadIdx!==undefined?this.fragLoadIdx++:this.fragLoadIdx=0;if(n.loadCounter){n.loadCounter++;var f=a.fragLoadingLoopThreshold;if(n.loadCounter>f&&Math.abs(this.fragLoadIdx-n.loadIdx)<f)return u.trigger(c.default.ERROR,{type:y.ErrorTypes.MEDIA_ERROR,details:y.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:n}),!1}else n.loadCounter=1;return n.loadIdx=this.fragLoadIdx,n.autoLevel=u.autoLevelEnabled,this.fragCurrent=n,this.startFragRequested=!0,u.trigger(c.default.FRAG_LOADING,{frag:n}),this.state=T.FRAG_LOADING,!0}b.logger.log("Loading key for "+n.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+r),this.state=T.KEY_LOADING,u.trigger(c.default.KEY_LOADING,{frag:n})}},{key:"getBufferRange",value:function(t){var n,r,i=this.bufferRange;if(i)for(n=i.length-1;n>=0;n--){r=i[n];if(t>=r.start&&t<=r.end)return r}return null}},{key:"followingBufferRange",value:function(t){return t?this.getBufferRange(t.end+.5):null}},{key:"isBuffered",value:function(t){var n=this.media;if(n){var r=n.buffered;for(var i=0;i<r.length;i++)if(t>=r.start(i)&&t<=r.end(i))return!0}return!1}},{key:"_checkFragmentChanged",value:function(){var t,n,r=this.media;if(r&&r.seeking===!1){n=r.currentTime,n>r.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=n),this.isBuffered(n)?t=this.getBufferRange(n):this.isBuffered(n+.1)&&(t=this.getBufferRange(n+.1));if(t){var i=t.frag;i!==this.fragPlaying&&(this.fragPlaying=i,this.hls.trigger(c.default.FRAG_CHANGED,{frag:i}))}}}},{key:"immediateLevelSwitch",value:function(){b.logger.log("immediateLevelSwitch");if(!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,n=void 0;t?(n=t.paused,t.pause()):n=!0,this.previouslyPaused=n}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.state=T.PAUSED,this.hls.trigger(c.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY})}},{key:"immediateLevelSwitchEnd",value:function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,this.isBuffered(t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())}},{key:"nextLevelSwitch",value:function(){var t=this.media;if(t&&t.readyState){var n=void 0,r=void 0,i=void 0;this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,r=this.getBufferRange(t.currentTime),r&&r.start>1&&(this.state=T.PAUSED,this.hls.trigger(c.default.BUFFER_FLUSHING,{startOffset:0,endOffset:r.start-1}));if(!t.paused){var s=this.hls.nextLoadLevel,o=this.levels[s],u=this.fragLastKbps;u&&this.fragCurrent?n=this.fragCurrent.duration*o.bitrate/(1e3*u)+1:n=0}else n=0;i=this.getBufferRange(t.currentTime+n);if(i){i=this.followingBufferRange(i);if(i){var a=this.fragCurrent;a&&a.loader&&a.loader.abort(),this.fragCurrent=null,this.state=T.PAUSED,this.hls.trigger(c.default.BUFFER_FLUSHING,{startOffset:i.start,endOffset:Number.POSITIVE_INFINITY})}}}}},{key:"onMediaAttached",value:function(t){var n=this.media=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("seeked",this.onvseeked),n.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition)}},{key:"onMediaDetaching",value:function(){var t=this.media;t&&t.ended&&(b.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var n=this.levels;n&&n.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=undefined})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){var t=this.media,n=t?t.currentTime:undefined;b.logger.log("media seeking to "+n);if(this.state===T.FRAG_LOADING){var r=u.default.bufferInfo(t,n,this.config.maxBufferHole),i=this.fragCurrent;if(r.len===0&&i){var s=this.config.maxFragLookUpTolerance,o=i.start-s,a=i.start+i.duration+s;n<o||n>a?(i.loader&&(b.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=T.IDLE):b.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===T.ENDED&&(this.state=T.IDLE);t&&(this.lastCurrentTime=n),this.state!==T.FRAG_LOADING&&this.fragLoadIdx!==undefined&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()}},{key:"onMediaSeeked",value:function(){b.logger.log("media seeked to "+this.media.currentTime),this.tick()}},{key:"onMediaEnded",value:function(){b.logger.log("media ended"),this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoading",value:function(){b.logger.log("trigger BUFFER_RESET"),this.hls.trigger(c.default.BUFFER_RESET),this.bufferRange=[],this.stalled=!1}},{key:"onManifestParsed",value:function(t){var n=!1,r=!1,i;t.levels.forEach(function(e){i=e.audioCodec,i&&(i.indexOf("mp4a.40.2")!==-1&&(n=!0),i.indexOf("mp4a.40.5")!==-1&&(r=!0))}),this.audioCodecSwitch=n&&r,this.audioCodecSwitch&&b.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startLevelLoaded=!1,this.startFragRequested=!1;var s=this.config;s.autoStartLoad&&this.hls.startLoad(s.startPosition)}},{key:"onLevelLoaded",value:function(t){var n=t.details,r=t.level,i=this.levels[r],s=n.totalduration,o=0;b.logger.log("level "+r+" loaded ["+n.startSN+","+n.endSN+"],duration:"+s),this.levelLastLoaded=r;if(n.live){var u=i.details;u?(v.default.mergeDetails(u,n),o=n.fragments[0].start,n.PTSKnown?b.logger.log("live playlist sliding:"+o.toFixed(3)):b.logger.log("live playlist - outdated PTS, unknown sliding")):(n.PTSKnown=!1,b.logger.log("live playlist - first load, unknown sliding"))}else n.PTSKnown=!1;i.details=n,this.hls.trigger(c.default.LEVEL_UPDATED,{details:n,level:r});if(this.startFragRequested===!1){if(this.startPosition===-1){var a=n.startTimeOffset;if(!isNaN(a))a<0&&(b.logger.log("negative start time offset "+a+", count from end of last fragment"),a=o+s+a),b.logger.log("start time offset found in playlist, adjust startPosition to "+a),this.startPosition=a;else if(n.live){var f=this.config.liveSyncDuration!==undefined?this.config.liveSyncDuration:this.config.liveSyncDurationCount*n.targetduration;this.startPosition=Math.max(0,o+s-f),b.logger.log("configure startPosition to "+this.startPosition)}else this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===T.WAITING_LEVEL&&(this.state=T.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===T.KEY_LOADING&&(this.state=T.IDLE,this.tick())}},{key:"onFragLoaded",value:function(t){var n=this.fragCurrent;if(this.state===T.FRAG_LOADING&&n&&t.frag.type==="main"&&t.frag.level===n.level&&t.frag.sn===n.sn){b.logger.log("Loaded  "+n.sn+" of level "+n.level);if(this.fragBitrateTest===!0)this.state=T.IDLE,this.fragBitrateTest=!1,this.startFragRequested=!1,t.stats.tparsed=t.stats.tbuffered=performance.now(),this.hls.trigger(c.default.FRAG_BUFFERED,{stats:t.stats,frag:n,id:"main"});else{this.state=T.PARSING,this.stats=t.stats;var r=this.levels[this.level],i=r.details,s=i.totalduration,o=n.startDTS!==undefined?n.startDTS:n.start,u=n.level,a=n.sn,f=this.config.defaultAudioCodec||r.audioCodec;this.audioCodecSwap&&(b.logger.log("swapping playlist audio codec"),f===undefined&&(f=this.lastAudioCodec),f&&(f.indexOf("mp4a.40.5")!==-1?f="mp4a.40.2":f="mp4a.40.5")),this.pendingAppending=0,b.logger.log("Demuxing "+a+" of ["+i.startSN+" ,"+i.endSN+"],level "+u+", cc "+n.cc);var l=this.demuxer;l&&l.push(t.payload,f,r.videoCodec,o,n.cc,u,a,s,n.decryptdata)}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(t){var n=this.fragCurrent;if(n&&t.id==="main"&&t.sn===n.sn&&t.level===n.level&&this.state===T.PARSING){var r=t.tracks,i,s;s=r.audio;if(s){var o=this.levels[this.level].audioCodec,u=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(b.logger.log("swapping playlist audio codec"),o.indexOf("mp4a.40.5")!==-1?o="mp4a.40.2":o="mp4a.40.5"),this.audioCodecSwitch&&s.metadata.channelCount!==1&&u.indexOf("firefox")===-1&&(o="mp4a.40.5"),u.indexOf("android")!==-1&&(o="mp4a.40.2",b.logger.log("Android: force audio codec to"+o)),s.levelCodec=o,s.id=t.id}s=r.video,s&&(s.levelCodec=this.levels[this.level].videoCodec,s.id=t.id);if(t.unique){var a={codec:"",levelCodec:""};for(i in t.tracks)s=r[i],a.container=s.container,a.codec&&(a.codec+=",",a.levelCodec+=","),s.codec&&(a.codec+=s.codec),s.levelCodec&&(a.levelCodec+=s.levelCodec);r={audiovideo:a}}this.hls.trigger(c.default.BUFFER_CODECS,r);for(i in r){s=r[i],b.logger.log("track:"+i+",container:"+s.container+",codecs[level/parsed]=["+s.levelCodec+"/"+s.codec+"]");var f=s.initSegment;f&&(this.pendingAppending++,this.hls.trigger(c.default.BUFFER_APPENDING,{type:i,data:f,parent:"main"}))}this.tick()}}},{key:"onFragParsingData",value:function(t){var n=this,r=this.fragCurrent;if(r&&t.id==="main"&&t.sn===r.sn&&t.level===r.level&&this.state===T.PARSING){var i=this.levels[this.level],s=this.fragCurrent;b.logger.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0));var o=v.default.updateFragPTSDTS(i.details,s.sn,t.startPTS,t.endPTS,t.startDTS,t.endDTS),u=this.hls;u.trigger(c.default.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:o}),t.type==="video"&&(s.dropped=t.dropped),[t.data1,t.data2].forEach(function(e){e&&(n.pendingAppending++,u.trigger(c.default.BUFFER_APPENDING,{type:t.type,data:e,parent:"main"}))}),this.nextLoadPosition=t.endPTS,this.bufferRange.push({type:t.type,start:t.startPTS,end:t.endPTS,frag:s}),this.tick()}}},{key:"onFragParsed",value:function(t){var n=this.fragCurrent;n&&t.id==="main"&&t.sn===n.sn&&t.level===n.level&&this.state===T.PARSING&&(this.stats.tparsed=performance.now(),this.state=T.PARSED,this._checkAppendedParsed())}},{key:"onBufferCreated",value:function(t){var n=t.tracks,r=void 0,i=void 0,s=!1;for(var o in n){var u=n[o];u.id==="main"?(i=o,r=u):s=!0}s&&r?(b.logger.log("alternate track found, use "+i+".buffered to schedule main fragment loading"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media}},{key:"onBufferAppended",value:function(t){if(t.parent==="main")switch(this.state){case T.PARSING:case T.PARSED:this.pendingAppending--,this._checkAppendedParsed();break;default:}}},{key:"_checkAppendedParsed",value:function(){if(this.state===T.PARSED&&this.pendingAppending===0){var t=this.fragCurrent,n=this.stats;if(t){this.fragPrevious=t,n.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*n.length/(n.tbuffered-n.tfirst)),this.hls.trigger(c.default.FRAG_BUFFERED,{stats:n,frag:t,id:"main"});var r=this.mediaBuffer?this.mediaBuffer:this.media;b.logger.log("main buffered : "+g.default.toString(r.buffered)),this.state=T.IDLE}this.tick()}}},{key:"onError",value:function(t){var n=t.frag;if(n&&n.type!=="main")return;switch(t.details){case y.ErrorDetails.FRAG_LOAD_ERROR:case y.ErrorDetails.FRAG_LOAD_TIMEOUT:if(!t.fatal){var r=this.fragLoadError;r?r++:r=1;if(r<=this.config.fragLoadingMaxRetry){this.fragLoadError=r,n.loadCounter=0;var i=Math.min(Math.pow(2,r-1)*this.config.fragLoadingRetryDelay,64e3);b.logger.warn("mediaController: frag loading failed, retry in "+i+" ms"),this.retryDate=performance.now()+i,this.state=T.FRAG_LOADING_WAITING_RETRY}else b.logger.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.hls.trigger(c.default.ERROR,t),this.state=T.ERROR}break;case y.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case y.ErrorDetails.LEVEL_LOAD_ERROR:case y.ErrorDetails.LEVEL_LOAD_TIMEOUT:case y.ErrorDetails.KEY_LOAD_ERROR:case y.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==T.ERROR&&(this.state=t.fatal?T.ERROR:T.IDLE,b.logger.warn("mediaController: "+t.details+" while loading frag,switch to "+this.state+" state ..."));break;case y.ErrorDetails.BUFFER_FULL_ERROR:if(this.state===T.PARSING||this.state===T.PARSED)this.config.maxMaxBufferLength/=2,b.logger.warn("reduce max buffer length to "+this.config.maxMaxBufferLength+"s and switch to IDLE state"),this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=T.IDLE;break;default:}}},{key:"_isPlaybackFrozen",value:function(t,n){return t&&(this.frozenForTickCount=n?0:this.frozenForTickCount+1),this.frozenForTickCount===N}},{key:"_checkBuffer",value:function(){var t=this.media;if(t&&t.readyState){var n=t.currentTime,r=t.buffered;if(!this.loadedmetadata&&r.length){this.loadedmetadata=!0;var i=this.startPosition,s=this.isBuffered(i);if(n!==i||!s)b.logger.log("target start position:"+i),s||(i=r.start(0),b.logger.log("target start position not buffered, seek to buffered.start(0) "+i)),b.logger.log("adjust currentTime from "+n+" to "+i),t.currentTime=i}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var o=u.default.bufferInfo(t,n,0),a=!t.paused&&!t.ended&&t.buffered.length!==0,f=.4,l=n>t.playbackRate*this.lastCurrentTime,h=this._isPlaybackFrozen(a,l);if(h){b.logger.log("Playback frozen, attempt to nudge player by assigning to currentTime @"+n),t.currentTime=t.currentTime+this.config.seekHoleNudgeDuration;return}this.stalled&&l&&(this.stalled=!1,b.logger.log("playback not stuck anymore @"+n));if(a&&o.len<=f){var p=o.len<.15;!p&&l?(f=0,this.seekHoleNudgeDuration=0):this.stalled?this.seekHoleNudgeDuration+=this.config.seekHoleNudgeDuration:(this.seekHoleNudgeDuration=p?this.config.seekHoleNudgeDuration:0,b.logger.log("playback seems stuck @"+n),this.hls.trigger(c.default.ERROR,{type:y.ErrorTypes.MEDIA_ERROR,details:y.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1}),this.stalled=!0);if(o.len<=f){var d=o.nextStart,v=d-n;if(d&&v<this.config.maxSeekHole&&v>0){b.logger.log("adjust currentTime from "+t.currentTime+" to next buffered @ "+d+" + nudge "+this.seekHoleNudgeDuration);var m=d+this.seekHoleNudgeDuration-t.currentTime;t.currentTime=d+this.seekHoleNudgeDuration,this.hls.trigger(c.default.ERROR,{type:y.ErrorTypes.MEDIA_ERROR,details:y.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:m})}}}}}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=T.IDLE,this.tick()}},{key:"onBufferFlushed",value:function(){var t=[],n,r;for(r=0;r<this.bufferRange.length;r++)n=this.bufferRange[r],this.isBuffered((n.start+n.end)/2)&&t.push(n);this.bufferRange=t,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=T.IDLE,this.fragPrevious=null}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"state",set:function(t){if(this.state!==t){var n=this.state;this._state=t,b.logger.log("engine state transition from "+n+" to "+t),this.hls.trigger(c.default.STREAM_STATE_TRANSITION,{previousState:n,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){if(this.media){var t=this.getBufferRange(this.media.currentTime);if(t)return t.frag.level}return-1}},{key:"nextBufferRange",get:function(){return this.media?this.followingBufferRange(this.getBufferRange(this.media.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferRange;return t?t.frag.level:-1}}]),t}(p.default);n.default=C},{"../demux/demuxer":20,"../errors":24,"../event-handler":25,"../events":26,"../helper/buffer-helper":28,"../helper/level-helper":29,"../utils/binary-search":40,"../utils/logger":44,"../utils/timeRanges":46}],12:[function(e,t,n){"use strict";function h(e){return e&&e.__esModule?e:{"default":e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function v(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../events"),s=h(i),o=e("../event-handler"),u=h(o),a=e("../utils/cea-608-parser"),f=h(a),l=e("../utils/cues"),c=h(l),m=function(e){function t(e){p(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.MEDIA_ATTACHING,s.default.MEDIA_DETACHING,s.default.FRAG_PARSING_USERDATA,s.default.MANIFEST_LOADING,s.default.FRAG_LOADED,s.default.LEVEL_SWITCH));n.hls=e,n.config=e.config,n.enabled=!0;if(n.config.enableCEA708Captions){var r=n,i={newCue:function(t,n,i){r.textTrack1||(r.textTrack1=r.createTextTrack("captions","Unknown CC1","en")),c.default.newCue(r.textTrack1,t,n,i)}},o={newCue:function(t,n,i){r.textTrack2||(r.textTrack2=r.createTextTrack("captions","Unknown CC2","es")),c.default.newCue(r.textTrack2,t,n,i)}};n.cea608Parser=new f.default(0,i,o)}return n}return v(t,e),r(t,[{key:"clearCurrentCues",value:function(t){if(t&&t.cues)while(t.cues.length>0)t.removeCue(t.cues[0])}},{key:"createTextTrack",value:function(t,n,r){if(this.media)return this.media.addTextTrack(t,n,r)}},{key:"destroy",value:function(){u.default.prototype.destroy.call(this)}},{key:"onMediaAttaching",value:function(t){this.media=t.media}},{key:"onMediaDetaching",value:function(){}},{key:"onManifestLoading",value:function(){this.lastPts=Number.NEGATIVE_INFINITY}},{key:"onLevelSwitch",value:function(){this.hls.currentLevel.closedCaptions==="NONE"?this.enabled=!1:this.enabled=!0}},{key:"onFragLoaded",value:function(t){if(t.frag.type==="main"){var n=t.frag.start;n<=this.lastPts&&(this.clearCurrentCues(this.textTrack1),this.clearCurrentCues(this.textTrack2)),this.lastPts=n}}},{key:"onFragParsingUserdata",value:function(t){if(this.enabled)for(var n=0;n<t.samples.length;n++){var r=this.extractCea608Data(t.samples[n].bytes);this.cea608Parser.addData(t.samples[n].pts,r)}}},{key:"extractCea608Data",value:function(t){var n=t[0]&31,r=2,i,s,o,u,a,f=[];for(var l=0;l<n;l++){i=t[r++],s=127&t[r++],o=127&t[r++],u=(4&i)===0?!1:!0,a=3&i;if(s===0&&o===0)continue;u&&a===0&&(f.push(s),f.push(o))}return f}}]),t}(u.default);n.default=m},{"../event-handler":25,"../events":26,"../utils/cea-608-parser":41,"../utils/cues":42}],13:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){i(this,e),this._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],this._precompute();var n,r,s,o,u,a=this._tables[0][4],f=this._tables[1],l=t.length,c=1;if(l!==4&&l!==6&&l!==8)throw new Error("Invalid aes key size="+l);o=t.slice(0),u=[],this._key=[o,u];for(n=l;n<4*l+28;n++){s=o[n-1];if(n%l===0||l===8&&n%l===4)s=a[s>>>24]<<24^a[s>>16&255]<<16^a[s>>8&255]<<8^a[s&255],n%l===0&&(s=s<<8^s>>>24^c<<24,c=c<<1^(c>>7)*283);o[n]=o[n-l]^s}for(r=0;n;r++,n--)s=o[r&3?n:n-4],n<=4||r<4?u[r]=s:u[r]=f[0][a[s>>>24]]^f[1][a[s>>16&255]]^f[2][a[s>>8&255]]^f[3][a[s&255]]}return r(e,[{key:"_precompute",value:function(){var t=this._tables[0],n=this._tables[1],r=t[4],i=n[4],s,o,u,a=[],f=[],l,c,h,p,d,v;for(s=0;s<256;s++)f[(a[s]=s<<1^(s>>7)*283)^s]=s;for(o=u=0;!r[o];o^=l||1,u=f[u]||1){p=u^u<<1^u<<2^u<<3^u<<4,p=p>>8^p&255^99,r[o]=p,i[p]=o,h=a[c=a[l=a[o]]],v=h*16843009^c*65537^l*257^o*16843008,d=a[p]*257^p*16843008;for(s=0;s<4;s++)t[s][o]=d=d<<24^d>>>8,n[s][p]=v=v<<24^v>>>8}for(s=0;s<5;s++)t[s]=t[s].slice(0),n[s]=n[s].slice(0)}},{key:"decrypt",value:function(t,n,r,i,s,o){var u=this._key[1],a=t^u[0],f=i^u[1],l=r^u[2],c=n^u[3],h,p,d,v=u.length/4-2,m,g=4,y=this._tables[1],b=y[0],w=y[1],E=y[2],S=y[3],x=y[4];for(m=0;m<v;m++)h=b[a>>>24]^w[f>>16&255]^E[l>>8&255]^S[c&255]^u[g],p=b[f>>>24]^w[l>>16&255]^E[c>>8&255]^S[a&255]^u[g+1],d=b[l>>>24]^w[c>>16&255]^E[a>>8&255]^S[f&255]^u[g+2],c=b[c>>>24]^w[a>>16&255]^E[f>>8&255]^S[l&255]^u[g+3],g+=4,a=h,f=p,l=d;for(m=0;m<4;m++)s[(3&-m)+o]=x[a>>>24]<<24^x[f>>16&255]<<16^x[l>>8&255]<<8^x[c&255]^u[g++],h=a,a=f,f=l,l=c,c=h}}]),e}();n.default=s},{}],14:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./aes"),s=o(i),a=function(){function e(t,n){u(this,e),this.key=t,this.iv=n}return r(e,[{key:"ntoh",value:function(t){return t<<24|(t&65280)<<8|(t&16711680)>>8|t>>>24}},{key:"doDecrypt",value:function(t,n,r){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),o=new s.default(Array.prototype.slice.call(n)),u=new Uint8Array(t.byteLength),a=new Int32Array(u.buffer),f,l,c,h,p,d,v,m,g;f=~~r[0],l=~~r[1],c=~~r[2],h=~~r[3];for(g=0;g<i.length;g+=4)p=~~this.ntoh(i[g]),d=~~this.ntoh(i[g+1]),v=~~this.ntoh(i[g+2]),m=~~this.ntoh(i[g+3]),o.decrypt(p,d,v,m,a,g),a[g]=this.ntoh(a[g]^f),a[g+1]=this.ntoh(a[g+1]^l),a[g+2]=this.ntoh(a[g+2]^c),a[g+3]=this.ntoh(a[g+3]^h),f=p,l=d,c=v,h=m;return u}},{key:"localDecrypt",value:function(t,n,r,i){var s=this.doDecrypt(t,n,r);i.set(s,t.byteOffset)}},{key:"decrypt",value:function(t){var n=32e3,r=new Int32Array(t),i=new Uint8Array(t.byteLength),s=0,o=this.key,u=this.iv;this.localDecrypt(r.subarray(s,s+n),o,u,i);for(s=n;s<r.length;s+=n)u=new Uint32Array([this.ntoh(r[s-4]),this.ntoh(r[s-3]),this.ntoh(r[s-2]),this.ntoh(r[s-1])]),this.localDecrypt(r.subarray(s,s+n),o,u,i);return i}}]),e}();n.default=a},{"./aes":13}],15:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./aes128-decrypter"),s=a(i),o=e("../errors"),u=e("../utils/logger"),l=function(){function e(t){f(this,e),this.hls=t;try{var n=window?window.crypto:crypto;this.subtle=n.subtle||n.webkitSubtle,this.disableWebCrypto=!this.subtle}catch(r){this.disableWebCrypto=!0}}return r(e,[{key:"destroy",value:function(){}},{key:"decrypt",value:function(t,n,r,i){this.disableWebCrypto&&this.hls.config.enableSoftwareAES?this.decryptBySoftware(t,n,r,i):this.decryptByWebCrypto(t,n,r,i)}},{key:"decryptByWebCrypto",value:function(t,n,r,i){var s=this;u.logger.log("decrypting by WebCrypto API"),this.subtle.importKey("raw",n,{name:"AES-CBC",length:128},!1,["decrypt"]).then(function(e){s.subtle.decrypt({name:"AES-CBC",iv:r.buffer},e,t).then(i).catch(function(e){s.onWebCryptoError(e,t,n,r,i)})}).catch(function(e){s.onWebCryptoError(e,t,n,r,i)})}},{key:"decryptBySoftware",value:function(t,n,r,i){u.logger.log("decrypting by JavaScript Implementation");var o=new DataView(n.buffer),a=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]);o=new DataView(r.buffer);var f=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]),l=new s.default(a,f);i(l.decrypt(t).buffer)}},{key:"onWebCryptoError",value:function(t,n,r,i,s){this.hls.config.enableSoftwareAES?(u.logger.log("disabling to use WebCrypto API"),this.disableWebCrypto=!0,this.decryptBySoftware(n,r,i,s)):(u.logger.error("decrypting error : "+t.message),this.hls.trigger(Event.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))}}]),e}();n.default=l},{"../errors":24,"../utils/logger":44,"./aes128-decrypter":14}],16:[function(e,t,n){"use strict";function f(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./adts"),s=f(i),o=e("../utils/logger"),u=e("../demux/id3"),a=f(u),c=function(){function e(t,n,r,i){l(this,e),this.observer=t,this.id=n,this.remuxerClass=r,this.config=i,this.remuxer=new this.remuxerClass(t,n,i),this.insertDiscontinuity()}return r(e,[{key:"insertDiscontinuity",value:function(){this._aacTrack={container:"audio/adts",type:"audio",id:-1,sequenceNumber:0,samples:[],len:0}}},{key:"push",value:function(t,n,r,i,u,f,l,c){var h,p=new a.default(t),d=90*p.timeStamp,v,m,g,y,b,w,E,S,x,T=!1;u!==this.lastCC?(o.logger.log(this.id+" discontinuity detected"),this.lastCC=u,this.insertDiscontinuity(),this.remuxer.switchLevel(),this.remuxer.insertDiscontinuity()):f!==this.lastLevel?(o.logger.log("audio track switch detected"),this.lastLevel=f,this.remuxer.switchLevel(),this.insertDiscontinuity()):l===this.lastSN+1&&(T=!0),h=this._aacTrack,this.lastSN=l,this.lastLevel=f;for(b=p.length,S=t.length;b<S-1;b++)if(t[b]===255&&(t[b+1]&240)===240)break;h.audiosamplerate||(v=s.default.getAudioConfig(this.observer,t,b,n),h.config=v.config,h.audiosamplerate=v.samplerate,h.channelCount=v.channelCount,h.codec=v.codec,h.duration=c,o.logger.log("parsed codec:"+h.codec+",rate:"+v.samplerate+",nb channel:"+v.channelCount)),y=0,g=9216e4/h.audiosamplerate;while(b+5<S){w=t[b+1]&1?7:9,m=(t[b+3]&3)<<11|t[b+4]<<3|(t[b+5]&224)>>>5,m-=w;if(!(m>0&&b+w+m<=S))break;E=d+y*g,x={unit:t.subarray(b+w,b+w+m),pts:E,dts:E},h.samples.push(x),h.len+=m,b+=m+w,y++;for(;b<S-1;b++)if(t[b]===255&&(t[b+1]&240)===240)break}this.remuxer.remux(f,l,this._aacTrack,{samples:[]},{samples:[{pts:d,dts:d,unit:p.payload}]},{samples:[]},i,T)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(t){var n=new a.default(t),r,i;if(n.hasTimeStamp)for(r=n.length,i=t.length;r<i-1;r++)if(t[r]===255&&(t[r+1]&240)===240)return!0;return!1}}]),e}();n.default=c},{"../demux/id3":22,"../utils/logger":44,"./adts":17}],17:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../utils/logger"),s=e("../errors"),u=function(){function e(){o(this,e)}return r(e,null,[{key:"getAudioConfig",value:function(t,n,r,o){var u,a,f,l,c,h=navigator.userAgent.toLowerCase(),p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];u=((n[r+2]&192)>>>6)+1,a=(n[r+2]&60)>>>2;if(a>p.length-1){t.trigger(Event.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+a});return}l=(n[r+2]&1)<<2,l|=(n[r+3]&192)>>>6,i.logger.log("manifest codec:"+o+",ADTS data:type:"+u+",sampleingIndex:"+a+"["+p[a]+"Hz],channelConfig:"+l);if(h.indexOf("firefox")!==-1)a>=6?(u=5,c=new Array(4),f=a-3):(u=2,c=new Array(2),f=a);else if(h.indexOf("android")!==-1)u=2,c=new Array(2),f=a;else{u=5,c=new Array(4);if(o&&(o.indexOf("mp4a.40.29")!==-1||o.indexOf("mp4a.40.5")!==-1)||!o&&a>=6)f=a-3;else{if(o&&o.indexOf("mp4a.40.2")!==-1&&a>=6&&l===1||!o&&l===1)u=2,c=new Array(2);f=a}}return c[0]=u<<3,c[0]|=(a&14)>>1,c[1]|=(a&1)<<7,c[1]|=l<<3,u===5&&(c[1]|=(f&14)>>1,c[2]=(f&1)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:p[a],channelCount:l,codec:"mp4a.40."+u}}}]),e}();n.default=u},{"../errors":24,"../utils/logger":44}],18:[function(e,t,n){"use strict";function v(e){return e&&e.__esModule?e:{"default":e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../events"),s=v(i),o=e("../errors"),u=e("../demux/aacdemuxer"),a=v(u),f=e("../demux/tsdemuxer"),l=v(f),c=e("../remux/mp4-remuxer"),h=v(c),p=e("../remux/passthrough-remuxer"),d=v(p),g=function(){function e(t,n,r){var i=arguments.length<=3||arguments[3]===undefined?null:arguments[3];m(this,e),this.hls=t,this.id=n,this.config=this.hls.config||i,this.typeSupported=r}return r(e,[{key:"destroy",value:function(){var t=this.demuxer;t&&t.destroy()}},{key:"push",value:function(t,n,r,i,u,f,c,p){var v=this.demuxer;if(!v){var m=this.hls,g=this.id;if(l.default.probe(t))this.typeSupported.mp2t===!0?v=new l.default(m,g,d.default,this.config):v=new l.default(m,g,h.default,this.config);else{if(!a.default.probe(t)){m.trigger(s.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,id:g,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});return}v=new a.default(m,g,h.default,this.config)}this.demuxer=v}v.push(t,n,r,i,u,f,c,p)}}]),e}();n.default=g},{"../demux/aacdemuxer":16,"../demux/tsdemuxer":23,"../errors":24,"../events":26,"../remux/mp4-remuxer":37,"../remux/passthrough-remuxer":38}],19:[function(e,t,n){"use strict";function f(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("../demux/demuxer-inline"),i=f(r),s=e("../events"),o=f(s),u=e("events"),a=f(u),l=function(t){var n=new a.default;n.trigger=function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];n.emit.apply(n,[t,t].concat(i))},n.off=function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];n.removeListener.apply(n,[t].concat(i))},t.addEventListener("message",function(e){var r=e.data;switch(r.cmd){case"init":t.demuxer=new i.default(n,r.id,r.typeSupported,JSON.parse(r.config));break;case"demux":t.demuxer.push(new Uint8Array(r.data),r.audioCodec,r.videoCodec,r.timeOffset,r.cc,r.level,r.sn,r.duration);break;default:}});var r=function(n,r){t.postMessage({event:n,data:r})};n.on(o.default.FRAG_PARSING_INIT_SEGMENT,r),n.on(o.default.FRAG_PARSED,r),n.on(o.default.ERROR,r),n.on(o.default.FRAG_PARSING_METADATA,r),n.on(o.default.FRAG_PARSING_USERDATA,r),n.on(o.default.FRAG_PARSING_DATA,function(e,n){var r=n.data1.buffer,i=n.data2.buffer;delete n.data1,delete n.data2,t.postMessage({event:e,data:n,data1:r,data2:i},[r,i])})};n.default=l},{"../demux/demuxer-inline":18,"../events":26,events:1}],20:[function(e,t,n){"use strict";function p(e){return e&&e.__esModule?e:{"default":e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../events"),s=p(i),o=e("../demux/demuxer-inline"),u=p(o),a=e("../demux/demuxer-worker"),f=p(a),l=e("../utils/logger"),c=e("../crypt/decrypter"),h=p(c),v=function(){function t(n,r){d(this,t),this.hls=n,this.id=r;var i={mp4:MediaSource.isTypeSupported("video/mp4"),mp2t:n.config.enableMP2TPassThrough&&MediaSource.isTypeSupported("video/mp2t")};if(n.config.enableWorker&&typeof Worker!="undefined"){l.logger.log("demuxing in webworker");try{var s=e("webworkify");this.w=s(f.default),this.onwmsg=this.onWorkerMessage.bind(this),this.w.addEventListener("message",this.onwmsg),this.w.postMessage({cmd:"init",typeSupported:i,id:r,config:JSON.stringify(n.config)})}catch(o){l.logger.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),this.demuxer=new u.default(n,r,i)}}else this.demuxer=new u.default(n,r,i);this.demuxInitialized=!0}return r(t,[{key:"destroy",value:function(){this.w?(this.w.removeEventListener("message",this.onwmsg),this.w.terminate(),this.w=null):(this.demuxer.destroy(),this.demuxer=null),this.decrypter&&(this.decrypter.destroy(),this.decrypter=null)}},{key:"pushDecrypted",value:function(t,n,r,i,s,o,u,a){this.w?this.w.postMessage({cmd:"demux",data:t,audioCodec:n,videoCodec:r,timeOffset:i,cc:s,level:o,sn:u,duration:a},[t]):this.demuxer.push(new Uint8Array(t),n,r,i,s,o,u,a)}},{key:"push",value:function(t,n,r,i,s,o,u,a,f){if(t.byteLength>0&&f!=null&&f.key!=null&&f.method==="AES-128"){this.decrypter==null&&(this.decrypter=new h.default(this.hls));var l=this;this.decrypter.decrypt(t,f.key,f.iv,function(e){l.pushDecrypted(e,n,r,i,s,o,u,a)})}else this.pushDecrypted(t,n,r,i,s,o,u,a)}},{key:"onWorkerMessage",value:function(t){var n=t.data,r=this.hls;switch(n.event){case s.default.FRAG_PARSING_DATA:n.data.data1=new Uint8Array(n.data1),n.data.data2=new Uint8Array(n.data2);default:r.trigger(n.event,n.data)}}}]),t}();n.default=v},{"../crypt/decrypter":15,"../demux/demuxer-inline":18,"../demux/demuxer-worker":19,"../events":26,"../utils/logger":44,webworkify:2}],21:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../utils/logger"),o=function(){function e(t){s(this,e),this.data=t,this.bytesAvailable=this.data.byteLength,this.word=0,this.bitsAvailable=0}return r(e,[{key:"loadWord",value:function(){var t=this.data.byteLength-this.bytesAvailable,n=new Uint8Array(4),r=Math.min(4,this.bytesAvailable);if(r===0)throw new Error("no bytes available");n.set(this.data.subarray(t,t+r)),this.word=(new DataView(n.buffer)).getUint32(0),this.bitsAvailable=r*8,this.bytesAvailable-=r}},{key:"skipBits",value:function(t){var n;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,n=t>>3,t-=n>>3,this.bytesAvailable-=n,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)}},{key:"readBits",value:function(t){var n=Math.min(this.bitsAvailable,t),r=this.word>>>32-n;return t>32&&i.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=n,this.bitsAvailable>0?this.word<<=n:this.bytesAvailable>0&&this.loadWord(),n=t-n,n>0?r<<n|this.readBits(n):r}},{key:"skipLZ",value:function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!==(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var t=this.skipLZ();return this.readBits(t+1)-1}},{key:"readEG",value:function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(t){var n=8,r=8,i,s;for(i=0;i<t;i++)r!==0&&(s=this.readEG(),r=(n+s+256)%256),n=r===0?n:r}},{key:"readSPS",value:function(){var t=0,n=0,r=0,i=0,s=1,o,u,a,f,l,c,h,p,d;this.readUByte(),o=this.readUByte(),u=this.readBits(5),this.skipBits(3),a=this.readUByte(),this.skipUEG();if(o===100||o===110||o===122||o===244||o===44||o===83||o===86||o===118||o===128){var v=this.readUEG();v===3&&this.skipBits(1),this.skipUEG(),this.skipUEG(),this.skipBits(1);if(this.readBoolean()){p=v!==3?8:12;for(d=0;d<p;d++)this.readBoolean()&&(d<6?this.skipScalingList(16):this.skipScalingList(64))}}this.skipUEG();var m=this.readUEG();if(m===0)this.readUEG();else if(m===1){this.skipBits(1),this.skipEG(),this.skipEG(),f=this.readUEG();for(d=0;d<f;d++)this.skipEG()}this.skipUEG(),this.skipBits(1),l=this.readUEG(),c=this.readUEG(),h=this.readBits(1),h===0&&this.skipBits(1),this.skipBits(1),this.readBoolean()&&(t=this.readUEG(),n=this.readUEG(),r=this.readUEG(),i=this.readUEG());if(this.readBoolean()&&this.readBoolean()){var g=void 0,y=this.readUByte();switch(y){case 1:g=[1,1];break;case 2:g=[12,11];break;case 3:g=[10,11];break;case 4:g=[16,11];break;case 5:g=[40,33];break;case 6:g=[24,11];break;case 7:g=[20,11];break;case 8:g=[32,11];break;case 9:g=[80,33];break;case 10:g=[18,11];break;case 11:g=[15,11];break;case 12:g=[64,33];break;case 13:g=[160,99];break;case 14:g=[4,3];break;case 15:g=[3,2];break;case 16:g=[2,1];break;case 255:g=[this.readUByte()<<8|this.readUByte(),this.readUByte()<<8|this.readUByte()]}g&&(s=g[0]/g[1])}return{width:Math.ceil(((l+1)*16-t*2-n*2)*s),height:(2-h)*(c+1)*16-(h?2:4)*(r+i)}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}();n.default=o},{"../utils/logger":44}],22:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../utils/logger"),o=function(){function e(t){s(this,e),this._hasTimeStamp=!1;var n=0,r,o,u,a,f,l,c,h;do{c=this.readUTF(t,n,3),n+=3;if(c==="ID3")n+=3,r=t[n++]&127,o=t[n++]&127,u=t[n++]&127,a=t[n++]&127,f=(r<<21)+(o<<14)+(u<<7)+a,l=n+f,this._parseID3Frames(t,n,l),n=l;else{if(c!=="3DI"){n-=3,h=n,h&&(this.hasTimeStamp||i.logger.warn("ID3 tag found, but no timestamp"),this._length=h,this._payload=t.subarray(0,h));return}n+=7,i.logger.log("3DI footer found, end: "+n)}}while(!0)}return r(e,[{key:"readUTF",value:function(t,n,r){var i="",s=n,o=n+r;do i+=String.fromCharCode(t[s++]);while(s<o);return i}},{key:"_parseID3Frames",value:function(t,n,r){var s,o,u,a,f;while(n+8<=r){s=this.readUTF(t,n,4),n+=4,o=t[n++]<<24+t[n++]<<16+t[n++]<<8+t[n++],a=t[n++]<<8+t[n++],u=n;switch(s){case"PRIV":if(this.readUTF(t,n,44)==="com.apple.streaming.transportStreamTimestamp"){n+=44,n+=4;var l=t[n++]&1;this._hasTimeStamp=!0,f=((t[n++]<<23)+(t[n++]<<15)+(t[n++]<<7)+t[n++])/45,l&&(f+=47721858.84),f=Math.round(f),i.logger.trace("ID3 timestamp found: "+f),this._timeStamp=f}break;default:}}}},{key:"hasTimeStamp",get:function(){return this._hasTimeStamp}},{key:"timeStamp",get:function(){return this._timeStamp}},{key:"length",get:function(){return this._length}},{key:"payload",get:function(){return this._payload}}]),e}();n.default=o},{"../utils/logger":44}],23:[function(e,t,n){"use strict";function h(e){return e&&e.__esModule?e:{"default":e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./adts"),s=h(i),o=e("../events"),u=h(o),a=e("./exp-golomb"),f=h(a),l=e("../utils/logger"),c=e("../errors"),d=function(){function e(t,n,r,i){p(this,e),this.observer=t,this.id=n,this.remuxerClass=r,this.config=i,this.lastCC=0,this.remuxer=new this.remuxerClass(t,n,i)}return r(e,[{key:"switchLevel",value:function(){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack={container:"video/mp2t",type:"video",id:-1,sequenceNumber:0,samples:[],len:0,nbNalu:0,dropped:0},this._aacTrack={container:"video/mp2t",type:"audio",id:-1,sequenceNumber:0,samples:[],len:0},this._id3Track={type:"id3",id:-1,sequenceNumber:0,samples:[],len:0},this._txtTrack={type:"text",id:-1,sequenceNumber:0,samples:[],len:0},this.aacOverFlow=null,this.aacLastPTS=null,this.avcNaluState=0,this.remuxer.switchLevel()}},{key:"insertDiscontinuity",value:function(){this.switchLevel(),this.remuxer.insertDiscontinuity()}},{key:"push",value:function(t,n,r,i,s,o,a,f){var h,p,d,v,m=t.length,g,y,b,w,E=this.remuxer.passthrough,S=!1;this.audioCodec=n,this.videoCodec=r,this.timeOffset=i,this._duration=f,this.contiguous=!1,s!==this.lastCC&&(l.logger.log("discontinuity detected"),this.insertDiscontinuity(),this.lastCC=s),o!==this.lastLevel?(l.logger.log("level switch detected"),this.switchLevel(),this.lastLevel=o):a===this.lastSN+1&&(this.contiguous=!0),this.lastSN=a;var x=this.pmtParsed,T=this._avcTrack.id,N=this._aacTrack.id,C=this._id3Track.id;m-=m%188;for(v=0;v<m;v+=188)if(t[v]===71){g=!!(t[v+1]&64),y=((t[v+1]&31)<<8)+t[v+2],b=(t[v+3]&48)>>4;if(b>1){w=v+5+t[v+4];if(w===v+188)continue}else w=v+4;if(x)if(y===T){if(g){if(h){this._parseAVCPES(this._parsePES(h));if(E&&this._avcTrack.codec&&(N===-1||this._aacTrack.codec)){this.remux(o,a,t);return}}h={data:[],size:0}}h&&(h.data.push(t.subarray(w,v+188)),h.size+=v+188-w)}else if(y===N){if(g){if(p){this._parseAACPES(this._parsePES(p));if(E&&this._aacTrack.codec&&(T===-1||this._avcTrack.codec)){this.remux(o,a,t);return}}p={data:[],size:0}}p&&(p.data.push(t.subarray(w,v+188)),p.size+=v+188-w)}else y===C&&(g&&(d&&this._parseID3PES(this._parsePES(d)),d={data:[],size:0}),d&&(d.data.push(t.subarray(w,v+188)),d.size+=v+188-w));else g&&(w+=t[w]+1),y===0?this._parsePAT(t,w):y===this._pmtId?(this._parsePMT(t,w),x=this.pmtParsed=!0,T=this._avcTrack.id,N=this._aacTrack.id,C=this._id3Track.id,S&&(l.logger.log("reparse from beginning"),S=!1,v=-188)):(l.logger.log("unknown PID found before PAT/PMT"),S=!0)}else this.observer.trigger(u.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,id:this.id,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});h&&this._parseAVCPES(this._parsePES(h)),p&&this._parseAACPES(this._parsePES(p)),d&&this._parseID3PES(this._parsePES(d)),this.remux(o,a,null)}},{key:"remux",value:function(t,n,r){this.remuxer.remux(t,n,this._aacTrack,this._avcTrack,this._id3Track,this._txtTrack,this.timeOffset,this.contiguous,r)}},{key:"destroy",value:function(){this.switchLevel(),this._initPTS=this._initDTS=undefined,this._duration=0}},{key:"_parsePAT",value:function(t,n){this._pmtId=(t[n+10]&31)<<8|t[n+11]}},{key:"_parsePMT",value:function(t,n){var r,i,s,o;r=(t[n+1]&15)<<8|t[n+2],i=n+3+r-4,s=(t[n+10]&15)<<8|t[n+11],n+=12+s;while(n<i){o=(t[n+1]&31)<<8|t[n+2];switch(t[n]){case 15:this._aacTrack.id===-1&&(this._aacTrack.id=o);break;case 21:this._id3Track.id=o;break;case 27:this._avcTrack.id===-1&&(this._avcTrack.id=o);break;default:l.logger.log("unkown stream type:"+t[n])}n+=((t[n+3]&15)<<8|t[n+4])+5}}},{key:"_parsePES",value:function(t){var n=0,r,i,s,o,u,a,f,l,c,h=t.data;r=h[0],s=(r[0]<<16)+(r[1]<<8)+r[2];if(s===1){o=(r[4]<<8)+r[5],i=r[7],i&192&&(f=(r[9]&14)*536870912+(r[10]&255)*4194304+(r[11]&254)*16384+(r[12]&255)*128+(r[13]&254)/2,f>4294967295&&(f-=8589934592),i&64?(l=(r[14]&14)*536870912+(r[15]&255)*4194304+(r[16]&254)*16384+(r[17]&255)*128+(r[18]&254)/2,l>4294967295&&(l-=8589934592)):l=f),u=r[8],c=u+9,t.size-=c,a=new Uint8Array(t.size);while(h.length){r=h.shift();var p=r.byteLength;if(c){if(c>p){c-=p;continue}r=r.subarray(c),p-=c,c=0}a.set(r,n),n+=p}return{data:a,pts:f,dts:l,len:o}}return null}},{key:"_parseAVCPES",value:function(t){var n=this,r=this._avcTrack,i=r.samples,s=this._parseAVCNALu(t.data),o=[],u=!1,a=!1,c=0,h,p,d,v;if(s.length===0&&i.length>0){var m=i[i.length-1],g=m.units.units[m.units.units.length-1],y=new Uint8Array(g.data.byteLength+t.data.byteLength);y.set(g.data,0),y.set(t.data,g.data.byteLength),g.data=y,m.units.length+=t.data.byteLength,r.len+=t.data.byteLength}t.data=null;var b="",w=function(){o.length&&(!this.config.forceKeyFrameOnDiscontinuity||a===!0||r.sps&&(i.length||this.contiguous)?(p={units:{units:o,length:c},pts:t.pts,dts:t.dts,key:a},i.push(p),r.len+=c,r.nbNalu+=o.length):r.dropped++,o=[],c=0)}.bind(this);s.forEach(function(e){switch(e.type){case 1:d=!0,u&&(b+="NDR ");break;case 5:d=!0,u&&(b+="IDR "),a=!0;break;case 6:d=!0,u&&(b+="SEI "),e.data=n.discardEPB(e.data),h=new f.default(e.data),h.readUByte();var i=0,s=0,l=!1,p=0;while(!l&&h.bytesAvailable>1){i=0;do p=h.readUByte(),i+=p;while(p===255);s=0;do p=h.readUByte(),s+=p;while(p===255);if(i===4&&h.bytesAvailable!==0){l=!0;var m=h.readUByte();if(m===181){var g=h.readUShort();if(g===49){var y=h.readUInt();if(y===1195456820){var E=h.readUByte();if(E===3){var S=h.readUByte(),x=h.readUByte(),T=31&S,N=[S,x];for(v=0;v<T;v++)N.push(h.readUByte()),N.push(h.readUByte()),N.push(h.readUByte());n._insertSampleInOrder(n._txtTrack.samples,{type:3,pts:t.pts,bytes:N})}}}}}else if(s<h.bytesAvailable)for(v=0;v<s;v++)h.readUByte()}break;case 7:d=!0,u&&(b+="SPS ");if(!r.sps){h=new f.default(e.data);var C=h.readSPS();r.width=C.width,r.height=C.height,r.sps=[e.data],r.duration=n._duration;var k=e.data.subarray(1,4),L="avc1.";for(v=0;v<3;v++){var A=k[v].toString(16);A.length<2&&(A="0"+A),L+=A}r.codec=L}break;case 8:d=!0,u&&(b+="PPS "),r.pps||(r.pps=[e.data]);break;case 9:d=!1,u&&(b+="AUD "),w();break;default:d=!1,b+="unknown NAL "+e.type+" "}d&&(o.push(e),c+=e.data.byteLength)}),(u||b.length)&&l.logger.log(b),w()}},{key:"_insertSampleInOrder",value:function(t,n){var r=t.length;if(r>0){if(n.pts>=t[r-1].pts)t.push(n);else for(var i=r-1;i>=0;i--)if(n.pts<t[i].pts){t.splice(i,0,n);break}}else t.push(n)}},{key:"_parseAVCNALu",value:function(t){var n=0,r=t.byteLength,i,s,o=this.avcNaluState,u=[],a,f,l,c;while(n<r){i=t[n++];switch(o){case 0:i===0&&(o=1);break;case 1:i===0?o=2:o=0;break;case 2:case 3:if(i===0)o=3;else if(i===1&&n<r){f=t[n]&31;if(l)a={data:t.subarray(l,n-o-1),type:c},u.push(a);else{var h=this.avcNaluState;if(h&&n<=4-h){var p=this._avcTrack,d=p.samples;if(d.length){var v=d[d.length-1],m=v.units.units,g=m[m.length-1];g.state&&(g.data=g.data.subarray(0,g.data.byteLength-h),v.units.length-=h,p.len-=h)}}s=n-o-1;if(s>0){var y=this._avcTrack,b=y.samples;if(b.length){var w=b[b.length-1],E=w.units.units,S=E[E.length-1],x=new Uint8Array(S.data.byteLength+s);x.set(S.data,0),x.set(t.subarray(0,s),S.data.byteLength),S.data=x,w.units.length+=s,y.len+=s}}}l=n,c=f,o=0}else o=0;break;default:}}return l&&(a={data:t.subarray(l,r),type:c,state:o},u.push(a),this.avcNaluState=o),u}},{key:"discardEPB",value:function(t){var n=t.byteLength,r=[],i=1,s,o;while(i<n-2)t[i]===0&&t[i+1]===0&&t[i+2]===3?(r.push(i+2),i+=2):i++;if(r.length===0)return t;s=n-r.length,o=new Uint8Array(s);var u=0;for(i=0;i<s;u++,i++)u===r[0]&&(u++,r.shift()),o[i]=t[u];return o}},{key:"_parseAACPES",value:function(t){var n=this._aacTrack,r=t.data,i=t.pts,o=0,a=this._duration,f=this.audioCodec,h=this.aacOverFlow,p=this.aacLastPTS,d,v,m,g,y,b,w,E,S;if(h){var x=new Uint8Array(h.byteLength+r.byteLength);x.set(h,0),x.set(r,h.byteLength),r=x}for(y=o,E=r.length;y<E-1;y++)if(r[y]===255&&(r[y+1]&240)===240)break;if(y){var T,N;y<E-1?(T="AAC PES did not start with ADTS header,offset:"+y,N=!1):(T="no ADTS header found in AAC PES",N=!0),this.observer.trigger(u.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,id:this.id,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:N,reason:T});if(N)return}n.audiosamplerate||(d=s.default.getAudioConfig(this.observer,r,y,f),n.config=d.config,n.audiosamplerate=d.samplerate,n.channelCount=d.channelCount,n.codec=d.codec,n.duration=a,l.logger.log("parsed codec:"+n.codec+",rate:"+d.samplerate+",nb channel:"+d.channelCount)),g=0,m=9216e4/n.audiosamplerate;if(h&&p){var C=p+m;Math.abs(C-i)>1&&(l.logger.log("AAC: align PTS for overlapping frames by "+Math.round((C-i)/90)),i=C)}while(y+5<E){b=r[y+1]&1?7:9,v=(r[y+3]&3)<<11|r[y+4]<<3|(r[y+5]&224)>>>5,v-=b;if(!(v>0&&y+b+v<=E))break;w=i+g*m,S={unit:r.subarray(y+b,y+b+v),pts:w,dts:w},n.samples.push(S),n.len+=v,y+=v+b,g++;for(;y<E-1;y++)if(r[y]===255&&(r[y+1]&240)===240)break}y<E?h=r.subarray(y,E):h=null,this.aacOverFlow=h,this.aacLastPTS=w}},{key:"_parseID3PES",value:function(t){this._id3Track.samples.push(t)}}],[{key:"probe",value:function(t){return t.length>=564&&t[0]===71&&t[188]===71&&t[376]===71?!0:!1}}]),e}();n.default=d},{"../errors":24,"../events":26,"../utils/logger":44,"./adts":17,"./exp-golomb":21}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=n.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",OTHER_ERROR:"otherError"},i=n.ErrorDetails={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",INTERNAL_EXCEPTION:"internalException"}},{}],25:[function(e,t,n){"use strict";function f(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./utils/logger"),o=e("./errors"),u=e("./events"),a=f(u),c=function(){function e(t){l(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}return i(e,[{key:"destroy",value:function(){this.unregisterListeners()}},{key:"isEventHandler",value:function(){return r(this.handledEvents)==="object"&&this.handledEvents.length&&typeof this.onEvent=="function"}},{key:"registerListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if(e==="hlsEventGeneric")throw new Error("Forbidden event name: "+e);this.hls.on(e,this.onEvent)}.bind(this))}},{key:"unregisterListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)}.bind(this))}},{key:"onEvent",value:function(t,n){this.onEventGeneric(t,n)}},{key:"onEventGeneric",value:function(t,n){var r=function(t,n){var r="on"+t.replace("hls","");if(typeof this[r]!="function")throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,n)};try{r.call(this,t,n).call()}catch(i){s.logger.error("internal error happened while processing "+t+":"+i.message),this.hls.trigger(a.default.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:t,err:i})}}}]),e}();n.default=c},{"./errors":24,"./events":26,"./utils/logger":44}],26:[function(e,t,n){"use strict";t.exports={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVEL_SWITCH:"hlsLevelSwitch",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},{}],27:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(){i(this,e)}return r(e,null,[{key:"getSilentFrame",value:function(t){return t===1?new Uint8Array([0,200,0,128,35,128]):t===2?new Uint8Array([33,0,73,144,2,25,0,35,128]):t===3?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]):t===4?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]):t===5?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]):t===6?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]):null}}]),e}();n.default=s},{}],28:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(){i(this,e)}return r(e,null,[{key:"bufferInfo",value:function(t,n,r){if(t){var i=t.buffered,s=[],o;for(o=0;o<i.length;o++)s.push({start:i.start(o),end:i.end(o)});return this.bufferedInfo(s,n,r)}return{len:0,start:0,end:0,nextStart:undefined}}},{key:"bufferedInfo",value:function(t,n,r){var i=[],s,o,u,a,f;t.sort(function(e,t){var n=e.start-t.start;return n?n:t.end-e.end});for(f=0;f<t.length;f++){var l=i.length;if(l){var c=i[l-1].end;t[f].start-c<r?t[f].end>c&&(i[l-1].end=t[f].end):i.push(t[f])}else i.push(t[f])}for(f=0,s=0,o=u=n;f<i.length;f++){var h=i[f].start,p=i[f].end;if(n+r>=h&&n<p)o=h,u=p,s=u-n;else if(n+r<h){a=h;break}}return{len:s,start:o,end:u,nextStart:a}}}]),e}();n.default=s},{}],29:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../utils/logger"),o=function(){function e(){s(this,e)}return r(e,null,[{key:"mergeDetails",value:function(n,r){var s=Math.max(n.startSN,r.startSN)-r.startSN,o=Math.min(n.endSN,r.endSN)-r.startSN,u=r.startSN-n.startSN,a=n.fragments,f=r.fragments,l=0,c;if(o<s){r.PTSKnown=!1;return}for(var h=s;h<=o;h++){var p=a[u+h],d=f[h];d&&p&&(l=p.cc-d.cc,isNaN(p.startPTS)||(d.start=d.startPTS=p.startPTS,d.endPTS=p.endPTS,d.duration=p.duration,c=d))}if(l){i.logger.log("discontinuity sliding from playlist, take drift into account");for(h=0;h<f.length;h++)f[h].cc+=l}if(c)e.updateFragPTSDTS(r,c.sn,c.startPTS,c.endPTS,c.startDTS,c.endDTS);else if(u>=0&&u<a.length){var v=a[u].start;for(h=0;h<f.length;h++)f[h].start+=v}r.PTSKnown=n.PTSKnown;return}},{key:"updateFragPTSDTS",value:function(n,r,i,s,o,u){var a,f,l,c;if(r<n.startSN||r>n.endSN)return 0;a=r-n.startSN,f=n.fragments,l=f[a];if(!isNaN(l.startPTS)){var h=Math.abs(l.startPTS-i);isNaN(l.deltaPTS)?l.deltaPTS=h:l.deltaPTS=Math.max(h,l.deltaPTS),i=Math.min(i,l.startPTS),s=Math.max(s,l.endPTS),o=Math.min(o,l.startDTS),u=Math.max(u,l.endDTS)}var p=i-l.start;l.start=l.startPTS=i,l.endPTS=s,l.startDTS=o,l.endDTS=u,l.duration=s-i;for(c=a;c>0;c--)e.updatePTS(f,c,c-1);for(c=a;c<f.length-1;c++)e.updatePTS(f,c,c+1);return n.PTSKnown=!0,p}},{key:"updatePTS",value:function(t,n,r){var s=t[n],o=t[r],u=o.startPTS;isNaN(u)?r>n?o.start=s.start+s.duration:o.start=s.start-o.duration:r>n?(s.duration=u-s.start,s.duration<0&&i.logger.error("negative duration computed for frag "+s.sn+",level "+s.level+", there should be some duration drift between playlist and fragment!")):(o.duration=s.start-u,o.duration<0&&i.logger.error("negative duration computed for frag "+o.sn+",level "+o.level+", there should be some duration drift between playlist and fragment!"))}}]),e}();n.default=o},{"../utils/logger":44}],30:[function(e,t,n){function I(e){return e&&e.__esModule?e:{"default":e}}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./events"),s=I(i),o=e("./errors"),u=e("./loader/playlist-loader"),a=I(u),f=e("./loader/fragment-loader"),l=I(f),c=e("./loader/resource-types"),h=e("./controller/abr-controller"),p=I(h),d=e("./controller/buffer-controller"),v=I(d),m=e("./controller/cap-level-controller"),g=I(m),y=e("./controller/audio-stream-controller"),b=I(y),w=e("./controller/stream-controller"),E=I(w),S=e("./controller/level-controller"),x=I(S),T=e("./controller/timeline-controller"),N=I(T),C=e("./controller/fps-controller"),k=I(C),L=e("./controller/audio-track-controller"),A=I(L),O=e("./utils/logger"),M=e("./utils/xhr-loader"),_=I(M),D=e("events"),P=I(D),H=e("./loader/key-loader"),B=I(H),j=e("./utils/cues"),F=I(j),R=function(){function e(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];q(this,e);var n=e.DefaultConfig;if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var r in n){if(r in t)continue;t[r]=n[r]}if(t.liveMaxLatencyDurationCount!==undefined&&t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(t.liveMaxLatencyDuration!==undefined&&(t.liveMaxLatencyDuration<=t.liveSyncDuration||t.liveSyncDuration===undefined))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');(0,O.enableLogs)(t.debug),this.config=t;var i=this.observer=new P.default;i.trigger=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];i.emit.apply(i,[t,t].concat(r))},i.off=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];i.removeListener.apply(i,[t].concat(r))},this.on=i.on.bind(i),this.off=i.off.bind(i),this.trigger=i.trigger.bind(i),this.playlistLoader=new a.default(this),this.fragmentLoader=new l.default(this),this.levelController=new x.default(this),this.abrController=new t.abrController(this),this.bufferController=new t.bufferController(this),this.capLevelController=new t.capLevelController(this),this.fpsController=new t.fpsController(this),this.streamController=new t.streamController(this),this.audioStreamController=new t.audioStreamController(this),this.timelineController=new t.timelineController(this),this.audioTrackController=new A.default(this),this.keyLoader=new B.default(this)}return r(e,null,[{key:"isSupported",value:function(){return window.MediaSource&&typeof window.MediaSource.isTypeSupported=="function"&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}},{key:"version",get:function(){return"0.6.2-3"}},{key:"Events",get:function(){return s.default}},{key:"ErrorTypes",get:function(){return o.ErrorTypes}},{key:"ErrorDetails",get:function(){return o.ErrorDetails}},{key:"ResourceTypes",get:function(){return c.ResourceTypes}},{key:"DefaultConfig",get:function(){return e.defaultConfig||(e.defaultConfig={autoStartLoad:!0,startPosition:-1,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,seekHoleNudgeDuration:.01,stalledInBufferedNudgeThreshold:10,maxFragLookUpTolerance:.2,liveSyncDurationCount:3,liveMaxLatencyDurationCount:Infinity,liveSyncDuration:undefined,liveMaxLatencyDuration:undefined,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:_.default,fLoader:undefined,pLoader:undefined,abrController:p.default,bufferController:v.default,capLevelController:g.default,fpsController:k.default,streamController:E.default,audioStreamController:b.default,timelineController:N.default,cueHandler:F.default,enableCEA708Captions:!0,enableMP2TPassThrough:!1,stretchShortVideoTrack:!1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:5,abrEwmaSlowLive:9,abrEwmaFastVoD:4,abrEwmaSlowVoD:15,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.8,abrBandWidthUpFactor:.7}),e.defaultConfig},set:function(n){e.defaultConfig=n}}]),r(e,[{key:"destroy",value:function(){O.logger.log("destroy"),this.trigger(s.default.DESTROYING),this.detachMedia(),this.playlistLoader.destroy(),this.fragmentLoader.destroy(),this.levelController.destroy(),this.abrController.destroy(),this.bufferController.destroy(),this.capLevelController.destroy(),this.fpsController.destroy(),this.streamController.destroy(),this.audioStreamController.destroy(),this.timelineController.destroy(),this.audioTrackController.destroy(),this.keyLoader.destroy(),this.url=null,this.observer.removeAllListeners()}},{key:"attachMedia",value:function(t){O.logger.log("attachMedia"),this.media=t,this.trigger(s.default.MEDIA_ATTACHING,{media:t})}},{key:"detachMedia",value:function(){O.logger.log("detachMedia"),this.trigger(s.default.MEDIA_DETACHING),this.media=null}},{key:"loadSource",value:function(t){O.logger.log("loadSource:"+t),this.url=t,this.trigger(s.default.MANIFEST_LOADING,{url:t})}},{key:"startLoad",value:function(){var t=arguments.length<=0||arguments[0]===undefined?-1:arguments[0];O.logger.log("startLoad"),this.levelController.startLoad(),this.streamController.startLoad(t),this.audioStreamController.startLoad(t)}},{key:"stopLoad",value:function(){O.logger.log("stopLoad"),this.levelController.stopLoad(),this.streamController.stopLoad(),this.audioStreamController.stopLoad()}},{key:"swapAudioCodec",value:function(){O.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){O.logger.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)}},{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){O.logger.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){O.logger.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){O.logger.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return this.levelController.firstLevel},set:function(t){O.logger.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){O.logger.log("set startLevel:"+t),this.levelController.startLevel=t}},{key:"autoLevelCapping",get:function(){return this.abrController.autoLevelCapping},set:function(t){O.logger.log("set autoLevelCapping:"+t),this.abrController.autoLevelCapping=t}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"audioTracks",get:function(){return this.audioTrackController.audioTracks}},{key:"audioTrack",get:function(){return this.audioTrackController.audioTrack},set:function(t){this.audioTrackController.audioTrack=t}}]),e}();n.default=R},{"./controller/abr-controller":3,"./controller/audio-stream-controller":4,"./controller/audio-track-controller":5,"./controller/buffer-controller":6,"./controller/cap-level-controller":7,"./controller/fps-controller":9,"./controller/level-controller":10,"./controller/stream-controller":11,"./controller/timeline-controller":12,"./errors":24,"./events":26,"./loader/fragment-loader":32,"./loader/key-loader":33,"./loader/playlist-loader":34,"./loader/resource-types":35,"./utils/cues":42,"./utils/logger":44,"./utils/xhr-loader":48,events:1}],31:[function(e,t,n){"use strict";t.exports=e("./hls.js").default},{"./hls.js":30}],32:[function(e,t,n){"use strict";function c(e){return e&&e.__esModule?e:{"default":e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../events"),s=c(i),o=e("../event-handler"),u=c(o),a=e("../errors"),f=e("../utils/logger"),l=e("./resource-types"),v=function(e){function t(e){h(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.FRAG_LOADING));return n.loaders={},n}return d(t,e),r(t,[{key:"destroy",value:function(){for(var t in this.loaders){var n=this.loaders[t];n&&n.destroy()}this.loaders={},u.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(t){var n=t.frag,r=n.type,i=this.loaders[r],s=this.hls.config;n.loaded=0,i&&(f.logger.warn("abort previous fragment loader for type:"+r),i.abort()),i=this.loaders[r]=n.loader=typeof s.fLoader!="undefined"?new s.fLoader(s):new s.loader(s),i.load(n.url,{frag:n},"arraybuffer",this.loadsuccess.bind(this),this.loaderror.bind(this),this.loadtimeout.bind(this),s.fragLoadingTimeOut,0,0,l.ResourceTypes.FRAGMENT,this.loadprogress.bind(this),n)}},{key:"loadsuccess",value:function(t,n,r){var i=t.currentTarget.response,o=r.frag;n.length=i.byteLength,o.loader=undefined,this.loaders[o.type]=undefined,this.hls.trigger(s.default.FRAG_LOADED,{payload:i,frag:o,stats:n})}},{key:"loaderror",value:function(t,n){var r=n.loader;r&&r.abort(),this.loaders[n.type]=undefined,this.hls.trigger(s.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:n.frag,response:t})}},{key:"loadtimeout",value:function(t,n,r){var i=r.loader;i&&i.abort(),this.loaders[r.type]=undefined,this.hls.trigger(s.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:r.frag})}},{key:"loadprogress",value:function(t,n,r){var i=r.frag;i.loaded=n.loaded,this.hls.trigger(s.default.FRAG_LOAD_PROGRESS,{frag:i,stats:n})}}]),t}(u.default);n.default=v},{"../errors":24,"../event-handler":25,"../events":26,"../utils/logger":44,"./resource-types":35}],33:[function(e,t,n){"use strict";function c(e){return e&&e.__esModule?e:{"default":e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../events"),s=c(i),o=e("../event-handler"),u=c(o),a=e("../errors"),f=e("../utils/logger"),l=e("./resource-types"),v=function(e){function t(e){h(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.KEY_LOADING));return n.loaders={},n.decryptkey=null,n.decrypturl=null,n}return d(t,e),r(t,[{key:"destroy",value:function(){for(var t in this.loaders){var n=this.loaders[t];n&&n.destroy()}this.loaders={},u.default.prototype.destroy.call(this)}},{key:"onKeyLoading",value:function(t){var n=t.frag,r=n.type,i=this.loaders[r],o=n.decryptdata,u=o.uri;if(u!==this.decrypturl||this.decryptkey===null){var a=this.hls.config;i&&(f.logger.warn("abort previous fragment loader for type:"+r),i.abort()),n.loader=this.loaders[r]=new a.loader(a),this.decrypturl=u,this.decryptkey=null,n.loader.load(u,{frag:n},"arraybuffer",this.loadsuccess.bind(this),this.loaderror.bind(this),this.loadtimeout.bind(this),a.fragLoadingTimeOut,a.fragLoadingMaxRetry,a.fragLoadingRetryDelay,l.ResourceTypes.KEY,this.loadprogress.bind(this),n)}else this.decryptkey&&(o.key=this.decryptkey,this.hls.trigger(s.default.KEY_LOADED,{frag:n}))}},{key:"loadsuccess",value:function(t,n,r){var i=r.frag;this.decryptkey=i.decryptdata.key=new Uint8Array(t.currentTarget.response),i.loader=undefined,this.loaders[r.type]=undefined,this.hls.trigger(s.default.KEY_LOADED,{frag:i})}},{key:"loaderror",value:function(t,n){var r=n.frag,i=r.loader;i&&i.abort(),this.loaders[n.type]=undefined,this.hls.trigger(s.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:t})}},{key:"loadtimeout",value:function(t,n,r){var i=r.frag,o=i.loader;o&&o.abort(),this.loaders[r.type]=undefined,this.hls.trigger(s.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:i})}},{key:"loadprogress",value:function(){}}]),t}(u.default);n.default=v},{"../errors":24,"../event-handler":25,"../events":26,"../utils/logger":44,"./resource-types":35}],34:[function(e,t,n){"use strict";function v(e){return e&&e.__esModule?e:{"default":e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function y(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../events"),s=v(i),o=e("../event-handler"),u=v(o),a=e("../errors"),f=e("../utils/url"),l=v(f),c=e("../utils/attr-list"),h=v(c),p=e("../utils/logger"),d=e("./resource-types"),b=function(e){function t(e){m(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.MANIFEST_LOADING,s.default.LEVEL_LOADING,s.default.AUDIO_TRACK_LOADING));return n.loaders={},n}return y(t,e),r(t,[{key:"destroy",value:function(){for(var t in this.loaders){var n=this.loaders[t];n&&n.destroy()}this.loaders={},u.default.prototype.destroy.call(this)}},{key:"onManifestLoading",value:function(t){this.load(t.url,{type:"manifest"})}},{key:"onLevelLoading",value:function(t){this.load(t.url,{type:"level",level:t.level,id:t.id})}},{key:"onAudioTrackLoading",value:function(t){this.load(t.url,{type:"audioTrack",id:t.id})}},{key:"load",value:function(t,n){var r=this.hls.config,i,s,o;n.type==="manifest"?(i=r.manifestLoadingMaxRetry,s=r.manifestLoadingTimeOut,o=r.manifestLoadingRetryDelay):(i=r.levelLoadingMaxRetry,s=r.levelLoadingTimeOut,o=r.levelLoadingRetryDelay);var u=this.loaders[n.type];u&&(p.logger.warn("abort previous loader for type:"+n.type),u.abort()),u=this.loaders[n.type]=n.loader=typeof r.pLoader!="undefined"?new r.pLoader(r):new r.loader(r),u.load(t,n,"",this.loadsuccess.bind(this),this.loaderror.bind(this),this.loadtimeout.bind(this),s,i,o,d.ResourceTypes.PLAYLIST)}},{key:"resolve",value:function(t,n){return l.default.buildAbsoluteURL(n,t)}},{key:"parseMasterPlaylist",value:function(t,n){var r=[],i=void 0,s=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g;while((i=s.exec(t))!=null){var o={},u=o.attrs=new h.default(i[1]);o.url=this.resolve(i[2],n);var a=u.decimalResolution("RESOLUTION");a&&(o.width=a.width,o.height=a.height),o.bitrate=u.decimalInteger("AVERAGE-BANDWIDTH")||u.decimalInteger("BANDWIDTH"),o.name=u.NAME;var f=u.CODECS;if(f){f=f.split(",");for(var l=0;l<f.length;l++){var c=f[l];c.indexOf("avc1")!==-1?o.videoCodec=this.avc1toavcoti(c):o.audioCodec=c}}r.push(o)}return r}},{key:"parseMasterPlaylistMedia",value:function(t,n,r){var i=[],s=void 0,o=0,u=/#EXT-X-MEDIA:(.*)/g;while((s=u.exec(t))!=null){var a={},f=new h.default(s[1]);f.TYPE===r&&(a.groupId=f["GROUP-ID"],a.name=f.NAME,a.default=f.DEFAULT==="YES",a.autoselect=f.AUTOSELECT==="YES",a.forced=f.FORCED==="YES",a.url=f.URI?this.resolve(f.URI,n):"",a.lang=f.LANGUAGE,a.name||(a.name=a.lang),a.id=o++,i.push(a))}return i}},{key:"createInitializationVector",value:function(t){var n=new Uint8Array(16);for(var r=12;r<16;r++)n[r]=t>>8*(15-r)&255;return n}},{key:"fragmentDecryptdataFromLevelkey",value:function(t,n){var r=t;return t&&t.method&&t.uri&&!t.iv&&(r=this.cloneObj(t),r.iv=this.createInitializationVector(n)),r}},{key:"avc1toavcoti",value:function(t){var n,r=t.split(".");return r.length>2?(n=r.shift()+".",n+=parseInt(r.shift()).toString(16),n+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):n=t,n}},{key:"cloneObj",value:function(t){return JSON.parse(JSON.stringify(t))}},{key:"parseLevelPlaylist",value:function(t,n,r,i){var s=0,o,u=0,a={type:null,version:null,url:n,fragments:[],live:!0,startSN:0},f={method:null,key:null,iv:null,uri:null},l=0,c=null,d=null,v,m,g=null,y=null,b=null,w=null,E=[];m=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE):(\d+))|(?:#EXT-X-(TARGETDURATION):(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT(INF):(\d+(?:\.\d+)?)(?:,(.*))?)|(?:(?!#)()(\S.+))|(?:#EXT-X-(BYTERANGE):(\d+(?:@\d+(?:\.\d+)?))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(PROGRAM-DATE-TIME):(.+))|(?:#EXT-X-(VERSION):(\d+))|(?:(#)(.*):(.*))|(?:(#)(.*)))(?:.*)\r?\n?/g;while((v=m.exec(t))!==null){v.shift(),v=v.filter(function(e){return e!==undefined});switch(v[0]){case"PLAYLIST-TYPE":a.type=v[1].toUpperCase();break;case"MEDIA-SEQUENCE":s=a.startSN=parseInt(v[1]);break;case"TARGETDURATION":a.targetduration=parseFloat(v[1]);break;case"VERSION":a.version=parseInt(v[1]);break;case"EXTM3U":break;case"ENDLIST":a.live=!1;break;case"DIS":l++,E.push(v);break;case"BYTERANGE":var S=v[1].split("@");S.length===1?w=b:w=parseInt(S[1]),b=parseInt(S[0])+w;break;case"INF":g=parseFloat(v[1]),y=v[2]?v[2]:null,E.push(v);break;case"":if(!isNaN(g)){var x=s++;o=this.fragmentDecryptdataFromLevelkey(f,x);var T=v[1]?this.resolve(v[1],n):null;d={url:T,type:i,duration:g,title:y,start:u,sn:x,level:r,cc:l,decryptdata:o,programDateTime:c,tagList:E},w!==null&&(d.byteRangeStartOffset=w,d.byteRangeEndOffset=b),a.fragments.push(d),u+=g,g=null,y=null,w=null,c=null,E=[]}break;case"KEY":var N=v[1],C=new h.default(N),k=C.enumeratedString("METHOD"),L=C.URI,A=C.hexadecimalInteger("IV");k&&(f={method:null,key:null,iv:null,uri:null},L&&k==="AES-128"&&(f.method=k,f.uri=this.resolve(L,n),f.key=null,f.iv=A));break;case"START":var O=v[1],M=new h.default(O),_=M.decimalFloatingPoint("TIME-OFFSET");_&&(a.startTimeOffset=_);break;case"PROGRAM-DATE-TIME":c=new Date(Date.parse(v[1])),E.push(v);break;case"#":v.shift(),E.push(v);break;default:p.logger.warn("line parsed but not handled: "+v)}}return d&&!d.url&&(a.fragments.pop(),u-=d.duration),a.totalduration=u,a.averagetargetduration=u/a.fragments.length,a.endSN=s-1,a}},{key:"loadsuccess",value:function(t,n,r){var i=t.currentTarget,o=i.responseText,u=i.responseURL,f=r.type,l=r.id,c=r.level,h=this.hls;this.loaders[f]=undefined;if(u===undefined||u.indexOf("data:")===0)u=r.url;n.tload=performance.now(),n.mtime=new Date(i.getResponseHeader("Last-Modified"));if(o.indexOf("#EXTM3U")===0)if(o.indexOf("#EXTINF:")>0)if(f==="manifest")h.trigger(s.default.MANIFEST_LOADED,{levels:[{url:u}],url:u,stats:n});else{var p=f==="level",d=this.parseLevelPlaylist(o,u,c||l,p?"main":"audio");n.tparsed=performance.now(),p?h.trigger(s.default.LEVEL_LOADED,{details:d,level:c,id:l,stats:n}):h.trigger(s.default.AUDIO_TRACK_LOADED,{details:d,id:l,stats:n})}else{var v=this.parseMasterPlaylist(o,u),m=this.parseMasterPlaylistMedia(o,u,"AUDIO");v.length?h.trigger(s.default.MANIFEST_LOADED,{levels:v,audioTracks:m,url:u,stats:n}):h.trigger(s.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:u,reason:"no level found in manifest"})}else h.trigger(s.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:u,reason:"no EXTM3U delimiter"})}},{key:"loaderror",value:function(t,n){var r,i,o=n.loader;switch(n.type){case"manifest":r=a.ErrorDetails.MANIFEST_LOAD_ERROR,i=!0;break;case"level":r=a.ErrorDetails.LEVEL_LOAD_ERROR,i=!1;break;case"audioTrack":r=a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,i=!1}o&&(o.abort(),this.loaders[n.type]=undefined),this.hls.trigger(s.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:r,fatal:i,url:o.url,loader:o,response:t.currentTarget,context:n})}},{key:"loadtimeout",value:function(t,n,r){var i,o,u=r.loader;switch(r.type){case"manifest":i=a.ErrorDetails.MANIFEST_LOAD_TIMEOUT,o=!0;break;case"level":i=a.ErrorDetails.LEVEL_LOAD_TIMEOUT,o=!1;break;case"audioTrack":i=a.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT,o=!1}u&&(u.abort(),this.loaders[r.type]=undefined),this.hls.trigger(s.default.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:i,fatal:o,url:u.url,loader:u,context:r})}}]),t}(u.default);n.default=b},{"../errors":24,"../event-handler":25,"../events":26,"../utils/attr-list":39,"../utils/logger":44,"../utils/url":47,"./resource-types":35}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=n.ResourceTypes={PLAYLIST:"playlist",FRAGMENT:"fragment",KEY:"key"}},{}],36:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(){i(this,e)}return r(e,null,[{key:"init",value:function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var n;for(n in e.types)e.types.hasOwnProperty(n)&&(e.types[n]=[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:i};var s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=o,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var u=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),f=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,u,f,u,a),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,s))}},{key:"box",value:function(t){var n=Array.prototype.slice.call(arguments,1),r=8,i=n.length,s=i,o;while(i--)r+=n[i].byteLength;o=new Uint8Array(r),o[0]=r>>24&255,o[1]=r>>16&255,o[2]=r>>8&255,o[3]=r&255,o.set(t,4);for(i=0,r=8;i<s;i++)o.set(n[i],r),r+=n[i].byteLength;return o}},{key:"hdlr",value:function(n){return e.box(e.types.hdlr,e.HDLR_TYPES[n])}},{key:"mdat",value:function(n){return e.box(e.types.mdat,n)}},{key:"mdhd",value:function(n,r){return r*=n,e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,n&255,r>>24,r>>16&255,r>>8&255,r&255,85,196,0,0]))}},{key:"mdia",value:function(n){return e.box(e.types.mdia,e.mdhd(n.timescale,n.duration),e.hdlr(n.type),e.minf(n))}},{key:"mfhd",value:function(n){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,n&255]))}},{key:"minf",value:function(n){return n.type==="audio"?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(n)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(n))}},{key:"moof",value:function(n,r,i){return e.box(e.types.moof,e.mfhd(n),e.traf(i,r))}},{key:"moov",value:function(n){var r=n.length,i=[];while(r--)i[r]=e.trak(n[r]);return e.box.apply(null,[e.types.moov,e.mvhd(n[0].timescale,n[0].duration)].concat(i).concat(e.mvex(n)))}},{key:"mvex",value:function(n){var r=n.length,i=[];while(r--)i[r]=e.trex(n[r]);return e.box.apply(null,[e.types.mvex].concat(i))}},{key:"mvhd",value:function(n,r){r*=n;var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,n>>24&255,n>>16&255,n>>8&255,n&255,r>>24&255,r>>16&255,r>>8&255,r&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,i)}},{key:"sdtp",value:function(n){var r=n.samples||[],i=new Uint8Array(4+r.length),s,o;for(o=0;o<r.length;o++)s=r[o].flags,i[o+4]=s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy;return e.box(e.types.sdtp,i)}},{key:"stbl",value:function(n){return e.box(e.types.stbl,e.stsd(n),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:"avc1",value:function(n){var r=[],i=[],s,o,u;for(s=0;s<n.sps.length;s++)o=n.sps[s],u=o.byteLength,r.push(u>>>8&255),r.push(u&255),r=r.concat(Array.prototype.slice.call(o));for(s=0;s<n.pps.length;s++)o=n.pps[s],u=o.byteLength,i.push(u>>>8&255),i.push(u&255),i=i.concat(Array.prototype.slice.call(o));var a=e.box(e.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|n.sps.length].concat(r).concat([n.pps.length]).concat(i))),f=n.width,l=n.height;return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,f>>8&255,f&255,l>>8&255,l&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))}},{key:"esds",value:function(t){var n=t.config.length;return new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(t.config).concat([6,1,2]))}},{key:"mp4a",value:function(n){var r=n.audiosamplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n.channelCount,0,16,0,0,0,0,r>>8&255,r&255,0,0]),e.box(e.types.esds,e.esds(n)))}},{key:"stsd",value:function(n){return n.type==="audio"?e.box(e.types.stsd,e.STSD,e.mp4a(n)):e.box(e.types.stsd,e.STSD,e.avc1(n))}},{key:"tkhd",value:function(n){var r=n.id,i=n.duration*n.timescale,s=n.width,o=n.height;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,r>>24&255,r>>16&255,r>>8&255,r&255,0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,s>>8&255,s&255,0,0,o>>8&255,o&255,0,0]))}},{key:"traf",value:function(n,r){var i=e.sdtp(n),s=n.id;return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,s>>24,s>>16&255,s>>8&255,s&255])),e.box(e.types.tfdt,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,r&255])),e.trun(n,i.length+16+16+8+16+8+8),i)}},{key:"trak",value:function(n){return n.duration=n.duration||4294967295,e.box(e.types.trak,e.tkhd(n),e.mdia(n))}},{key:"trex",value:function(n){var r=n.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,r&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(n,r){var i=n.samples||[],s=i.length,o=12+16*s,u=new Uint8Array(o),a,f,l,c,h,p;r+=8+o,u.set([0,0,15,1,s>>>24&255,s>>>16&255,s>>>8&255,s&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255],0);for(a=0;a<s;a++)f=i[a],l=f.duration,c=f.size,h=f.flags,p=f.cts,u.set([l>>>24&255,l>>>16&255,l>>>8&255,l&255,c>>>24&255,c>>>16&255,c>>>8&255,c&255,h.isLeading<<2|h.dependsOn,h.isDependedOn<<6|h.hasRedundancy<<4|h.paddingValue<<1|h.isNonSync,h.degradPrio&61440,h.degradPrio&15,p>>>24&255,p>>>16&255,p>>>8&255,p&255],12+16*a);return e.box(e.types.trun,u)}},{key:"initSegment",value:function(n){e.types||e.init();var r=e.moov(n),i;return i=new Uint8Array(e.FTYP.byteLength+r.byteLength),i.set(e.FTYP),i.set(r,e.FTYP.byteLength),i}}]),e}();n.default=s},{}],37:[function(e,t,n){"use strict";function h(e){return e&&e.__esModule?e:{"default":e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../helper/aac"),s=h(i),o=e("../events"),u=h(o),a=e("../utils/logger"),f=e("../remux/mp4-generator"),l=h(f),c=e("../errors");e("../utils/polyfill");var d=function(){function e(t,n,r){p(this,e),this.observer=t,this.id=n,this.config=r,this.ISGenerated=!1,this.PES2MP4SCALEFACTOR=4,this.PES_TIMESCALE=9e4,this.MP4_TIMESCALE=this.PES_TIMESCALE/this.PES2MP4SCALEFACTOR}return r(e,[{key:"destroy",value:function(){}},{key:"insertDiscontinuity",value:function(){this._initPTS=this._initDTS=undefined}},{key:"switchLevel",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(t,n,r,i,s,o,a,f){this.level=t,this.sn=n,this.ISGenerated||this.generateIS(r,i,a);if(this.ISGenerated)if(r.samples.length){var l=this.remuxAudio(r,a,f);if(i.samples.length){var c=void 0;l&&(c=l.endPTS-l.startPTS),this.remuxVideo(i,a,f,c)}}else{var h=void 0;i.samples.length&&(h=this.remuxVideo(i,a,f)),h&&r.codec&&this.remuxEmptyAudio(r,a,f,h)}s.samples.length&&this.remuxID3(s,a),o.samples.length&&this.remuxText(o,a),this.observer.trigger(u.default.FRAG_PARSED,{id:this.id,level:this.level,sn:this.sn})}},{key:"generateIS",value:function(t,n,r){var i=this.observer,s=t.samples,o=n.samples,f=this.PES_TIMESCALE,h={},p={id:this.id,level:this.level,sn:this.sn,tracks:h,unique:!1},d=this._initPTS===undefined,v,m;d&&(v=m=Infinity),t.config&&s.length&&(t.timescale=t.audiosamplerate,t.timescale*t.duration>Math.pow(2,32)&&function(){var e=function n(e,t){return t?n(t,e%t):e};t.timescale=t.audiosamplerate/e(t.audiosamplerate,1024)}(),a.logger.log("audio mp4 timescale :"+t.timescale),h.audio={container:"audio/mp4",codec:t.codec,initSegment:l.default.initSegment([t]),metadata:{channelCount:t.channelCount}},d&&(v=m=s[0].pts-f*r)),n.sps&&n.pps&&o.length&&(n.timescale=this.MP4_TIMESCALE,h.video={container:"video/mp4",codec:n.codec,initSegment:l.default.initSegment([n]),metadata:{width:n.width,height:n.height}},d&&(v=Math.min(v,o[0].pts-f*r),m=Math.min(m,o[0].dts-f*r))),Object.keys(h).length?(i.trigger(u.default.FRAG_PARSING_INIT_SEGMENT,p),this.ISGenerated=!0,d&&(this._initPTS=v,this._initDTS=m)):i.trigger(u.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,id:this.id,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})}},{key:"remuxVideo",value:function(t,n,r,i){var s=8,o=this.PES_TIMESCALE,f=this.PES2MP4SCALEFACTOR,c,h,p,d,v,m,g,y,b=t.samples,w=[],E=void 0;r?E=this.nextAvcDts:E=n*o;var S=b[0];v=Math.max(this._PTSNormalize(S.dts,E)-this._initDTS,0),d=Math.max(this._PTSNormalize(S.pts,E)-this._initDTS,0);var x=Math.round((v-E)/90);r&&x&&(x>1?a.logger.log("AVC:"+x+" ms hole between fragments detected,filling it"):x<-1&&a.logger.log("AVC:"+ -x+" ms overlapping between fragments detected"),v=E,b[0].dts=v+this._initDTS,d=Math.max(d-x,E),b[0].pts=d+this._initDTS,a.logger.log("Video/PTS/DTS adjusted: "+d+"/"+v+",delta:"+x)),m=v,S=b[b.length-1],y=Math.max(this._PTSNormalize(S.dts,E)-this._initDTS,0),g=Math.max(this._PTSNormalize(S.pts,E)-this._initDTS,0),g=Math.max(g,y);var T=navigator.vendor,N=navigator.userAgent,C=T&&T.indexOf("Apple")>-1&&N&&!N.match("CriOS");C&&(c=Math.round((y-v)/(f*(b.length-1))));for(var k=0;k<b.length;k++){var L=b[k];C?L.dts=v+k*f*c:(L.dts=Math.max(this._PTSNormalize(L.dts,E)-this._initDTS,v),L.dts=Math.round(L.dts/f)*f),L.pts=Math.max(this._PTSNormalize(L.pts,E)-this._initDTS,L.dts),L.pts=Math.round(L.pts/f)*f}h=new Uint8Array(t.len+4*t.nbNalu+8);var A=new DataView(h.buffer);A.setUint32(0,h.byteLength),h.set(l.default.types.mdat,4);for(var O=0;O<b.length;O++){var M=b[O],_=0,D=void 0;while(M.units.units.length){var P=M.units.units.shift();A.setUint32(s,P.data.byteLength),s+=4,h.set(P.data,s),s+=P.data.byteLength,_+=4+P.data.byteLength}if(!C){if(O<b.length-1)c=b[O+1].dts-M.dts;else{var H=this.config,B=M.dts-b[O>0?O-1:O].dts;if(H.stretchShortVideoTrack){var j=H.maxBufferHole,F=H.maxSeekHole,I=Math.floor(Math.min(j,F)*o),q=(i?d+i*o:this.nextAacPts)-M.pts;q>I?(c=q-B,c<0&&(c=B),a.logger.log("It is approximately "+q/90+" ms to the next segment; using duration "+c/90+" ms for the last video frame.")):c=B}else c=B}c/=f,D=Math.round((M.pts-M.dts)/f)}else D=Math.max(0,c*Math.round((M.pts-M.dts)/(f*c)));w.push({size:_,duration:c,cts:D,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:M.key?2:1,isNonSync:M.key?0:1}})}this.nextAvcDts=y+c*f;var R=t.dropped;t.len=0,t.nbNalu=0,t.dropped=0;if(w.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var U=w[0].flags;U.dependsOn=2,U.isNonSync=0}t.samples=w,p=l.default.moof(t.sequenceNumber++,v/f,t),t.samples=[];var z={id:this.id,level:this.level,sn:this.sn,data1:p,data2:h,startPTS:d/o,endPTS:(g+f*c)/o,startDTS:v/o,endDTS:this.nextAvcDts/o,type:"video",nb:w.length,dropped:R};return this.observer.trigger(u.default.FRAG_PARSING_DATA,z),z}},{key:"remuxAudio",value:function(t,n,r){var i=this.PES_TIMESCALE,o=t.timescale,f=i/o,c=t.timescale*1024/t.audiosamplerate,h,p=8,d,v,m,g,y,b,w,E,S,x,T,N,C=[],k=[];t.samples.sort(function(e,t){return e.pts-t.pts}),k=t.samples;var L=r?this.nextAacPts:n*i,A=this._PTSNormalize(k[0].pts-this._initPTS,L),O=c*f,M=A+O;for(var _=1;_<k.length;){var D=k[_],P=this._PTSNormalize(D.pts-this._initPTS,L),H=P-M;if(H<-0.5*O)a.logger.log("Dropping frame due to "+Math.abs(H/90)+" ms overlap."),k.splice(_,1),t.len-=D.unit.length;else if(H>.5*O){var B=Math.round(H/O);a.logger.log("Injecting "+B+" frame"+(B>1?"s":"")+" of missing audio due to "+Math.round(H/90)+" ms gap.");for(var j=0;j<B;j++){var F=k[_-1].pts+O,I=s.default.getSilentFrame(t.channelCount);I||(a.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),I=D.unit.slice(0)),k.splice(_,0,{unit:I,pts:F,dts:F}),t.len+=I.length,_+=1}M+=(B+1)*O,D.pts=k[_-1].pts+O,_+=1}else Math.abs(H)>.1*O&&a.logger.log("Invalid frame delta "+(P-M+O)+" at PTS "+Math.round(P/90)+" (should be "+O+")."),M+=O,D.pts=k[_-1].pts+O,_+=1}while(k.length){d=k.shift(),m=d.unit,S=d.pts-this._initDTS,x=d.dts-this._initDTS;if(E!==undefined)T=this._PTSNormalize(S,E),N=this._PTSNormalize(x,E),v.duration=(N-E)/f;else{T=this._PTSNormalize(S,L),N=this._PTSNormalize(x,L);var q=Math.round(1e3*(T-L)/i);if(r&&q){if(q>0)a.logger.log(q+" ms hole between AAC samples detected,filling it");else if(q<-12){a.logger.log(-q+" ms overlapping between AAC samples detected, drop frame"),t.len-=m.byteLength;continue}T=N=L}b=Math.max(0,T),w=Math.max(0,N);if(!(t.len>0))return;g=new Uint8Array(t.len+8),h=new DataView(g.buffer),h.setUint32(0,g.byteLength),g.set(l.default.types.mdat,4)}g.set(m,p),p+=m.byteLength,v={size:m.byteLength,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},C.push(v),E=N}var R=0,U=C.length;U>=2&&(R=C[U-2].duration,v.duration=R);if(U){this.nextAacPts=T+f*R,t.len=0,t.samples=C,y=l.default.moof(t.sequenceNumber++,w/f,t),t.samples=[];var z={id:this.id,level:this.level,sn:this.sn,data1:y,data2:g,startPTS:b/i,endPTS:this.nextAacPts/i,startDTS:w/i,endDTS:(N+f*R)/i,type:"audio",nb:U};return this.observer.trigger(u.default.FRAG_PARSING_DATA,z),z}return null}},{key:"remuxEmptyAudio",value:function(t,n,r,i){var o=this.PES_TIMESCALE,u=t.timescale?t.timescale:t.audiosamplerate,f=o/u,l=i.startDTS*o+this._initDTS,c=i.endDTS*o+this._initDTS,h=1024,p=f*h,d=Math.ceil((c-l)/p),v=s.default.getSilentFrame(t.channelCount);if(!v){a.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");return}var m=[];for(var g=0;g<d;g++){var y=l+g*p;m.push({unit:v.slice(0),pts:y,dts:y}),t.len+=v.length}t.samples=m,this.remuxAudio(t,n,r)}},{key:"remuxID3",value:function(t,n){var r=t.samples.length,i;if(r){for(var s=0;s<r;s++)i=t.samples[s],i.pts=(i.pts-this._initPTS)/this.PES_TIMESCALE,i.dts=(i.dts-this._initDTS)/this.PES_TIMESCALE;this.observer.trigger(u.default.FRAG_PARSING_METADATA,{id:this.id,level:this.level,sn:this.sn,samples:t.samples})}t.samples=[],n=n}},{key:"remuxText",value:function(t,n){t.samples.sort(function(e,t){return e.pts-t.pts});var r=t.samples.length,i;if(r){for(var s=0;s<r;s++)i=t.samples[s],i.pts=(i.pts-this._initPTS)/this.PES_TIMESCALE;this.observer.trigger(u.default.FRAG_PARSING_USERDATA,{id:this.id,level:this.level,sn:this.sn,samples:t.samples})}t.samples=[],n=n}},{key:"_PTSNormalize",value:function(t,n){var r;if(n===undefined)return t;n<t?r=-8589934592:r=8589934592;while(Math.abs(t-n)>4294967296)t+=r;return t}},{key:"passthrough",get:function(){return!1}}]),e}();n.default=d},{"../errors":24,"../events":26,"../helper/aac":27,"../remux/mp4-generator":36,"../utils/logger":44,"../utils/polyfill":45}],38:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../events"),s=o(i),a=function(){function e(t,n){u(this,e),this.observer=t,this.id=n,this.ISGenerated=!1}return r(e,[{key:"destroy",value:function(){}},{key:"insertDiscontinuity",value:function(){}},{key:"switchLevel",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(t,n,r,i,o,u){var a=this.observer;if(!this.ISGenerated){var f={},l={id:this.id,tracks:f,unique:!0},c=n,h=c.codec;h&&(l.tracks.video={container:c.container,codec:h,metadata:{width:c.width,height:c.height}}),c=t,h=c.codec,h&&(l.tracks.audio={container:c.container,codec:h,metadata:{channelCount:c.channelCount}}),this.ISGenerated=!0,a.trigger(s.default.FRAG_PARSING_INIT_SEGMENT,l)}a.trigger(s.default.FRAG_PARSING_DATA,{id:this.id,data1:u,startPTS:o,startDTS:o,type:"audiovideo",nb:1,dropped:0})}},{key:"passthrough",get:function(){return!0}}]),e}();n.default=a},{"../events":26}],39:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){i(this,e),typeof t=="string"&&(t=e.parseAttrList(t));for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])}return r(e,[{key:"decimalInteger",value:function(t){var n=parseInt(this[t],10);return n>Number.MAX_SAFE_INTEGER?Infinity:n}},{key:"hexadecimalInteger",value:function(t){if(this[t]){var n=(this[t]||"0x").slice(2);n=(n.length&1?"0":"")+n;var r=new Uint8Array(n.length/2);for(var i=0;i<n.length/2;i++)r[i]=parseInt(n.slice(i*2,i*2+2),16);return r}return null}},{key:"hexadecimalIntegerAsNumber",value:function(t){var n=parseInt(this[t],16);return n>Number.MAX_SAFE_INTEGER?Infinity:n}},{key:"decimalFloatingPoint",value:function(t){return parseFloat(this[t])}},{key:"enumeratedString",value:function(t){return this[t]}},{key:"decimalResolution",value:function(t){var n=/^(\d+)x(\d+)$/.exec(this[t]);return n===null?undefined:{width:parseInt(n[1],10),height:parseInt(n[2],10)}}}],[{key:"parseAttrList",value:function(t){var n=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,r,i={};while((r=n.exec(t))!==null){var s=r[2],o='"';s.indexOf(o)===0&&s.lastIndexOf(o)===s.length-1&&(s=s.slice(1,-1)),i[r[1]]=s}return i}}]),e}();n.default=s},{}],40:[function(e,t,n){"use strict";var r={search:function(t,n){var r=0,i=t.length-1,s=null,o=null;while(r<=i){s=(r+i)/2|0,o=t[s];var u=n(o);if(u>0)r=s+1;else{if(!(u<0))return o;i=s-1}}return null}};t.exports=r},{}],41:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},o=function(t){var n=t;return s.hasOwnProperty(t)&&(n=s[t]),String.fromCharCode(n)},u=15,a=32,f=-1,l={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},c={17:2,18:4,21:6,22:8,23:10,19:13,20:15},h={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},p={25:2,26:4,29:6,30:8,31:10,27:13,28:15},d=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],v={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,n){var r=this.verboseFilter[t];this.verboseLevel>=r&&console.log(this.time+" ["+t+"] "+n)}},m=function(t){var n=[];for(var r=0;r<t.length;r++)n.push(t[r].toString(16));return n},g=function(){function e(t,n,r,s,o){i(this,e),this.foreground=t||"white",this.underline=n||!1,this.italics=r||!1,this.background=s||"black",this.flash=o||!1}return r(e,[{key:"reset",value:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}},{key:"setStyles",value:function(t){var n=["foreground","underline","italics","background","flash"];for(var r=0;r<n.length;r++){var i=n[r];t.hasOwnProperty(i)&&(this[i]=t[i])}}},{key:"isDefault",value:function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}},{key:"equals",value:function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash}},{key:"copy",value:function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash}},{key:"toString",value:function t(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}]),e}(),y=function(){function e(t,n,r,s,o,u){i(this,e),this.uchar=t||" ",this.penState=new g(n,r,s,o,u)}return r(e,[{key:"reset",value:function(){this.uchar=" ",this.penState.reset()}},{key:"setChar",value:function(t,n){this.uchar=t,this.penState.copy(n)}},{key:"setPenState",value:function(t){this.penState.copy(t)}},{key:"equals",value:function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)}},{key:"copy",value:function(t){this.uchar=t.uchar,this.penState.copy(t.penState)}},{key:"isEmpty",value:function(){return this.uchar===" "&&this.penState.isDefault()}}]),e}(),b=function(){function e(){i(this,e),this.chars=[];for(var t=0;t<a;t++)this.chars.push(new y);this.pos=0,this.currPenState=new g}return r(e,[{key:"equals",value:function(t){var n=!0;for(var r=0;r<a;r++)if(!this.chars[r].equals(t.chars[r])){n=!1;break}return n}},{key:"copy",value:function(t){for(var n=0;n<a;n++)this.chars[n].copy(t.chars[n])}},{key:"isEmpty",value:function(){var t=!0;for(var n=0;n<a;n++)if(!this.chars[n].isEmpty()){t=!1;break}return t}},{key:"setCursor",value:function(t){this.pos!==t&&(this.pos=t),this.pos<0?(v.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>a&&(v.log("ERROR","Too large cursor position "+this.pos),this.pos=a)}},{key:"moveCursor",value:function(t){var n=this.pos+t;if(t>1)for(var r=this.pos+1;r<n+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(n)}},{key:"backSpace",value:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}},{key:"insertChar",value:function(t){t>=144&&this.backSpace();var n=o(t);if(this.pos>=a){v.log("WARNING","Cannot insert "+t.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1)}},{key:"clearFromPos",value:function(t){var n;for(n=t;n<a;n++)this.chars[n].reset()}},{key:"clear",value:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}},{key:"clearToEndOfRow",value:function(){this.clearFromPos(this.pos)}},{key:"getTextString",value:function(){var t=[],n=!0;for(var r=0;r<a;r++){var i=this.chars[r].uchar;i!==" "&&(n=!1),t.push(i)}return n?"":t.join("")}},{key:"setPenStyles",value:function(t){this.currPenState.setStyles(t);var n=this.chars[this.pos];n.setPenState(this.currPenState)}}]),e}(),w=function(){function e(){i(this,e),this.rows=[];for(var t=0;t<u;t++)this.rows.push(new b);this.currRow=f,this.nrRollUpRows=null,this.reset()}return r(e,[{key:"reset",value:function(){for(var t=0;t<u;t++)this.rows[t].clear();this.currRow=f}},{key:"equals",value:function(t){var n=!0;for(var r=0;r<u;r++)if(!this.rows[r].equals(t.rows[r])){n=!1;break}return n}},{key:"copy",value:function(t){for(var n=0;n<u;n++)this.rows[n].copy(t.rows[n])}},{key:"isEmpty",value:function(){var t=!0;for(var n=0;n<u;n++)if(!this.rows[n].isEmpty()){t=!1;break}return t}},{key:"backSpace",value:function(){var t=this.rows[this.currRow];t.backSpace()}},{key:"clearToEndOfRow",value:function(){var t=this.rows[this.currRow];t.clearToEndOfRow()}},{key:"insertChar",value:function(t){if(this.currRow===f){v.log("INFO","No row has been set. Ignoring characters.");return}var n=this.rows[this.currRow];n.insertChar(t)}},{key:"setPen",value:function(t){var n=this.rows[this.currRow];n.setPenStyles(t)}},{key:"moveCursor",value:function(t){var n=this.rows[this.currRow];n.moveCursor(t)}},{key:"setCursor",value:function(t){v.log("INFO","setCursor: "+t);var n=this.rows[this.currRow];n.setCursor(t)}},{key:"setPAC",value:function(t){v.log("INFO","pacData = "+JSON.stringify(t));var n=t.row-1;this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.currRow=n;var r=this.rows[this.currRow];if(t.indent!==null){var i=t.indent,s=Math.max(i-1,0);r.setCursor(t.indent),t.color=r.chars[s].penState.foreground}var o={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(o)}},{key:"setBkgData",value:function(t){v.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)}},{key:"setRollUpRows",value:function(t){this.nrRollUpRows=t}},{key:"rollUp",value:function(){if(this.nrRollUpRows===null){v.log("DEBUG","roll_up but nrRollUpRows not set yet");return}v.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(t,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),v.log("INFO","Rolling up")}},{key:"getDisplayText",value:function(t){t=t||!1;var n=[],r="",i=-1;for(var s=0;s<u;s++){var o=this.rows[s].getTextString();o&&(i=s+1,t?n.push("Row "+i+": '"+o+"'"):n.push(o.trim()))}return n.length>0&&(t?r="["+n.join(" | ")+"]":r=n.join("\n")),r}},{key:"getTextAndFormat",value:function(){return this.rows}}]),e}(),E=function(){function e(t,n){i(this,e),this.chNr=t,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new w,this.nonDisplayedMemory=new w,this.lastOutputScreen=new w,this.currRollUpRow=this.displayedMemory.rows[u-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return r(e,[{key:"reset",value:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[u-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null}},{key:"getHandler",value:function(){return this.outputFilter}},{key:"setHandler",value:function(t){this.outputFilter=t}},{key:"setPAC",value:function(t){this.writeScreen.setPAC(t)}},{key:"setBkgData",value:function(t){this.writeScreen.setBkgData(t)}},{key:"setMode",value:function(t){if(t===this.mode)return;this.mode=t,v.log("INFO","MODE="+t),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t}},{key:"insertChars",value:function(t){for(var n=0;n<t.length;n++)this.writeScreen.insertChar(t[n]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";v.log("INFO",r+": "+this.writeScreen.getDisplayText(!0));if(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")v.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate()}},{key:"ccRCL",value:function(){v.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}},{key:"ccBS",value:function(){v.log("INFO","BS - BackSpace");if(this.mode==="MODE_TEXT")return;this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate()}},{key:"ccAOF",value:function(){return}},{key:"ccAON",value:function(){return}},{key:"ccDER",value:function(){v.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}},{key:"ccRU",value:function(t){v.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)}},{key:"ccFON",value:function(){v.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})}},{key:"ccRDC",value:function(){v.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}},{key:"ccTR",value:function(){v.log("INFO","TR"),this.setMode("MODE_TEXT")}},{key:"ccRTD",value:function(){v.log("INFO","RTD"),this.setMode("MODE_TEXT")}},{key:"ccEDM",value:function(){v.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()}},{key:"ccCR",value:function(){v.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()}},{key:"ccENM",value:function(){v.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}},{key:"ccEOC",value:function(){v.log("INFO","EOC - End Of Caption");if(this.mode==="MODE_POP-ON"){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,v.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()}},{key:"ccTO",value:function(t){v.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)}},{key:"ccMIDROW",value:function(t){var n={flash:!1};n.underline=t%2===1,n.italics=t>=46;if(!n.italics){var r=Math.floor(t/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];n.foreground=i[r]}else n.foreground="white";v.log("INFO","MIDROW: "+JSON.stringify(n)),this.writeScreen.setPen(n)}},{key:"outputDataUpdate",value:function(){var t=v.time;if(t===null)return;this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(t,this.displayedMemory),this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=t:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:t),this.lastOutputScreen.copy(this.displayedMemory))}},{key:"cueSplitAtTime",value:function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))}}]),e}(),S=function(){function e(t,n,r){i(this,e),this.field=t||1,this.outputs=[n,r],this.channels=[new E(1,n),new E(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,"char":0,cmd:0,other:0}}return r(e,[{key:"getHandler",value:function(t){return this.channels[t].getHandler()}},{key:"setHandler",value:function(t,n){this.channels[t].setHandler(n)}},{key:"addData",value:function(t,n){var r,i,s,o=!1;this.lastTime=t,v.setTime(t);for(var u=0;u<n.length;u+=2){i=n[u]&127,s=n[u+1]&127;if(i===0&&s===0){this.dataCounters.padding+=2;continue}v.log("DATA","["+m([n[u],n[u+1]])+"] -> ("+m([i,s])+")"),r=this.parseCmd(i,s),r||(r=this.parseMidrow(i,s)),r||(r=this.parsePAC(i,s)),r||(r=this.parseBackgroundAttributes(i,s));if(!r){o=this.parseChars(i,s);if(o)if(this.currChNr&&this.currChNr>=0){var a=this.channels[this.currChNr-1];a.insertChars(o)}else v.log("WARNING","No channel found yet. TEXT-MODE?")}r?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,v.log("WARNING","Couldn't parse cleaned data "+m([i,s])+" orig: "+m([n[u],n[u+1]])))}}},{key:"parseCmd",value:function(t,n){var r=null,i=(t===20||t===28)&&32<=n&&n<=47,s=(t===23||t===31)&&33<=n&&n<=35;if(!i&&!s)return!1;if(t===this.lastCmdA&&n===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,v.log("DEBUG","Repeated command ("+m([t,n])+") is dropped"),!0;t===20||t===23?r=1:r=2;var o=this.channels[r-1];return t===20||t===28?n===32?o.ccRCL():n===33?o.ccBS():n===34?o.ccAOF():n===35?o.ccAON():n===36?o.ccDER():n===37?o.ccRU(2):n===38?o.ccRU(3):n===39?o.ccRU(4):n===40?o.ccFON():n===41?o.ccRDC():n===42?o.ccTR():n===43?o.ccRTD():n===44?o.ccEDM():n===45?o.ccCR():n===46?o.ccENM():n===47&&o.ccEOC():o.ccTO(n-32),this.lastCmdA=t,this.lastCmdB=n,this.currChNr=r,!0}},{key:"parseMidrow",value:function(t,n){var r=null;if((t===17||t===25)&&32<=n&&n<=47){t===17?r=1:r=2;if(r!==this.currChNr)return v.log("ERROR","Mismatch channel in midrow parsing"),!1;var i=this.channels[r-1];return i.ccMIDROW(n),v.log("DEBUG","MIDROW ("+m([t,n])+")"),!0}return!1}},{key:"parsePAC",value:function(t,n){var r=null,i=null,s=(17<=t&&t<=23||25<=t&&t<=31)&&64<=n&&n<=127,o=(t===16||t===24)&&64<=n&&n<=95;if(!s&&!o)return!1;if(t===this.lastCmdA&&n===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;r=t<=23?1:2,64<=n&&n<=95?i=r===1?l[t]:h[t]:i=r===1?c[t]:p[t];var u=this.interpretPAC(i,n),a=this.channels[r-1];return a.setPAC(u),this.lastCmdA=t,this.lastCmdB=n,this.currChNr=r,!0}},{key:"interpretPAC",value:function(t,n){var r=n,i={color:null,italics:!1,indent:null,underline:!1,row:t};return n>95?r=n-96:r=n-64,i.underline=(r&1)===1,r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((r-16)/2)*4,i}},{key:"parseChars",value:function(t,n){var r=null,i=null,s=null;t>=25?(r=2,s=t-8):(r=1,s=t);if(17<=s&&s<=19){var u=n;s===17?u=n+80:s===18?u=n+112:u=n+144,v.log("INFO","Special char '"+o(u)+"' in channel "+r),i=[u]}else 32<=t&&t<=127&&(i=n===0?[t]:[t,n]);if(i){var a=m(i);v.log("DEBUG","Char codes =  "+a.join(",")),this.lastCmdA=null,this.lastCmdB=null}return i}},{key:"parseBackgroundAttributes",value:function(t,n){var r,i,s,o,u=(t===16||t===24)&&32<=n&&n<=47,a=(t===23||t===31)&&45<=n&&n<=47;return!u&&!a?!1:(r={},t===16||t===24?(i=Math.floor((n-32)/2),r.background=d[i],n%2===1&&(r.background=r.background+"_semi")):n===45?r.background="transparent":(r.foreground="black",n===47&&(r.underline=!0)),s=t<24?1:2,o=this.channels[s-1],o.setBkgData(r),this.lastCmdA=null,this.lastCmdB=null,!0)}},{key:"reset",value:function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null}},{key:"cueSplitAtTime",value:function(t){for(var n=0;n<this.channels.length;n++)this.channels[n]&&this.channels[n].cueSplitAtTime(t)}}]),e}();n.default=S},{}],42:[function(e,t,n){"use strict";var r={newCue:function(t,n,r,i){var s,o,u,a,f,l=window.VTTCue||window.TextTrackCue;for(var c=0;c<i.rows.length;c++){s=i.rows[c],u=!0,a=0,f="";if(!s.isEmpty()){for(var h=0;h<s.chars.length;h++)s.chars[h].uchar.match(/\s/)&&u?a++:(f+=s.chars[h].uchar,u=!1);o=new l(n,r,f.trim()),a>=16?a--:a++,navigator.userAgent.match(/Firefox\//)?o.line=c+1:o.line=c>7?c-2:c+1,o.align="left",o.position=100*(a/32)+(navigator.userAgent.match(/Firefox\//)?50:0),t.addCue(o)}}}};t.exports=r},{}],43:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){i(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return r(e,[{key:"sample",value:function(t,n){var r=Math.pow(this.alpha_,t);this.estimate_=n*(1-r)+r*this.estimate_,this.totalWeight_+=t}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_}}]),e}();n.default=s},{}],44:[function(e,t,n){"use strict";function i(){}function u(e,t){return t="["+e+"] > "+t,t}function a(e){var t=window.console[e];return t?function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];r[0]&&(r[0]=u(e,r[0])),t.apply(window.console,r)}:i}function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach(function(t){o[t]=e[t]?e[t].bind(e):a(t)})}Object.defineProperty(n,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol?"symbol":typeof e},s={trace:i,debug:i,log:i,warn:i,info:i,error:i},o=s,l=n.enableLogs=function(t){if(t===!0||(typeof t=="undefined"?"undefined":r(t))==="object"){f(t,"debug","log","info","warn","error");try{o.log()}catch(n){o=s}}else o=s},c=n.logger=o},{}],45:[function(e,t,n){"use strict";typeof ArrayBuffer!="undefined"&&!ArrayBuffer.prototype.slice&&(ArrayBuffer.prototype.slice=function(e,t){var n=new Uint8Array(this);t===undefined&&(t=n.length);var r=new ArrayBuffer(t-e),i=new Uint8Array(r);for(var s=0;s<i.length;s++)i[s]=n[s+e];return r})},{}],46:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(){i(this,e)}return r(e,null,[{key:"toString",value:function t(e){var t="",n=e.length;for(var r=0;r<n;r++)t+="["+e.start(r)+","+e.end(r)+"]";return t}}]),e}();n.default=s},{}],47:[function(e,t,n){"use strict";var r={buildAbsoluteURL:function(t,n){n=n.trim();if(/^[a-z]+:/i.test(n))return n;var i=null,s=null,o=/^([^#]*)(.*)$/.exec(n);o&&(s=o[2],n=o[1]);var u=/^([^\?]*)(.*)$/.exec(n);u&&(i=u[2],n=u[1]);var a=/^([^#]*)(.*)$/.exec(t);a&&(t=a[1]);var f=/^([^\?]*)(.*)$/.exec(t);f&&(t=f[1]);var l=/^(([a-z]+:)?\/\/[a-z0-9\.\-_~]+(:[0-9]+)?)?(\/.*)$/i.exec(t);if(!l)throw new Error("Error trying to parse base URL.");var c=l[2]||"",h=l[1]||"",p=l[4],d=null;return/^\/\//.test(n)?d=c+"//"+r.buildAbsolutePath("",n.substring(2)):/^\//.test(n)?d=h+"/"+r.buildAbsolutePath("",n.substring(1)):d=r.buildAbsolutePath(h+p,n),i&&(d+=i),s&&(d+=s),d},buildAbsolutePath:function(t,n){var r=n,i,s="",o=t.replace(/[^\/]*$/,r.replace(/(\/|^)(?:\.?\/+)+/g,"$1"));for(var u,a=0;u=o.indexOf("/../",a),u>-1;a=u+i)i=/^\/(?:\.\.\/)*/.exec(o.slice(u))[0].length,s=(s+o.substring(a,u)).replace(new RegExp("(?:\\/+[^\\/]*){0,"+(i-1)/3+"}$"),"/");return s+o.substr(a)}};t.exports=r},{}],48:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("../utils/logger"),o=function(){function e(t){s(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return r(e,[{key:"destroy",value:function(){this.abort(),this.loader=null}},{key:"abort",value:function(){var t=this.loader;t&&t.readyState!==4&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null}},{key:"load",value:function(t,n,r,i,s,o,u,a,f,l){var c=arguments.length<=10||arguments[10]===undefined?null:arguments[10],h=arguments.length<=11||arguments[11]===undefined?null:arguments[11];this.url=t,this.context=n,n&&(n.url=t),h&&!isNaN(h.byteRangeStartOffset)&&!isNaN(h.byteRangeEndOffset)&&(this.byteRange=h.byteRangeStartOffset+"-"+(h.byteRangeEndOffset-1)),this.responseType=r,this.onSuccess=i,this.onProgress=c,this.onTimeout=o,this.onError=s,this.stats={trequest:performance.now(),retry:0},this.timeout=u,this.maxRetry=a,this.retryDelay=f,this.type=l,this.loadInternal()}},{key:"loadInternal",value:function(){var t;typeof XDomainRequest!="undefined"?t=this.loader=new XDomainRequest:t=this.loader=new XMLHttpRequest,t.onloadend=this.loadend.bind(this),t.onprogress=this.loadprogress.bind(this),t.open("GET",this.url,!0),this.byteRange&&t.setRequestHeader("Range","bytes="+this.byteRange),t.responseType=this.responseType;var n=this.stats;n.tfirst=0,n.loaded=0,this.xhrSetup&&this.xhrSetup(t,this.url,this.type),this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this,t),this.timeout),t.send()}},{key:"loadend",value:function(t){var n=t.currentTarget,r=n.status,s=this.stats,o=this.context;if(s.aborted)return;window.clearTimeout(this.requestTimeout),r>=200&&r<300?(s.tload=Math.max(s.tfirst,performance.now()),this.onSuccess(t,s,o)):s.retry<this.maxRetry?(i.logger.warn(r+" while loading "+this.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,64e3),s.retry++):(i.logger.error(r+" while loading "+this.url),this.onError(t,o))}},{key:"loadtimeout",value:function(t){var n=this.stats;n.retry>=this.maxRetry?(i.logger.warn("timeout while loading "+this.url),this.onTimeout(null,n,this.context)):t.abort()}},{key:"loadprogress",value:function(t){var n=this.stats;n.tfirst===0&&(n.tfirst=Math.max(performance.now(),n.trequest)),n.loaded=t.loaded,t.lengthComputable&&(n.total=t.total),this.onProgress&&this.onProgress(t,n,this.context)}}]),e}();n.default=o},{"../utils/logger":44}]},{},[31])(31)}),define("utils/utils",[],function(){return{scaleToContainer:function(e,t,n,r){var i=e/t,s=n/r,o;return i>s?o=t/r:o=e/n,{width:o*n,height:o*r}},getSearchString:function(){return location.search.substr(1)},getQueryParams:function(){return this.getQueryParamsFromString(this.getSearchString())},getQueryParamsFromString:function(e){var t={};if(e.length===0)return t;var n=e.split("&");return n.forEach(function(e){if(e==="")return;var n=e.split("="),r=decodeURIComponent(n[1].replace(/\+/g," "));r=r==="false"?!1:r,t[n[0]]=r}),t},isAndroid:function(){return/Android/i.test(this.getNavigator().userAgent)},isIOS:function(){return/iPhone|iPad|iPod/i.test(this.getNavigator().userAgent)},isEnvironmentIe8:function(){return/MSIE 8.0/i.test(this.getNavigator().userAgent)},isEnvironmentIe9:function(){return/MSIE 9.0/i.test(this.getNavigator().userAgent)},isEnvironmentSafari:function(){var e=this.getNavigator();return e.vendor.indexOf("Apple")===0&&/\sSafari\//.test(e.userAgent)},isEnvironmentMobile:function(){var e=/BlackBerry/i.test(navigator.userAgent),t=/Opera Mini/i.test(navigator.userAgent),n=/IEMobile/i.test(navigator.userAgent);return this.isAndroid()||e||this.isIOS()||t||n},isEnvironmentSupportedMobile:function(){return this.isIOS()||this.isAndroid()},isEnvironmentUnsupportedMobile:function(){return this.isEnvironmentMobile()&&!this.isEnvironmentSupportedMobile()},getMetatag:function(e){var t=document.getElementsByTagName("meta");for(var n=0;n<t.length;n++){var r=t[n].getAttribute("name");if(r===e)return t[n].getAttribute("content")}},getNavigator:function(){return window.navigator},getLanguageCode:function(){var e=this.getNavigator(),t=this.getQueryParams(),n=t.language_code||$("body").attr("data-language-code")||e.language||e.browserLanguage||"en";return n.toLowerCase()},hasFlash:function(){try{var e=window.ActiveXObject?(new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version"):navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin.description,t=/(\d+)[,.]\d+/.exec(e),n=parseInt(t[1],10);return n>=9}catch(r){}return!1},getUrlMetadata:function(e){var t=document.createElement("a");return t.href=e,t},appendUrlParams:function(e,t){var n=this.getUrlMetadata(e),r=$.param(t);return n.search!==""?e+"&"+r:e+"?"+r},isAutoplayable:function(e,t){return!(e&&t&&t.indexOf(e)>-1)},isValidHttpUrl:function(e){var t=this.getUrlMetadata(e);return t.protocol==="http:"||t.protocol==="https:"},stringEndsWith:function(e,t){var n=e.length-t.length,r=e.lastIndexOf(t);return r!==-1&&r===n},getValidatedTwimgUrl:function(e){var t=this.getUrlMetadata(e);return t.protocol!=="http:"&&t.protocol!=="https:"?undefined:t.hostname&&this.stringEndsWith(t.hostname,".twimg.com")?e:undefined},getValidatedHttpUrl:function(e){return this.isValidHttpUrl(e)?e:(window.DEBUG&&window.DEBUG.enabled&&window.console&&window.console.warn("Url failed sanity check: ",e),undefined)},sortObject:function(e){if(!e||typeof e!="object")return e;var t={},n=Object.keys(e).sort();return n.forEach(function(n){t[n]=e[n]}),t},renameProperty:function(e,t,n){if(!e||typeof e!="object")return e;var r=$.extend({},e);return r.hasOwnProperty(t)&&(r[n]=r[t],delete r[t]),r},getCookieValue:function(e){var t=document.cookie,n;return t.split(";").forEach(function(t){var r=t.split("=");r[0]&&r[0].trim()===e&&(n=r[1].trim())}),n}}}),define("flight/lib/registry",[],function(){"use strict";function e(e,t){var n,r,i,s=t.length;return typeof t[s-1]=="function"&&(s-=1,i=t[s]),typeof t[s-1]=="object"&&(s-=1),s==2?(n=t[0],r=t[1]):(n=e.node,r=t[0]),{element:n,type:r,callback:i}}function t(e,t){return e.element==t.element&&e.type==t.type&&(t.callback==null||e.callback==t.callback)}function n(){function r(e){this.component=e,this.attachedTo=[],this.instances={},this.addInstance=function(e){var t=new i(e);return this.instances[e.identity]=t,this.attachedTo.push(e.node),t},this.removeInstance=function(e){delete this.instances[e.identity];var t=this.attachedTo.indexOf(e.node);t>-1&&this.attachedTo.splice(t,1),Object.keys(this.instances).length||n.removeComponentInfo(this)},this.isAttachedTo=function(e){return this.attachedTo.indexOf(e)>-1}}function i(e){this.instance=e,this.events=[],this.addBind=function(e){this.events.push(e),n.events.push(e)},this.removeBind=function(e){for(var n=0,r;r=this.events[n];n++)t(r,e)&&this.events.splice(n,1)}}var n=this;(this.reset=function(){this.components=[],this.allInstances={},this.events=[]}).call(this),this.addInstance=function(e){var t=this.findComponentInfo(e);t||(t=new r(e.constructor),this.components.push(t));var n=t.addInstance(e);return this.allInstances[e.identity]=n,t},this.removeInstance=function(e){var t=this.findComponentInfo(e);t&&t.removeInstance(e),delete this.allInstances[e.identity]},this.removeComponentInfo=function(e){var t=this.components.indexOf(e);t>-1&&this.components.splice(t,1)},this.findComponentInfo=function(e){var t=e.attachTo?e:e.constructor;for(var n=0,r;r=this.components[n];n++)if(r.component===t)return r;return null},this.findInstanceInfo=function(e){return this.allInstances[e.identity]||null},this.getBoundEventNames=function(e){return this.findInstanceInfo(e).events.map(function(e){return e.type})},this.findInstanceInfoByNode=function(e){var t=[];return Object.keys(this.allInstances).forEach(function(n){var r=this.allInstances[n];r.instance.node===e&&t.push(r)},this),t},this.on=function(t){var r=n.findInstanceInfo(this),i,s=arguments.length,o=1,u=new Array(s-1);for(;o<s;o++)u[o-1]=arguments[o];if(r){i=t.apply(null,u),i&&(u[u.length-1]=i);var a=e(this,u);r.addBind(a)}},this.off=function(){var r=e(this,arguments),i=n.findInstanceInfo(this);i&&i.removeBind(r);for(var s=0,o;o=n.events[s];s++)t(o,r)&&n.events.splice(s,1)},n.trigger=function(){},this.teardown=function(){n.removeInstance(this)},this.withRegistration=function(){this.after("initialize",function(){n.addInstance(this)}),this.around("on",n.on),this.after("off",n.off),window.DEBUG&&DEBUG.enabled&&this.after("trigger",n.trigger),this.after("teardown",{obj:n,fnName:"teardown"})}}return new n}),define("flight/lib/debug",["./registry"],function(e){"use strict";function t(e,n,i){i=i||{};var s=i.obj||window,o=i.path||(s==window?"window":""),u=Object.keys(s);u.forEach(function(i){(r[e]||e)(n,s,i)&&console.log([o,".",i].join(""),"->",["(",typeof s[i],")"].join(""),s[i]),Object.prototype.toString.call(s[i])=="[object Object]"&&s[i]!=s&&o.split(".").indexOf(i)==-1&&t(e,n,{obj:s[i],path:[o,i].join(".")})})}function n(e,n,r,i){!n||typeof r==n?t(e,r,i):console.error([r,"must be",n].join(" "))}function i(e,t){n("name","string",e,t)}function s(e,t){n("nameContains","string",e,t)}function o(e,t){n("type","function",e,t)}function u(e,t){n("value",null,e,t)}function a(e,t){n("valueCoerced",null,e,t)}function f(e,n){t(e,null,n)}function h(){var e=[].slice.call(arguments);c.eventNames.length||(c.eventNames=l),c.actions=e.length?e:l,m()}function p(){var e=[].slice.call(arguments);c.actions.length||(c.actions=l),c.eventNames=e.length?e:l,m()}function d(){c.actions=[],c.eventNames=[],m()}function v(){c.actions=l,c.eventNames=l,m()}function m(){try{window.localStorage&&(localStorage.setItem("logFilter_eventNames",c.eventNames),localStorage.setItem("logFilter_actions",c.actions))}catch(e){}}function g(){var e,t;try{e=window.localStorage&&localStorage.getItem("logFilter_eventNames"),t=window.localStorage&&localStorage.getItem("logFilter_actions")}catch(n){return}e&&(c.eventNames=e),t&&(c.actions=t),Object.keys(c).forEach(function(e){var t=c[e];typeof t=="string"&&t!==l&&(c[e]=t?t.split(","):[])})}var r={name:function(e,t,n){return e==n},nameContains:function(e,t,n){return n.indexOf(e)>-1},type:function(e,t,n){return t[n]instanceof e},value:function(e,t,n){return t[n]===e},valueCoerced:function(e,t,n){return t[n]==e}},l="all",c={eventNames:[],actions:[]};return{enable:function(e){this.enabled=!!e,e&&window.console&&(console.info("Booting in DEBUG mode"),console.info("You can configure event logging with DEBUG.events.logAll()/logNone()/logByName()/logByAction()")),g(),window.DEBUG=this},registry:e,find:{byName:i,byNameContains:s,byType:o,byValue:u,byValueCoerced:a,custom:f},events:{logFilter:c,logByAction:h,logByName:p,logAll:v,logNone:d}}}),define("boot/boot_debug",["require","utils/utils","flight/lib/debug"],function(e){var t=e("utils/utils"),n=e("flight/lib/debug"),r=t.getQueryParams();r.debug&&n.enable(!0)}),define("utils/video_type_utils",[],function(){return{adType:"ad",contentType:"content",getTypedVideoFromVideos:function(e,t){return t.filter(function(t){return t.type===e})[0]},getAdFromVideos:function(e){return this.getTypedVideoFromVideos(this.adType,e)},getContentFromVideos:function(e){return this.getTypedVideoFromVideos(this.contentType,e)},defaultType:function(){return this.contentType},normalizeVideoType:function(e){return[this.adType,this.contentType].indexOf(e)===-1?this.defaultType():e}}}),define("flight/lib/utils",["./debug"],function(e){"use strict";function n(){var t=e.enabled&&!Object.propertyIsEnumerable("getOwnPropertyDescriptor");if(t)try{Object.getOwnPropertyDescriptor(Object,"keys")}catch(n){return!1}return t}var t=100,r={isDomObj:function(e){return!!e.nodeType||e===window},toArray:function(e,t){t=t||0;var n=e.length,r=new Array(n-t);for(var i=t;i<n;i++)r[i-t]=e[i];return r},merge:function(){var e=arguments.length,t=new Array(e+1);if(e===0)return{};for(var n=0;n<e;n++)t[n+1]=arguments[n];return t[0]={},t[t.length-1]===!0&&(t.pop(),t.unshift(!0)),$.extend.apply(undefined,t)},push:function(e,t,n){return e&&Object.keys(t||{}).forEach(function(r){if(e[r]&&n)throw new Error('utils.push attempted to overwrite "'+r+'" while running in protected mode');typeof e[r]=="object"&&typeof t[r]=="object"?this.push(e[r],t[r]):e[r]=t[r]},this),e},getEnumerableProperty:function(e,t){return e.propertyIsEnumerable(t)?e[t]:undefined},compose:function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},uniqueArray:function(e){var t={},n=[];for(var r=0,i=e.length;r<i;++r){if(t.hasOwnProperty(e[r]))continue;n.push(e[r]),t[e[r]]=1}return n},debounce:function(e,n,r){typeof n!="number"&&(n=t);var i,s;return function(){var t=this,o=arguments,u=function(){i=null,r||(s=e.apply(t,o))},a=r&&!i;return i&&clearTimeout(i),i=setTimeout(u,n),a&&(s=e.apply(t,o)),s}},throttle:function(e,n){typeof n!="number"&&(n=t);var r,i,s,o,u,a,f=this.debounce(function(){u=o=!1},n);return function(){r=this,i=arguments;var t=function(){s=null,u&&(a=e.apply(r,i)),f()};return s||(s=setTimeout(t,n)),o?u=!0:(o=!0,a=e.apply(r,i)),f(),a}},countThen:function(e,t){return function(){if(!--e)return t.apply(this,arguments)}},delegate:function(e){return function(t,n){var r=$(t.target),i;Object.keys(e).forEach(function(s){if(!t.isPropagationStopped()&&(i=r.closest(s)).length)return n=n||{},t.currentTarget=n.el=i[0],e[s].apply(this,[t,n])},this)}},once:function(e){var t,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),n)}},propertyWritability:function(e,t,r){n()&&e.hasOwnProperty(t)&&Object.defineProperty(e,t,{writable:r})},mutateProperty:function(e,t,r){var i;if(!n()||!e.hasOwnProperty(t)){r.call(e);return}i=Object.getOwnPropertyDescriptor(e,t).writable,Object.defineProperty(e,t,{writable:!0}),r.call(e),Object.defineProperty(e,t,{writable:i})}};return r}),define("flight/lib/advice",["./utils"],function(e){"use strict";var t={around:function(e,t){return function(){var r=0,i=arguments.length,s=new Array(i+1);s[0]=e.bind(this);for(;r<i;r++)s[r+1]=arguments[r];return t.apply(this,s)}},before:function(e,t){var n=typeof t=="function"?t:t.obj[t.fnName];return function(){return n.apply(this,arguments),e.apply(this,arguments)}},after:function(e,t){var n=typeof t=="function"?t:t.obj[t.fnName];return function(){var r=(e.unbound||e).apply(this,arguments);return n.apply(this,arguments),r}},withAdvice:function(){["before","after","around"].forEach(function(n){this[n]=function(r,i){var s=r.trim().split(" ");s.forEach(function(r){e.mutateProperty(this,r,function(){return typeof this[r]=="function"?this[r]=t[n](this[r],i):this[r]=i,this[r]})},this)}},this)}};return t}),define("flight/lib/compose",["./utils"],function(e){"use strict";function n(n,r){Object.keys(n).forEach(function(i){t.indexOf(i)<0&&e.propertyWritability(n,i,r)})}function r(e,t){e.mixedIn=Object.prototype.hasOwnProperty.call(e,"mixedIn")?e.mixedIn:[];for(var r=0;r<t.length;r++)e.mixedIn.indexOf(t[r])==-1&&(n(e,!1),t[r].call(e),e.mixedIn.push(t[r]));n(e,!0)}var t=["mixedIn","attrDef"];return{mixin:r}}),define("flight/lib/base",["./utils","./registry","./debug"],function(e,t,n){"use strict";function i(e){e.events.slice().forEach(function(e){var t=[e.type];e.element&&t.unshift(e.element),typeof e.callback=="function"&&t.push(e.callback),this.off.apply(this,t)},e.instance)}function s(e,t){try{window.postMessage(t,"*")}catch(n){throw console.log("unserializable data for event",e,":",t),new Error(["The event",e,"on component",this.toString(),"was triggered with non-serializable data"].join(" "))}}function o(e){var t=[],r;this.attr=new this.attrDef;if(n.enabled&&window.console){for(var i in this.attrDef.prototype)t.push(i);r=Object.keys(e);for(var s=r.length-1;s>=0;s--)if(t.indexOf(r[s])==-1){console.warn('Passed unused attributes including "'+r[s]+'" to component "'+this.toString()+'".');break}}for(var i in this.attrDef.prototype){if(typeof e[i]=="undefined"){if(this.attr[i]===null)throw new Error('Required attribute "'+i+'" not specified in attachTo for component "'+this.toString()+'".')}else this.attr[i]=e[i];typeof this.attr[i]=="function"&&(this.attr[i]=this.attr[i].call(this))}}function u(e){var t=Object.create(e);for(var n in this.defaults)e.hasOwnProperty(n)||(t[n]=this.defaults[n]);this.attr=t,Object.keys(this.defaults||{}).forEach(function(e){if(this.defaults[e]===null&&this.attr[e]===null)throw new Error('Required attribute "'+e+'" not specified in attachTo for component "'+this.toString()+'".')},this)}function a(e){return function(t,n){$(t.target).trigger(e,n)}}function f(){this.trigger=function(){var e,t,r,i,o,u=arguments.length-1,a=arguments[u];return typeof a!="string"&&(!a||!a.defaultBehavior)&&(u--,r=a),u==1?(e=$(arguments[0]),i=arguments[1]):(e=this.$node,i=arguments[0]),i.defaultBehavior&&(o=i.defaultBehavior,i=$.Event(i.type)),t=i.type||i,n.enabled&&window.postMessage&&s.call(this,t,r),typeof this.attr.eventData=="object"&&(r=$.extend(!0,{},this.attr.eventData,r)),e.trigger(i||t,r),o&&!i.isDefaultPrevented()&&(this[o]||o).call(this,i,r),e},this.on=function(){var t,n,r,i,s=arguments.length-1,o=arguments[s];typeof o=="object"?i=e.delegate(this.resolveDelegateRules(o)):typeof o=="string"?i=a(o):i=o,s==2?(t=$(arguments[0]),n=arguments[1]):(t=this.$node,n=arguments[0]);if(typeof i!="function"&&typeof i!="object")throw new Error('Unable to bind to "'+n+'" because the given callback is not a function or an object');return r=i.bind(this),r.target=i,r.context=this,t.on(n,r),i.bound||(i.bound=[]),i.bound.push(r),r},this.off=function(){var e,n,r,i=arguments.length-1;typeof arguments[i]=="function"&&(r=arguments[i],i-=1),i==1?(e=$(arguments[0]),n=arguments[1]):(e=this.$node,n=arguments[0]);if(r){var s=r.target?r.target.bound:r.bound||[];s&&s.some(function(e,t,n){if(e.context&&this.identity==e.context.identity)return n.splice(t,1),r=e,!0},this),e.off(n,r)}else t.findInstanceInfo(this).events.forEach(function(t){n==t.type&&e.off(n,t.callback)});return e},this.resolveDelegateRules=function(e){var t={};return Object.keys(e).forEach(function(n){if(!(n in this.attr))throw new Error('Component "'+this.toString()+'" wants to listen on "'+n+'" but no such attribute was defined.');t[this.attr[n]]=typeof e[n]=="string"?a(e[n]):e[n]},this),t},this.select=function(e){return this.$node.find(this.attr[e])},this.attributes=function(e){var t=function(){};this.attrDef&&(t.prototype=new this.attrDef);for(var n in e)t.prototype[n]=e[n];this.attrDef=t},this.defaultAttrs=function(t){e.push(this.defaults,t,!0)||(this.defaults=t)},this.initialize=function(e,t){t=t||{},this.identity||(this.identity=r++);if(!e)throw new Error("Component needs a node");return e.jquery?(this.node=e[0],this.$node=e):(this.node=e,this.$node=$(e)),this.attrDef?o.call(this,t):u.call(this,t),this},this.teardown=function(){i(t.findInstanceInfo(this))}}var r=0;return f}),define("flight/lib/logger",["./utils"],function(e){"use strict";function n(e){var t=e.tagName?e.tagName.toLowerCase():e.toString(),n=e.className?"."+e.className:"",r=t+n;return e.tagName?["'","'"].join(r):r}function r(e,r,i){if(!window.DEBUG||!window.DEBUG.enabled)return;var s,o,u,a,f,l,c,h,p,d;typeof i[i.length-1]=="function"&&(a=i.pop(),a=a.unbound||a),i.length==1?(u=r.$node[0],o=i[0]):i.length==2&&typeof i[1]=="object"&&!i[1].type?(u=r.$node[0],o=i[0],e=="trigger"&&(f=i[1])):(u=i[0],o=i[1],e=="trigger"&&(f=i[2])),s=typeof o=="object"?o.type:o,l=DEBUG.events.logFilter,h=l.actions=="all"||l.actions.indexOf(e)>-1,c=function(e){return e.test?e:new RegExp("^"+e.replace(/\*/g,".*")+"$")},p=l.eventNames=="all"||l.eventNames.some(function(e){return c(e).test(s)}),h&&p&&(d=[t[e],e,"["+s+"]"],f&&d.push(f),d.push(n(u)),d.push(r.constructor.describe.split(" ").slice(0,3).join(" ")),console.groupCollapsed&&e=="trigger"&&console.groupCollapsed(e,s),Function.prototype.apply.call(console.info,console,d))}function i(){this.before("trigger",function(){r("trigger",this,e.toArray(arguments))}),console.groupCollapsed&&this.after("trigger",function(){console.groupEnd()}),this.before("on",function(){r("on",this,e.toArray(arguments))}),this.before("off",function(){r("off",this,e.toArray(arguments))})}var t={on:"<-",trigger:"->",off:"x "};return i}),define("flight/lib/component",["./advice","./utils","./compose","./base","./registry","./logger","./debug"],function(e,t,n,r,i,s,o){"use strict";function a(){var e=i.findComponentInfo(this);e&&Object.keys(e.instances).forEach(function(t){var n=e.instances[t];n&&n.instance&&n.instance.teardown()})}function f(e){var n=arguments.length,r=new Array(n-1);for(var s=1;s<n;s++)r[s-1]=arguments[s];if(!e)throw new Error("Component needs to be attachTo'd a jQuery object, native node or selector string");var o=t.merge.apply(t,r),u=i.findComponentInfo(this);$(e).each(function(e,t){if(u&&u.isAttachedTo(t))return;(new this).initialize(t,o)}.bind(this))}function l(){var e=this.mixedIn||this.prototype.mixedIn||[];return e.map(function(e){if(e.name==null){var t=e.toString().match(u);return t&&t[1]?t[1]:""}return e.name!="withBase"?e.name:""}).filter(Boolean).join(", ")}function c(){var u=arguments.length,h=new Array(u);for(var p=0;p<u;p++)h[p]=arguments[p];var d=function(){};return d.toString=d.prototype.toString=l,o.enabled&&(d.describe=d.prototype.describe=d.toString()),d.attachTo=f,d.mixin=function(){var e=c(),r=Object.create(d.prototype);return r.mixedIn=[].concat(d.prototype.mixedIn),r.defaults=t.merge(d.prototype.defaults),r.attrDef=d.prototype.attrDef,n.mixin(r,arguments),e.prototype=r,e.prototype.constructor=e,e},d.teardownAll=a,o.enabled&&h.unshift(s),h.unshift(r,e.withAdvice,i.withRegistration),n.mixin(d.prototype,h),d}var u=/function (.*?)\s?\(/;return c.teardownAll=function(){i.components.slice().forEach(function(e){e.component.teardownAll()}),i.reset()},c}),define("utils/with_post_message_json_rpc",["require","utils/utils"],function(e){function r(){this.deferredResponses={},this.localMethods={},this.nextId=1,this.version="2.0",this.getParent=function(){return window.parent},this.postMessage=function(e){var r=this.getParent();if(!r||!r.postMessage)return;e.jsonrpc=this.version,typeof this.attr.playerId!="undefined"&&(e.params=e.params||[],e.params[0]=e.params[0]||{},e.params[0].playerId=this.attr.playerId,e.params[0].context=n),t.isEnvironmentIe8()||t.isEnvironmentIe9()?r.postMessage(JSON.stringify(e),"*"):r.postMessage(e,"*")},this.onWindowMessage=function(e){var t=e.originalEvent||e,n=t.data;if(!n)return;if(typeof n=="string")try{n=JSON.parse(n)}catch(r){return}this.handleMessage(n)},this.handleMessage=function(e){if(e.jsonrpc!==this.version)return;e.hasOwnProperty("method")?e.hasOwnProperty("id")?this.handleRequest(e):this.handleNotification(e):e.hasOwnProperty("result")?this.handleResult(e):e.hasOwnProperty("error")?this.handleErrorResponse(e):window.console&&window.console.warn("JSON RPC: Invalid message received",e)},this.handleNotification=function(e){var t=this.localMethods[e.method];if(!t)return;t.apply(this,e.params)},this.handleRequest=function(e){var t=this.localMethods[e.method];if(!t){this.sendErrorResponse(e.id,{code:-32601,message:"Method not found"});return}$.when(t.apply(this,e.params)).then(this.sendResult.bind(this,e.id),this.sendErrorResponse.bind(this,e.id))},this.sendErrorResponse=function(e,t){this.postMessage({id:e,error:t})},this.sendResult=function(e,t){this.postMessage({id:e,result:t})},this.handleErrorResponse=function(e){var t=this.deferredResponses[e.id];if(!t)return;t.reject(e.error),this.deferredResponses[e.id]=undefined},this.handleResult=function(e){var t=this.deferredResponses[e.id];if(!t)return;t.resolve(e.result),this.deferredResponses[e.id]=undefined},this.notify=function(e,t){t?this.postMessage({method:e,params:t}):this.postMessage({method:e})},this.request=function(e,t,n){var r=this.nextId++;return t?this.postMessage({id:r,method:e,params:t}):this.postMessage({id:r,method:e}),this.deferredResponses[r]=$.Deferred(),n&&setTimeout(function(){this.handleErrorResponse({id:r,error:{code:-1,message:"Request Timeout"}})}.bind(this),n),this.deferredResponses[r].promise()},this.setupRpc=function(e){this.localMethods=e,this.on(window,"message",this.onWindowMessage)}}var t=e("utils/utils"),n="TwitterVideoPlayer";return r}),function(e){"use strict";function h(e){return Object.prototype.toString.call(e)==="[object Array]"}function p(e){return typeof e=="undefined"}function m(t){return e.xdm=f,u=t,u&&(l="xdm_"+u.replace(".","_")+"_"),a}function g(e){if(!e)throw new Error("url is undefined or empty");if(/^file/.test(e))throw new Error("The file:// protocol is not supported");var t=e.toLowerCase().match(i);if(t){var n=t[2],r=t[3],s=t[4]||"";if(n==="http:"&&s===":80"||n==="https:"&&s===":443")s="";return n+"//"+r+s}return e}function y(e){if(!e)throw new Error("url is undefined or empty");e=e.replace(o,"$1/");if(!e.match(/^(http||https):\/\//)){var t=e.substring(0,1)==="/"?"":location.pathname;t.substring(t.length-1)!=="/"&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=location.protocol+"//"+location.host+t+e}while(s.test(e))e=e.replace(s,"");return e}function b(e,t){if(!t)throw new Error("parameters is undefined or null");var n=e.indexOf("#"),r=[];for(var i in t)t.hasOwnProperty(i)&&r.push(i+"="+encodeURIComponent(t[i]));return e+(n===-1?"#":"&")+r.join("&")}function w(e,t,n){var r;for(var i in t)t.hasOwnProperty(i)&&(i in e?(r=t[i],typeof r=="object"?w(e[i],r,n):n||(e[i]=t[i])):e[i]=t[i]);return e}function E(e){var n=t.cloneNode(!1);w(e.props,{frameBorder:0,allowTRansparency:!0,scrolling:"no",width:"100%",src:b(e.remote,{xdm_e:g(location.href),xdm_c:e.channel,xdm_p:1}),name:l+e.channel+"_provider",style:{margin:0,padding:0,border:0}}),n.id=e.props.name,delete e.props.name;if(!e.container)throw new Error('xdm.Rpc() configuration object missing a DOM "container" property');return w(n,e.props),e.container.appendChild(n),e.onLoad&&d(n,"load",e.onLoad),e.html&&(n.contentWindow.document.open(),n.contentWindow.document.write(e.html),n.contentWindow.document.close()),e.iframe=n,n}function S(e,t){typeof e=="string"&&(e=[e]);var n,r=e.length;while(r--){n=e[r],n=new RegExp(n.substr(0,1)==="^"?n:"^"+n.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$");if(n.test(t))return!0}return!1}function x(e){var t;e.isHost=e.isHost||p(c.xdm_p),e.props=e.props||{};if(!e.isHost){e.channel=c.xdm_c.replace(/["'<>\\]/g,""),e.remote=c.xdm_e.replace(/["'<>\\]/g,"");if(e.acl&&!S(e.acl,e.remote))throw new Error("Access denied for "+e.remote)}else e.remote=y(e.remote),e.channel=e.channel||"default"+n++;return t=[new a.stack.PostMessageTransport(e)],t.push(new a.stack.QueueBehavior(!0)),t}function T(e){var t,n,r=e.length,i={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}};for(n=0;n<r;n++)t=e[n],w(t,i,!0),n!==0&&(t.down=e[n-1]),n!==r-1&&(t.up=e[n+1]);return t}function N(e){e.up.down=e.down,e.down.up=e.up,e.up=e.down=null}var t=document.createElement("IFRAME"),n=Math.floor(Math.random()*1e4),r=Function.prototype,i=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,s=/[\-\w]+\/\.\.\//,o=/([^:])\/\//g,u="",a={},f=e.xdm,l="xdm_",c=function(e){e=e.substring(1,e.length).split("&");var t={},n,r=e.length;while(r--)n=e[r].split("="),t[n[0]]=decodeURIComponent(n[1]);return t}(location.hash),d=function(){return e.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)}}(),v=function(){return e.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)}}();w(a,{version:"1.0.0",query:c,stack:{},noConflict:m}),a.Rpc=function(e,t){var n;if(t.local)for(var r in t.local)t.local.hasOwnProperty(r)&&(n=t.local[r],typeof n=="function"&&(t.local[r]={method:n}));var i=T(x(e).concat([new a.stack.RpcBehavior(this,t),{callback:function(t){e.onReady&&e.onReady(t)}}]));this.origin=g(e.remote),this.destroy=function(){i.destroy()},i.init(),this.iframe=e.iframe},a.stack.PostMessageTransport=function(t){function o(e){var r=g(e.origin),i=typeof e.data=="string";r===s&&i&&e.data.substring(0,t.channel.length+1)===t.channel+" "&&n.up.incoming(e.data.substring(t.channel.length+1),r)}var n,r,i,s;return n={outgoing:function(e,n,r){i.postMessage(t.channel+" "+e,n||s),r&&r()},destroy:function(){v(e,"message",o),r&&(i=null,r.parentNode.removeChild(r),r=null)},init:function(){s=g(t.remote);if(t.isHost){var u=function(s){s.data===t.channel+"-ready"&&("postMessage"in r.contentWindow?i=r.contentWindow:i=r.contentWindow.document,v(e,"message",u),d(e,"message",o),setTimeout(function(){n.up.callback(!0)},0))};d(e,"message",u),r=E(t)}else d(e,"message",o),"postMessage"in e.parent?i=e.parent:i=e.parent.document,i.postMessage(t.channel+"-ready",s),setTimeout(function(){n.up.callback(!0)},0)}},n},a.stack.QueueBehavior=function(e){function o(){var i;if(e===!0&&n.length===0){N(t);return}if(r||n.length===0||s)return;r=!0,i=n.shift(),t.down.outgoing(i.data,i.origin,function(e){r=!1,i.callback&&setTimeout(function(){i.callback(e)},0),o()})}var t,n=[],r=!0,i="",s;return t={init:function(){t.down.init()},callback:function(e){r=!1;var n=t.up;o(),n.callback(e)},incoming:function(e,n){t.up.incoming(e,n)},outgoing:function(e,t,r){n.push({data:e,origin:t,callback:r}),o()},destroy:function(){s=!0,t.down.destroy()}},t},a.stack.RpcBehavior=function(e,t){function o(e){e.jsonrpc="2.0",n.down.outgoing(JSON.stringify(e))}function u(e,t){var n=Array.prototype.slice;return function(){var r=arguments.length,u,a={method:t};r>0&&typeof arguments[r-1]=="function"?(r>1&&typeof arguments[r-2]=="function"?(u={success:arguments[r-2],error:arguments[r-1]},a.params=n.call(arguments,0,r-2)):(u={success:arguments[r-1]},a.params=n.call(arguments,0,r-1)),s[""+ ++i]=u,a.id=i):a.params=n.call(arguments,0),e.namedParams&&a.params.length===1&&(a.params=a.params[0]),o(a)}}function a(e,t,n,i){if(!n){t&&o({id:t,error:{code:-32601,message:"Procedure not found."}});return}var s,u;t?(s=function(e){s=r,o({id:t,result:e})},u=function(e,n){u=r;var i={id:t,error:{code:-32099,message:e}};n&&(i.error.data=n),o(i)}):s=u=r,h(i)||(i=[i]);try{var a=n.method.apply(n.scope,i.concat([s,u]));p(a)||s(a)}catch(f){u(f.message)}}var n,i=0,s={};return n={incoming:function(e,n){var r=JSON.parse(e),i;r.method?t.handle?t.handle(r,o):a(r.method,r.id,t.local[r.method],r.params):(i=s[r.id],r.error&&i.error?i.error(r.error):i.success&&i.success(r.result),delete s[r.id])},init:function(){if(t.remote)for(var r in t.remote)t.remote.hasOwnProperty(r)&&(e[r]=u(t.remote[r],r));n.down.init()},destroy:function(){for(var r in t.remote)t.remote.hasOwnProperty(r)&&e.hasOwnProperty(r)&&delete e[r];n.down.destroy()}},n},typeof exports=="object"?module.exports=a:typeof provide=="function"?provide(a):typeof define=="function"&&define.amd?define("xdm",[],function(){return a}):e.xdm=a}(window),define("utils/with_xdm_tunnel",["require","xdm"],function(e){function n(){this.host=undefined,this.getHost=function(){return this.host},this.request=function(e,t,n){var r=this.getHost();if(!r)return;var i=$.Deferred();return t=t||[],t.unshift(e),t.push(i.resolve.bind(i),i.reject.bind(i)),r.callVideoHostMethod.apply(r,t),n&&setTimeout(function(){i.reject({code:-1,message:"Request Timeout"})},n),i.promise()},this.notify=function(e,t){var n=this.getHost();if(!n)return;t=t||[],t.unshift(e),n.callVideoHostMethod.apply(n,t)},this.setupRpc=function(e){var n={};Object.keys(e).forEach(function(t){n[t]=e[t].bind(this)}.bind(this));try{this.host=new t.Rpc({},{remote:{callVideoHostMethod:{}},local:n})}catch(r){window.DEBUG&&window.DEBUG.enabled&&window.console&&window.console.warn("Could not set up XDM",r)}}}var t=e("xdm");return n}),define("utils/interface",["require","flight/lib/component","utils/with_post_message_json_rpc","utils/with_xdm_tunnel","flight/lib/compose"],function(e){function s(){this.attributes({jsonRpc:!1,playerId:undefined}),this.mediaStatus=undefined,this.handlePromotedContentEvent=function(e,t){this.notify("_logPromotedContentEvent",[t])},this.handleScribeEvent=function(e,t){this.notify("_scribe",[t])},this.handleTimeUpdate=function(e,t){this.mediaStatus={currentTime:t.currentTime*1e3,duration:t.duration}},this.handleRequestPlayerConfig=function(){this.request("requestPlayerConfig").then(function(e){this.trigger("dataPlayerConfig",e)}.bind(this),function(e){this.trigger("dataReportError",e)}.bind(this))},this.handleDynamicAdRequest=function(){this.request("requestDynamicAd",[],500).then(function(e){this.trigger("dataDynamicAdResponse",e)}.bind(this),function(){this.trigger("dataDynamicAdResponse")}.bind(this))},this.getMediaStatus=function(){return this.mediaStatus||{}},this.getCurrentFrame=function(){var e=$("video:visible").get(0),t=document.createElement("canvas");t.width=e.videoWidth,t.height=e.videoHeight;var n=t.getContext("2d");return n.drawImage(e,0,0),t.toDataURL("image/jpeg")},this.stepBackward=function(){this.trigger("uiStepBackward")},this.stepForward=function(){this.trigger("uiStepForward")},this.autoPlayPreview=function(){this.trigger("uiAutoPlayPreview")},this.autoPlayPreviewStop=function(){this.trigger("uiAutoPlayPreviewPause")},this.callMethodByName=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return this.localRpcMethods[e].apply(this,t)},this.onPlay=function(e,t){this.notify("videoPlayerPlay",[t])},this.onPause=function(){this.notify("videoPlayerPause")},this.onMute=function(){this.notify("videoPlayerMute")},this.onUnmute=function(){this.notify("videoPlayerUnmute")},this.onPlaybackComplete=function(){this.notify("videoPlayerPlaybackComplete")},this.onPlayFromTap=function(){this.notify("videoView",[{viewType:"playFromTap"}])},this.onViewThreshold=function(){this.notify("videoView",[{viewType:"viewThreshold"}])},this.onPlayerReadyEvent=function(){this.notify("videoPlayerReady")},this.onAdStart=function(){this.notify("videoPlayerAdStart")},this.onAdEnd=function(){this.notify("videoPlayerAdEnd")},this.onDebugLoggingEvent=function(e,t){this.notify("debugLoggingEvent",[t])},this.play=function(){this.trigger("uiPlay")},this.pause=function(){this.trigger("uiPause")},this.mute=function(){this.trigger("uiMute")},this.unmute=function(){this.trigger("uiUnmute")},this.updatePosition=function(e){this.trigger("dataPositionInParentUpdate",e)},this.updateLayoutBreakpoint=function(e){this.trigger("dataUpdateLayoutBreakpoint",e)},this.exitFullScreen=function(){this.trigger("uiExitFullScreen")},this.enterFullScreen=function(){this.trigger("uiEnterFullScreen")},this.onReportErrorToClient=function(e,t){this.notify("videoPlayerError",[t])},this.reload=function(){location.reload(!0)},this.localRpcMethods={enterFullScreen:this.enterFullScreen,exitFullScreen:this.exitFullScreen,getMediaStatus:this.getMediaStatus,getCurrentFrame:this.getCurrentFrame,stepBackward:this.stepBackward,stepForward:this.stepForward,autoPlayPreview:this.autoPlayPreview,autoPlayPreviewStop:this.autoPlayPreviewStop,callMethodByName:this.callMethodByName,play:this.play,pause:this.pause,mute:this.mute,unmute:this.unmute,updatePosition:this.updatePosition,updateLayoutBreakpoint:this.updateLayoutBreakpoint,reload:this.reload},this.after("initialize",function(){this.attr.jsonRpc?i.mixin(this,[n]):i.mixin(this,[r]),this.setupRpc(this.localRpcMethods),this.on(document,"dataPromotedContentEvent",this.handlePromotedContentEvent),this.on(document,"dataScribeEvent",this.handleScribeEvent),this.on(document,"uiTimeUpdate",this.handleTimeUpdate),this.on(document,"uiRequestPlayerConfig",this.handleRequestPlayerConfig),this.on(document,"dataDynamicAdRequest",this.handleDynamicAdRequest),this.on(document,"uiReportVideoFinished",this.onPlaybackComplete),this.on(document,"dataNotifyAdStart",this.onAdStart),this.on(document,"dataNotifyAdEnd",this.onAdEnd),this.on(document,"dataPlayFromTap",this.onPlayFromTap),this.on(document,"dataViewThreshold",this.onViewThreshold),this.on(document,"dataDebugLoggingEvent",this.onDebugLoggingEvent),this.on(document,"dataPlayerReadyEvent",this.onPlayerReadyEvent),this.on(document,"uiReportMute",this.onMute),this.on(document,"uiReportUnmute",this.onUnmute),this.on(document,"uiReportPlay",this.onPlay),this.on(document,"uiReportPause",this.onPause),this.on(document,"dataReportErrorToClient",this.onReportErrorToClient)})}var t=e("flight/lib/component"),n=e("utils/with_post_message_json_rpc"),r=e("utils/with_xdm_tunnel"),i=e("flight/lib/compose");return t(s)}),define("utils/with_states",[],function(){function e(){this.VIDEO_STATES={},this.STATE_NAMES=["PENDING","PLAY_WHEN_LOADED","READY_TO_PLAY","SHOWING_CONTENT","PLAY_FIRST","PREROLL_PLAYING","PLAY_CONTENT","CONTENT_PLAYING","READY_TO_REPLAY","ERROR","PREVIEW_WHEN_LOADED","PLAY_PREVIEW_CONTENT","PREVIEW_CONTENT_PLAYING","PLAY_PREVIEW_PREROLL","PREVIEW_PREROLL_PLAYING","PLAY_PREVIEW_CONTENT_LAST","PREVIEW_CONTENT_LAST_PLAYING"],this.STATE_NAMES.forEach(function(e){this.VIDEO_STATES[e]=e},this),this.isStatePlayable=function(e){switch(e){case this.VIDEO_STATES.READY_TO_PLAY:case this.VIDEO_STATES.READY_TO_REPLAY:return!0;default:return!1}},this.isPlayable=function(){switch(this.currentState){case this.VIDEO_STATES.READY_TO_PLAY:case this.VIDEO_STATES.READY_TO_REPLAY:return!0;default:return!1}},this.isAdPlaying=function(){switch(this.currentState){case this.VIDEO_STATES.PLAY_PREVIEW_PREROLL:case this.VIDEO_STATES.PREVIEW_PREROLL_PLAYING:case this.VIDEO_STATES.PREROLL_PLAYING:return!0;default:return!1}},this.isPreview=function(){switch(this.currentState){case this.VIDEO_STATES.PREVIEW_WHEN_LOADED:case this.VIDEO_STATES.PLAY_PREVIEW_CONTENT:case this.VIDEO_STATES.PREVIEW_CONTENT_PLAYING:case this.VIDEO_STATES.PLAY_PREVIEW_PREROLL:case this.VIDEO_STATES.PREVIEW_PREROLL_PLAYING:case this.VIDEO_STATES.PLAY_PREVIEW_CONTENT_LAST:case this.VIDEO_STATES.PREVIEW_CONTENT_LAST_PLAYING:return!0;default:return!1}},this.isPlaying=function(){switch(this.currentState){case this.VIDEO_STATES.PREROLL_PLAYING:case this.VIDEO_STATES.CONTENT_PLAYING:return!0;default:return!1}},this.playedFromInteraction=function(){switch(this.currentState){case this.VIDEO_STATES.SHOWING_CONTENT:case this.VIDEO_STATES.PLAY_CONTENT:case this.VIDEO_STATES.CONTENT_PLAYING:case this.VIDEO_STATES.READY_TO_REPLAY:case this.VIDEO_STATES.PREROLL_PLAYING:return!0;default:return!1}},this.setVideoState=function(e,t){t&&t.state&&this.VIDEO_STATES[t.state]&&(this.currentState=this.VIDEO_STATES[t.state])},this.after("initialize",function(){this.on(document,"dataVideoStateUpdated",this.setVideoState)})}return e}),define("data/player/ad_state",["require","flight/lib/component","utils/with_states"],function(e){var t=e("flight/lib/component"),n=e("utils/with_states");return t(n,function(){this.after("setVideoState",function(){var e=this.isAdPlaying();e!==this.wasAdPlaying&&(e?this.trigger("dataNotifyAdStart"):this.trigger("dataNotifyAdEnd"),this.wasAdPlaying=e)}),this.after("initialize",function(){this.wasAdPlaying=!1})})}),define("data/player/autoplay_preview",["require","flight/lib/component","utils/with_states"],function(e){function r(){this.interruptPreview=function(){this.isPreview()&&this.trigger("dataPlayFromPreview")},this.playPreview=function(){this.isPreview()?this.trigger("dataContinue",{preview:!0}):this.trigger("dataEnterPreview")},this.pausePreview=function(){this.isPreview()&&this.trigger("dataPausePreview")},this.after("initialize",function(){this.on(document,"uiAutoPlayPreview",this.playPreview),this.on(document,"uiAutoPlayPreviewPause",this.pausePreview),this.on(document,"dataScrubEnd",this.interruptPreview)})}var t=e("flight/lib/component"),n=e("utils/with_states");return t(n,r)}),define("data/tracking/with_playback_latency",[],function(){function e(){this.latencyData=function(){if(this.latencyStartDate!==undefined)return{is_replay:this.isReplay,latency:this.newDate()-this.latencyStartDate}},this.newDate=function(){return new Date},this.resetLatencyStartDate=function(){this.latencyStartDate=this.newDate()},this.resetIsReplay=function(e,t){if(this.latencyTrackIndex===t.trackIndex)return;this.latencyTrackIndex=t.trackIndex,this.isReplay=!1},this.setReplay=function(){this.resetLatencyStartDate(),this.isReplay=!0},this.after("initialize",function(){this.isReplay=!1,this.on(document,"uiReportCurrentVideo",this.resetIsReplay),this.on(document,"uiReportVideoFinished dataDidIntendToPlay",this.resetLatencyStartDate),this.on(document,"dataDidReplay",this.setReplay)})}return e}),define("data/player/with_navigation_latency",[],function(){return function(){this.getNavigationLatency=function(){if(window.performance&&window.performance.timing&&window.performance.timing.navigationStart)return Date.now()-window.performance.timing.navigationStart}}}),define("data/tracking/with_latency_since_playback_request",["require","flight/lib/compose","data/tracking/with_playback_latency","data/player/with_navigation_latency"],function(e){var t=e("flight/lib/compose"),n=e("data/tracking/with_playback_latency"),r=e("data/player/with_navigation_latency");return function(){t.mixin(this,[n,r]),this.attributes({autoPlay:undefined}),this.getPlaybackRequestLatency=function(){if(this.attr.autoPlay)return this.getNavigationLatency();var e=this.latencyData();return e?e.latency:this.getNavigationLatency()}}}),define("data/tracking/with_has_playback_started",[],function(){return function(){this.onIsPlaying=function(){this.hasPlaybackStarted=!0},this.after("initialize",function(){this.hasPlaybackStarted=!1,this.on(document,"uiPlayerStateIntrospectionPlaying",this.onIsPlaying)})}}),define("data/player/errors",["require","flight/lib/component","utils/utils","data/tracking/with_latency_since_playback_request","data/tracking/with_has_playback_started"],function(e){var t=e("flight/lib/component"),n=e("utils/utils"),r=e("data/tracking/with_latency_since_playback_request"),i=e("data/tracking/with_has_playback_started"),s={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED",5:"MEDIA_ERR_ENCRYPTED",noCookies:"COOKIES_DISABLED",bufferingTimeout:"BUFFERING_TIMEOUT",geoBlock:"GEOBLOCKED"},o="GEOBLOCK_ERROR",u="NO_COOKIES_ERROR",a="PLAYBACK_ERROR";return t(function(){this.attributes({autoPlay:undefined,sourceType:""}),this.errorMessage=function(e){var t=this.nativeErrorCode(e.error),n=e.errorData;return n&&(t=n.type+": "+n.details,"reason"in n&&(t+=", "+n.reason)),t},this.nativeErrorCode=function(e){return e in s?s[e]:e?"UNKNOWN_NATIVE_ERROR_"+e:undefined},this.errorCode=function(e){var t=this.nativeErrorCode(e.error),n=e.errorData;return n&&(t="HLS_JS_"+n.type),t},this.extractErrorCodeAndMessage=function(e){return e?{error_message:this.errorMessage(e),error_code:this.errorCode(e)}:{}},this.getErrorCategory=function(e){var t=e&&e.error;return t==="geoBlock"?o:t==="noCookies"?u:a},this.onError=function(e,t){var n=this.getErrorCategory(t),r=this.extractErrorCodeAndMessage(t);this.triggerErrorScribe(n,r),this.reportErrorToClient(n,$.extend({},r));if(!this.hasPlaybackStarted&&this.isLiveVideo&&!this.playbackStartErrorTriggered){var i=$.extend({},r),s=this.getPlaybackRequestLatency();typeof s=="number"&&(i.latency=s),this.trigger("dataScribePlaybackStartupError",i),this.playbackStartErrorTriggered=!0}},this.reportErrorToClient=function(e,t){t.error_category=e,this.trigger("dataReportErrorToClient",t)},this.triggerErrorScribe=function(e,t){var n;switch(e){case o:n="dataGeoblockError";break;case u:n="dataNoCookiesError";break;default:n="dataPlaybackError"}this.trigger(n,t)},this.after("initialize",function(){this.isLiveVideo=this.attr.sourceType==="live",this.on(document,"dataReportError dataParsingError uiReportError",this.onError),n.isEnvironmentUnsupportedMobile()&&this.trigger("dataEnvironmentError")})},i,r)}),define("data/player/player_controller",["require","flight/lib/component","utils/with_states"],function(e){function r(){this.attributes({sourceType:undefined}),this.replay=function(){this.isPlayable()&&this.trigger("dataPlay")},this.pause=function(){this.trigger("dataPause")},this.play=function(){this.isPreview()?this.trigger("dataPlayFromPreview"):this.isPlaying()?this.trigger("dataContinue",{preview:!1}):this.trigger("dataPlay"),this.attr.sourceType==="live"&&this.trigger("dataScrubToEnd")},this.autoPlayPreview=function(){this.isPreview()&&this.attr.sourceType==="live"&&this.trigger("dataScrubToEnd")},this.scrub=function(e,t){this.trigger("dataScrub",t)},this.scrubStart=function(e,t){this.trigger("dataScrubStart",t)},this.scrubEnd=function(e,t){this.trigger("dataScrubEnd",t)},this.snapReelInteraction=function(e,t){this.trigger("dataSnapReelInteraction",t)},this.stepForward=function(){this.isPreview()?this.trigger("dataPlayFromPreview"):this.trigger("dataStepForward")},this.stepBackward=function(){this.isPreview()?this.trigger("dataPlayFromPreview"):this.trigger("dataStepBackward")},this.mute=function(){this.isPreview()||this.trigger("dataMute")},this.unmute=function(){this.isPreview()?this.trigger("dataPlayFromPreview"):this.trigger("dataUnmute")},this.volumeSlide=function(e,t){this.isPreview()?this.trigger("dataPlayFromPreview"):this.trigger("dataVolumeSlide",t)},this.skipAdTrack=function(){this.isAdPlaying()&&this.trigger("dataSkipAdTrack")},this.enableCaptions=function(){this.trigger("dataEnableCaptions")},this.disableCaptions=function(){this.trigger("dataDisableCaptions")},this.after("initialize",function(){this.on(document,"uiReplay",this.replay),this.on(document,"uiPause",this.pause),this.on(document,"uiPlay",this.play),this.on(document,"uiAutoPlayPreview",this.autoPlayPreview),this.on(document,"uiScrub",this.scrub),this.on(document,"uiScrubStart",this.scrubStart),this.on(document,"uiScrubEnd",this.scrubEnd),this.on(document,"uiStepForward",this.stepForward),this.on(document,"uiStepBackward",this.stepBackward),this.on(document,"uiMute",this.mute),this.on(document,"uiUnmute",this.unmute),this.on(document,"uiVolumeSlide",this.volumeSlide),this.on(document,"uiEnableCaptions",this.enableCaptions),this.on(document,"uiDisableCaptions",this.disableCaptions),this.on(document,"uiSnapReelInteraction",this.snapReelInteraction),this.on(document,"dataAdSkip",this.skipAdTrack)})}var t=e("flight/lib/component"),n=e("utils/with_states");return t(n,r)}),define("data/player/player_states",["require","flight/lib/component","utils/with_states"],function(e){function r(){this.ON_ENTER={READY_TO_PLAY:{event:"dataShowVideo",data:{id:"first"}},SHOWING_CONTENT:{event:"dataDisplayPausedVideo",data:{id:"content"}},PLAY_FIRST:{event:"dataPlayVideo",data:{id:"first"}},PLAY_CONTENT:{event:"dataPlayVideo",data:{id:"content"}},PLAY_PREVIEW_CONTENT:{event:"dataPreviewVideo",data:{id:"content"}},PLAY_PREVIEW_PREROLL:{event:"dataPreviewVideo",data:{id:"first"}},PLAY_PREVIEW_CONTENT_LAST:{event:"dataPreviewVideo",data:{id:"content"}},READY_TO_REPLAY:{event:"dataPlaylistEnd"}},this.ON_EXIT={READY_TO_REPLAY:{event:"dataDidReplay"}},this.triggerStateChangeEvents=function(e,t){if(t&&t.state&&this.VIDEO_STATES[t.state]){var n=this.VIDEO_STATES[t.state],r=n===this.VIDEO_STATES.ERROR;if(r)return;var i=this.ON_EXIT[this.currentState],s=this.ON_ENTER[n];i&&this.trigger(i.event,i.data),s&&setTimeout(function(){this.trigger(s.event,s.data)}.bind(this),0)}},this.after("initialize",function(){this.on(document,"dataVideoStateUpdated",this.triggerStateChangeEvents)})}var t=e("flight/lib/component"),n=e("utils/with_states");return t(r,n)}),define("data/player/video_transitions",["require","flight/lib/component","utils/with_states"],function(e){function r(){this.attributes({autoPlay:!1,autoPlayPreview:!1}),this.initializeStateTransitions=function(){this.STATE_TRANSITIONS={},this.STATE_TRANSITIONS.PENDING={playlistLoaded:"READY_TO_PLAY",play:"PLAY_WHEN_LOADED",enterPreview:"PREVIEW_WHEN_LOADED",nonFlashError:"ERROR"},this.STATE_TRANSITIONS.PLAY_WHEN_LOADED={playlistLoaded:"PLAY_FIRST",nonFlashError:"ERROR"},this.STATE_TRANSITIONS.READY_TO_PLAY={play:"PLAY_FIRST",enterPreview:"PLAY_PREVIEW_PREROLL",showForStepping:"SHOWING_CONTENT",nonFlashError:"ERROR"},this.STATE_TRANSITIONS.SHOWING_CONTENT={play:"PLAY_FIRST",nonFlashError:"ERROR"},this.STATE_TRANSITIONS.PLAY_FIRST={adPlaybackStarted:"PREROLL_PLAYING",contentPlaybackStarted:"CONTENT_PLAYING",nonFlashError:"ERROR"},this.STATE_TRANSITIONS.PREROLL_PLAYING={skipAdTrack:"PLAY_CONTENT",videoEnded:"PLAY_CONTENT",nonFlashError:"PLAY_CONTENT"},this.STATE_TRANSITIONS.PLAY_CONTENT={contentPlaybackStarted:"CONTENT_PLAYING",nonFlashError:"ERROR"},this.STATE_TRANSITIONS.CONTENT_PLAYING={videoEnded:"READY_TO_REPLAY",nonFlashError:"ERROR"},this.STATE_TRANSITIONS.READY_TO_REPLAY={play:"PLAY_CONTENT",nonFlashError:"ERROR"},this.STATE_TRANSITIONS.ERROR={},this.STATE_TRANSITIONS.PREVIEW_WHEN_LOADED={playlistLoaded:"PLAY_PREVIEW_PREROLL",play:"PLAY_WHEN_LOADED",nonFlashError:"ERROR"},this.STATE_TRANSITIONS.PLAY_PREVIEW_PREROLL={adPlaybackStarted:"PREVIEW_PREROLL_PLAYING",contentPlaybackStarted:"PREVIEW_CONTENT_LAST_PLAYING",play:"PLAY_FIRST",nonFlashError:"READY_TO_PLAY"},this.STATE_TRANSITIONS.PREVIEW_PREROLL_PLAYING={videoEnded:"PLAY_PREVIEW_CONTENT_LAST",skipAdTrack:"PLAY_CONTENT",play:"PLAY_FIRST",nonFlashError:"READY_TO_PLAY"},this.STATE_TRANSITIONS.PLAY_PREVIEW_CONTENT_LAST={videoEnded:"READY_TO_PLAY",contentPlaybackStarted:"PREVIEW_CONTENT_LAST_PLAYING",play:"PLAY_CONTENT",nonFlashError:"ERROR"},this.STATE_TRANSITIONS.PREVIEW_CONTENT_LAST_PLAYING={videoEnded:"READY_TO_PLAY",play:"PLAY_CONTENT",nonFlashError:"ERROR"}},this.TRANSITION_EVENTS=["enterPreview","showForStepping","playlistLoaded","play","contentPlaybackStarted","adPlaybackStarted","videoEnded","nonFlashError","skipAdTrack"].forEach(function(e){this[e]=function(e){return function(){if(!this.currentState||!this.STATE_TRANSITIONS[this.currentState])return;var t=this.STATE_TRANSITIONS[this.currentState][e];t&&this.VIDEO_STATES[t]&&this.trigger("dataVideoStateUpdated",{state:this.VIDEO_STATES[t]})}}(e)},this),this.firstState=function(){return this.attr.autoPlay?this.VIDEO_STATES.PLAY_WHEN_LOADED:this.attr.autoPlayPreview?this.VIDEO_STATES.PREVIEW_WHEN_LOADED:this.VIDEO_STATES.PENDING},this.played=function(e,t){t&&t.id&&(t.id==="ad"?this.adPlaybackStarted():this.contentPlaybackStarted())},this.after("initialize",function(){this.initializeStateTransitions(),this.on(document,"dataEnterPreview",this.enterPreview),this.on(document,"uiReportPlaylistLoaded",this.playlistLoaded),this.on(document,"dataPlay dataPlayFromPreview",this.play),this.on(document,"dataStepForward dataStepBackward",this.showForStepping),this.on(document,"uiReportStartPlay",this.played),this.on(document,"uiReportVideoFinished",this.videoEnded),this.on(document,"dataSkipAdTrack",this.skipAdTrack),this.on(document,"dataPlaybackError",this.nonFlashError),this.trigger("dataVideoStateUpdated",{state:this.firstState()})})}var t=e("flight/lib/component"),n=e("utils/with_states");return t(n,r)}),define("data/player/gif_transitions",["require","flight/lib/component","utils/with_states"],function(e){function r(){this.attributes({autoPlay:!1,autoPlayPreview:!1}),this.STATE_TRANSITIONS={},this.STATE_TRANSITIONS.PENDING={playlistLoaded:"READY_TO_PLAY",play:"PLAY_WHEN_LOADED",enterPreview:"PREVIEW_WHEN_LOADED"},this.STATE_TRANSITIONS.PLAY_WHEN_LOADED={playlistLoaded:"PLAY_FIRST"},this.STATE_TRANSITIONS.READY_TO_PLAY={play:"PLAY_FIRST",enterPreview:"PLAY_PREVIEW_CONTENT"},this.STATE_TRANSITIONS.SHOWING_CONTENT={play:"PLAY_FIRST",nonFlashError:"ERROR"},this.STATE_TRANSITIONS.PLAY_FIRST={contentPlaybackStarted:"CONTENT_PLAYING"},this.STATE_TRANSITIONS.PLAY_CONTENT={contentPlaybackStarted:"CONTENT_PLAYING",nonFlashError:"ERROR"},this.STATE_TRANSITIONS.CONTENT_PLAYING={videoEnded:"PLAY_CONTENT",nonFlashError:"ERROR"},this.STATE_TRANSITIONS.ERROR={},this.STATE_TRANSITIONS.PREVIEW_WHEN_LOADED={playlistLoaded:"PLAY_PREVIEW_CONTENT",play:"PLAY_WHEN_LOADED"},this.STATE_TRANSITIONS.PLAY_PREVIEW_CONTENT={contentPlaybackStarted:"PREVIEW_CONTENT_PLAYING"},this.STATE_TRANSITIONS.PREVIEW_CONTENT_PLAYING={videoEnded:"PLAY_PREVIEW_CONTENT",play:"PLAY_CONTENT"},this.TRANSITION_EVENTS=["enterPreview","playlistLoaded","play","contentPlaybackStarted","videoEnded","nonFlashError"].forEach(function(e){this[e]=function(e){return function(){if(!this.currentState||!this.STATE_TRANSITIONS[this.currentState])return;var t=this.STATE_TRANSITIONS[this.currentState][e];t&&this.VIDEO_STATES[t]&&this.trigger("dataVideoStateUpdated",{state:this.VIDEO_STATES[t]})}}(e)},this),this.firstState=function(){return this.attr.autoPlay?this.VIDEO_STATES.PLAY_WHEN_LOADED:this.attr.autoPlayPreview?this.VIDEO_STATES.PREVIEW_WHEN_LOADED:this.VIDEO_STATES.PENDING},this.played=function(e,t){t&&t.id&&this.contentPlaybackStarted()},this.after("initialize",function(){this.on(document,"dataEnterPreview",this.enterPreview),this.on(document,"uiReportPlaylistLoaded",this.playlistLoaded),this.on(document,"dataPlay dataPlayFromPreview",this.play),this.on(document,"uiReportStartPlay",this.played),this.on(document,"uiReportVideoFinished",this.videoEnded),this.on(document,"dataPlaybackError",this.nonFlashError),this.trigger("dataVideoStateUpdated",{state:this.firstState()})})}var t=e("flight/lib/component"),n=e("utils/with_states");return t(n,r)}),define("data/timing_events/with_timing",[],function(){function e(){this.attributes({minimumPlaybackLapseMs:1e4,viewThresholdMs:3e3}),this.TimingTrack=function(e){this.id=e,this.lastTimeUpdate=undefined,this.properties={},this.eventsFired={},this.continuousLapseProperties={},this.duration=undefined,this.sessionProperties={},this.reset=function(){this.lastTimeUpdate=undefined,this.properties={},this.eventsFired={}},this.wasFired=function(e){return!!this.eventsFired[e]},this.resetProperty=function(e){this.properties[e]=0},this.addTo=function(e,t,n){this.properties[e]||(this.properties[e]=0,this.continuousLapseProperties[e]=n),this.properties[e]+=t},this.addToSessionProperty=function(e,t){this.sessionProperties[e]||(this.sessionProperties[e]=0),this.sessionProperties[e]+=t},this.initializeSessionProperty=function(e){this.sessionProperties[e]=0},this.getSessionProperty=function(e){return this.sessionProperties[e]},this.get=function(e){return this.properties[e]},this.setMax=function(e,t){var n=this.properties[e]?this.properties[e]:0;this.properties[e]=Math.max(n,t?t:0)},this.triggerEventOnce=function(e,t){if(!this.eventsFired[e]){this.eventsFired[e]=!0;var n=t||{};n.id=this.id,$(document).trigger(e,n)}},this.getTimeDelta=function(e){var t=this.lastTimeUpdate===undefined?0:1e3*(e-this.lastTimeUpdate);return this.lastTimeUpdate=e,t},this.setDuration=function(e){this.duration||(this.duration=e)},this.getDuration=function(){return this.duration}},this.getTrack=function(e){var t=e?e.id:undefined;return t?(this.tracks[t]||(this.tracks[t]=new this.TimingTrack(t)),this.tracks[t]):undefined},this.eachTrack=function(){return Object.keys(this.tracks).map(function(e){return this.tracks[e]}.bind(this))},this.resetTracks=function(){this.eachTrack().forEach(function(e){e.reset()})},this.resetTimeUpdated=function(){this.eachTrack().forEach(function(e){e.lastTimeUpdate=undefined})},this.resetContinuousLapseTrackProperties=function(){this.eachTrack().forEach(function(e){Object.keys(e.continuousLapseProperties).filter(function(t){return e.continuousLapseProperties[t]}).forEach(function(t){e.resetProperty(t)})})},this.onLoop=function(){this.off(document,"dataDidReplay")},this.after("initialize",function(){this.tracks={},this.on(document,"dataScrubStart uiReportVideoFinished",this.resetTimeUpdated),this.on(document,"dataDidReplay",this.resetTracks),this.on(document,"dataScrubStart dataPause dataDidLoop",this.resetContinuousLapseTrackProperties),this.on(document,"dataDidLoop",this.onLoop)})}return e}),define("data/player/calls_to_action",["require","flight/lib/component","data/timing_events/with_timing","utils/utils"],function(e){function i(){this.playlistLoaded=function(e,t){t&&t.tracks&&(this.ctas.ad=this.getCta(t.tracks.ad),this.ctas.content=this.getCta(t.tracks.content))},this.getCta=function(e){if(e&&e.ctas){var t={};typeof e.ctas=="object"&&Object.keys(e.ctas).forEach(function(n){var i=r.getValidatedHttpUrl(e.ctas[n]);i&&(t[n]=i)});if(Object.keys(t).length)return t}},this.updateCallToAction=function(e,t){if(t&&t.id&&this.ctas[t.id]){var n=this.ctas[t.id],r=n.visit,i=n.watchNow,s=r||i,o=r?"visit":"watchNow";this.trigger("dataShowCta",{id:t.id,url:s,type:o})}else t&&t.id&&this.trigger("dataShowCta",{id:t.id})},this.ctaShown=function(e,t){if(t&&t.url){var n=this.getTrack(t),r=this.isVisit(t)?"dataDidShowVisitCta":"dataDidShowWatchCta";n.triggerEventOnce(r,{id:t.id,url:t.url})}},this.ctaClicked=function(e,t){if(t&&t.url){var n=this.isVisit(t)?"dataDidClickVisitCta":"dataDidClickWatchCta";this.trigger(n,{id:t.id,url:t.url})}},this.isVisit=function(e){return e&&e.type==="visit"},this.after("initialize",function(){this.on(document,"dataPlaylistLoaded",this.playlistLoaded),this.on(document,"uiCtaImpression",this.ctaShown),this.on(document,"uiCtaClicked",this.ctaClicked),this.ctas={},this.on(document,"uiReportCurrentVideo",this.updateCallToAction)})}var t=e("flight/lib/component"),n=e("data/timing_events/with_timing"),r=e("utils/utils");return t(i,n)}),define("data/player/full_screen",["require","flight/lib/component","utils/with_states"],function(e){function r(){this.enteringFullScreen=function(){this.isPreview()&&this.trigger("dataPlayFromPreview"),this.trigger("dataEnterFullScreen")},this.exitingFullScreen=function(){this.trigger("dataExitFullScreen")},this.after("initialize",function(){this.on(document,"uiEnterFullScreen uiReportEnterFullScreen",this.enteringFullScreen),this.on(document,"uiExitFullScreen uiReportExitFullScreen",this.exitingFullScreen)})}var t=e("flight/lib/component"),n=e("utils/with_states");return t(n,r)}),define("data/player/player_events",["require","flight/lib/component","utils/with_states"],function(e){function r(){this.rewind=function(e,t){this.triggerTrackingEvent("dataDidRewind",t)},this.reportPlay=function(e,t){this.triggerTrackingEvent("dataDidPlay",t)},this.reportPause=function(e,t){this.triggerTrackingEvent("dataDidPause",t)},this.reportMute=function(e,t){this.triggerTrackingEvent("dataDidMute",t)},this.reportUnmute=function(e,t){this.triggerTrackingEvent("dataDidUnmute",t)},this.intentToPlay=function(e,t){this.intentToPlayFired||(this.intentToPlayFired=!0,this.triggerTrackingEvent("dataDidIntendToPlay",t))},this.triggerTrackingEvent=function(e,t){this.trigger(e,t)},this.after("initialize",function(){this.on(document,"uiRewind",this.rewind),this.on(document,"uiReportPlay",this.reportPlay),this.on(document,"uiReportPause",this.reportPause),this.on(document,"uiReportMute",this.reportMute),this.on(document,"uiReportUnmute",this.reportUnmute),this.intentToPlayFired=!1,this.on(document,"dataPreviewVideo dataPlayVideo",this.intentToPlay)})}var t=e("flight/lib/component"),n=e("utils/with_states");return t(n,r)}),define("data/player/player_boot",["require","data/player/ad_state","data/player/autoplay_preview","data/player/errors","data/player/player_controller","data/player/player_states","data/player/video_transitions","data/player/gif_transitions","data/player/calls_to_action","data/player/full_screen","data/player/player_events"],function(e){function c(e){t.attachTo(document),n.attachTo(document),r.attachTo(document,{autoPlay:e.autoPlay,sourceType:e.sourceType}),i.attachTo(document,{sourceType:e.sourceType}),s.attachTo(document);var c;e.sourceType==="gif"||e.sourceType==="snap-reel"?c=u:c=o,c.attachTo(document,{autoPlay:e.autoPlay,autoPlayPreview:e.autoPlayPreview}),a.attachTo(document),f.attachTo(document),l.attachTo(document)}var t=e("data/player/ad_state"),n=e("data/player/autoplay_preview"),r=e("data/player/errors"),i=e("data/player/player_controller"),s=e("data/player/player_states"),o=e("data/player/video_transitions"),u=e("data/player/gif_transitions"),a=e("data/player/calls_to_action"),f=e("data/player/full_screen"),l=e("data/player/player_events");return c}),define("data/player/vine_transitions",["require","flight/lib/component","utils/with_states"],function(e){function r(){this.attributes({autoPlay:!1,autoPlayPreview:!1}),this.STATE_TRANSITIONS={},this.STATE_TRANSITIONS.READY_TO_PLAY={play:"PLAY_CONTENT",nonFlashError:"ERROR",enterPreview:"PLAY_PREVIEW_CONTENT"},this.STATE_TRANSITIONS.PLAY_CONTENT={contentPlaybackStarted:"CONTENT_PLAYING",nonFlashError:"ERROR"},this.STATE_TRANSITIONS.PLAY_PREVIEW_CONTENT={contentPlaybackStarted:"PREVIEW_CONTENT_PLAYING",play:"PLAY_CONTENT"},this.STATE_TRANSITIONS.PREVIEW_CONTENT_PLAYING={play:"PLAY_CONTENT"},this.STATE_TRANSITIONS.CONTENT_PLAYING={nonFlashError:"ERROR"},this.STATE_TRANSITIONS.ERROR={},this.TRANSITION_EVENTS=["contentPlaybackStarted","enterPreview","play","nonFlashError"].forEach(function(e){this[e]=function(e){return function(){if(!this.currentState||!this.STATE_TRANSITIONS[this.currentState])return;var t=this.STATE_TRANSITIONS[this.currentState][e];t&&this.VIDEO_STATES[t]&&this.trigger("dataVideoStateUpdated",{state:this.VIDEO_STATES[t]})}}(e)},this),this.firstState=function(){return this.attr.autoPlay||this.attr.autoPlayPreview?this.VIDEO_STATES.PLAY_CONTENT:this.VIDEO_STATES.READY_TO_PLAY},this.played=function(){this.contentPlaybackStarted()},this.after("initialize",function(){this.on(document,"dataPlay dataPlayFromPreview",this.play),this.on(document,"dataEnterPreview",this.enterPreview),this.on(document,"dataPlaybackError",this.nonFlashError),this.on(document,"uiReportStartPlay",this.played),this.trigger("dataVideoStateUpdated",{state:this.firstState()})})}var t=e("flight/lib/component"),n=e("utils/with_states");return t(n,r)}),define("data/player/vine_player_boot",["require","data/player/autoplay_preview","data/player/errors","data/player/player_controller","data/player/player_states","data/player/vine_transitions"],function(e){function o(e){t.attachTo(document),n.attachTo(document),r.attachTo(document),i.attachTo(document),s.attachTo(document,{autoPlay:e.autoPlay,autoPlayPreview:e.autoPlayPreview})}var t=e("data/player/autoplay_preview"),n=e("data/player/errors"),r=e("data/player/player_controller"),i=e("data/player/player_states"),s=e("data/player/vine_transitions");return o}),define("utils/vmap_loader",["require","utils/utils","jquery"],function(e){var t=e("utils/utils"),n=e("jquery"),r=["amp.twimg.com","amp-staging.twimg.com","cliptamatic.com","grabyo.com","mlb.com","nowthismedia.com","nowthisnews.com","snappytv.com","umrss.com","unicornmedia.com","vevo.com","video.twimg.com","yesnetwork.com"];return{isOldIE:function(){var e=navigator.userAgent.toLowerCase(),t=e.indexOf("msie")!==-1?parseInt(e.split("msie")[1]):-1;return t!==-1&&t<9},isLocal:function(){var e=t.getUrlMetadata(window.location);if(e.host==="localhost"||e.port==="8080")return!0},isValidUrl:function(e,n){if(this.isLocal())return!0;var r=t.getUrlMetadata(n);if(r.protocol!=="https:")return!1;for(var i=0;i<e.length;i++){var s=new RegExp("^(.*\\.)?"+e[i]+"$");if(r.hostname.match(s))return!0}return!1},get:function(e,t){if(!this.isValidUrl(r,e)){t.fail("URL_NOT_WHITELISTED");return}this.isOldIE()?t.fail("UNSUPPORTED_BROWSER"):n.ajax({url:e,dataType:"xml"}).done(function(e){t.success(e)}).fail(function(){t.fail()})}}}),function(){function S(e,t){this.code=e,this.message=t||x[e]}function T(e){var t=e.match(/\$?(?:(?![0-9-])(?:[\w-]+|\*):)?(?![0-9-])(?:[\w-]+|\*)|\(:|:\)|\/\/|\.\.|::|\d+(?:\.\d*)?(?:[eE][+-]?\d+)?|\.\d+(?:[eE][+-]?\d+)?|"[^"]*(?:""[^"]*)*"|'[^']*(?:''[^']*)*'|<<|>>|[!<>]=|(?![0-9-])[\w-]+:\*|\s+|./g);if(t){var n=0;for(var r=0,i=t.length;r<i;r++)t[r]=="(:"?n++:t[r]==":)"&&n?n--:!n&&!/^\s/.test(t[r])&&(this[this.length++]=t[r]);if(n)throw new S("XPST0003","Unclosed comment")}}function N(){}function C(e,t,n,r){this.staticContext=e,this.item=t,this.scope=n||{},this.stack={},this.DOMAdapter=r||new N;var i=new o,s=i.getTimezoneOffset();this.dateTime=new Kn(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds()+i.getMilliseconds()/1e3,-s),this.timezone=new Br(0,a.abs(~~(s/60)),a.abs(s%60),0,s>0)}function k(){this.dataTypes={},this.documents={},this.functions={},this.collations={},this.collections={}}function D(e,t,n){A[e]=n,O[e]=t}function P(e,t){M[e]=t}function H(e,t){var n=new T(e),r=I(n,t);if(!n.eof())throw new S("XPST0003","Unexpected token beyond end of query");if(!r)throw new S("XPST0003","Expected expression");this.internalExpression=r}function B(){}function j(){}function F(){this.items=[]}function I(e,t){var n;if(e.eof()||!(n=R(e,t)))return;var r=new F;r.items.push(n);while(e.peek()==","){e.next();if(e.eof()||!(n=R(e,t)))throw new S("XPST0003","Expected expression");r.items.push(n)}return r}function q(){}function R(e,t){if(!e.eof())return $(e,t)||z(e,t)||K(e,t)||bt(e,t)}function U(){this.bindings=[],this.returnExpr=null}function z(e,t){if(e.peek()=="for"&&e.peek(1).substr(0,1)=="$"){e.next();var n=new U,r;do n.bindings.push(X(e,t));while(e.peek()==","&&e.next());if(e.peek()!="return")throw new S("XPST0003","Expected 'return' token in for expression");e.next();if(e.eof()||!(r=R(e,t)))throw new S("XPST0003","Expected return statement operand in for expression");return n.returnExpr=r,n}}function W(e,t,n,r){this.prefix=e,this.localName=t,this.namespaceURI=n,this.inExpr=r}function X(e,t){var n=e.peek().substr(1).match(Ft);if(!n)throw new S("XPST0003","Expected binding in for expression");if(n[1]=="*"||n[2]=="*")throw new S("XPST0003","Illegal use of wildcard in for expression binding variable name");e.next();if(e.peek()!="in")throw new S("XPST0003","Expected 'in' token in for expression binding");e.next();var r;if(e.eof()||!(r=R(e,t)))throw new S("XPST0003","Expected in statement operand in for expression binding");return new W(n[1]||null,n[2],n[1]?t.getURIForPrefix(n[1]):null,r)}function V(e,t,n){this.condExpr=e,this.thenExpr=t,this.elseExpr=n}function $(e,t){var n,r,i;if(e.peek()=="if"&&e.peek(1)=="("){e.next(2);if(e.eof()||!(n=I(e,t)))throw new S("XPST0003","Expected if statement operand in conditional expression");if(e.peek()!=")")throw new S("XPST0003","Expected ')' token in for expression");e.next();if(e.peek()!="then")throw new S("XPST0003","Expected 'then' token in conditional if expression");e.next();if(e.eof()||!(r=R(e,t)))throw new S("XPST0003","Expected then statement operand in condional expression");if(e.peek()!="else")throw new S("XPST0003","Expected 'else' token in conditional if expression");e.next();if(e.eof()||!(i=R(e,t)))throw new S("XPST0003","Expected else statement operand in condional expression");return new V(n,r,i)}}function J(e){this.quantifier=e,this.bindings=[],this.satisfiesExpr=null}function K(e,t){var n=e.peek();if((n=="some"||n=="every")&&e.peek(1).substr(0,1)=="$"){e.next();var r=new J(n),i;do r.bindings.push(G(e,t));while(e.peek()==","&&e.next());if(e.peek()!="satisfies")throw new S("XPST0003","Expected 'satisfies' token in quantified expression");e.next();if(e.eof()||!(i=R(e,t)))throw new S("XPST0003","Expected satisfies statement operand in quantified expression");return r.satisfiesExpr=i,r}}function Q(e,t,n,r){this.prefix=e,this.localName=t,this.namespaceURI=n,this.inExpr=r}function G(e,t){var n=e.peek().substr(1).match(Ft);if(!n)throw new S("XPST0003","Expected binding in quantified expression");if(n[1]=="*"||n[2]=="*")throw new S("XPST0003","Illegal use of wildcard in quantified expression binding variable name");e.next();if(e.peek()!="in")throw new S("XPST0003","Expected 'in' token in quantified expression binding");e.next();var r;if(e.eof()||!(r=R(e,t)))throw new S("XPST0003","Expected in statement operand in quantified expression binding");return new Q(n[1]||null,n[2],n[1]?t.getURIForPrefix(n[1]):null,r)}function Y(e,t,n){this.left=e,this.right=t,this.operator=n}function Z(e,t){var n,r;if(e.eof()||!(n=vn(e,t)))return;if(e.peek()in ot){var i=e.peek();e.next();if(e.eof()||!(r=vn(e,t)))throw new S("XPST0003","Expected second operand in comparison expression");return new Y(n,r,i)}return n}function et(e,t){var n=Mi(e.left.evaluate(t),t);if(!n.length)return new Un(!1);var r=Mi(e.right.evaluate(t),t);if(!r.length)return new Un(!1);var i=!1;for(var s=0,o=n.length,u,a;s<o&&!i;s++)for(var f=0,l=r.length,c,h;f<l&&!i;f++)a=n[s],h=r[f],u=a instanceof _r,c=h instanceof _r,u&&c?(a=Lr.cast(a),h=Lr.cast(h)):(u?h instanceof Br?a=Br.cast(a):h instanceof Dr?a=Dr.cast(a):h.primitiveKind&&(a=M[h.primitiveKind].cast(a)):c&&(a instanceof Br?h=Br.cast(h):a instanceof Dr?h=Dr.cast(h):a.primitiveKind&&(h=M[a.primitiveKind].cast(h))),a instanceof Fn&&(a=Lr.cast(a)),h instanceof Fn&&(h=Lr.cast(h))),i=rt[tt[e.operator]](a,h,t).valueOf();return new Un(i)}function nt(e,t){var n=Mi(e.left.evaluate(t),t);if(!n.length)return null;cn(t,n,"?","first operand of '"+e.operator+"'");var r=Mi(e.right.evaluate(t),t);if(!r.length)return null;cn(t,r,"?","second operand of '"+e.operator+"'");var i=n[0],s=r[0];return i instanceof _r&&(i=Lr.cast(i)),s instanceof _r&&(s=Lr.cast(s)),i instanceof Fn&&(i=Lr.cast(i)),s instanceof Fn&&(s=Lr.cast(s)),rt[e.operator](i,s,t)}function it(e,t){var n=e.left.evaluate(t);if(!n.length)return null;cn(t,n,"?","first operand of '"+e.operator+"'"),ln(t,n,ai,"first operand of '"+e.operator+"'");var r=e.right.evaluate(t);return r.length?(cn(t,r,"?","second operand of '"+e.operator+"'"),ln(t,r,ai,"second operand of '"+e.operator+"'"),st[e.operator](n[0],r[0],t)):null}function ut(e){this.left=e,this.items=[]}function ft(e,t){var n;if(e.eof()||!(n=ht(e,t)))return;if(e.peek()in at){var r=new ut(n),i;while((i=e.peek())in at){e.next();if(e.eof()||!(n=ht(e,t)))throw new S("XPST0003","Expected second operand in additive expression");r.items.push([i,n])}return r}return n}function lt(e){this.left=e,this.items=[]}function ht(e,t){var n;if(e.eof()||!(n=gn(e,t)))return;if(e.peek()in ct){var r=new lt(n),i;while((i=e.peek())in ct){e.next();if(e.eof()||!(n=gn(e,t)))throw new S("XPST0003","Expected second operand in multiplicative expression");r.items.push([i,n])}return r}return n}function pt(e,t){this.operator=e,this.expression=t}function vt(e,t){if(e.eof())return;if(e.peek()in dt){var n="+",r;while(e.peek()in dt)e.peek()=="-"&&(n=n=="-"?"+":"-"),e.next();if(e.eof()||!(r=gt(e,t)))throw new S("XPST0003","Expected operand in unary expression");return new pt(n,r)}return gt(e,t)}function mt(){}function gt(e,t){return Mt(e,t)}function yt(e){this.left=e,this.items=[]}function bt(e,t){var n;if(e.eof()||!(n=Et(e,t)))return;if(e.peek()!="or")return n;var r=new yt(n);while(e.peek()=="or"){e.next();if(e.eof()||!(n=Et(e,t)))throw new S("XPST0003","Expected second operand in logical expression");r.items.push(n)}return r}function wt(e){this.left=e,this.items=[]}function Et(e,t){var n;if(e.eof()||!(n=Z(e,t)))return;if(e.peek()!="and")return n;var r=new wt(n);while(e.peek()=="and"){e.next();if(e.eof()||!(n=Z(e,t)))throw new S("XPST0003","Expected second operand in logical expression");r.items.push(n)}return r}function St(){}function xt(e,t){if(!e.eof())return nn(e,t)||kt(e,t)}function Tt(e,t,n){var r;while(e.peek()=="["){e.next();if(e.eof()||!(r=I(e,t)))throw new S("XPST0003","Expected expression in predicate");n.predicates.push(r);if(e.peek()!="]")throw new S("XPST0003","Expected ']' token in predicate");e.next()}}function Nt(e,t){this.axis=e,this.test=t,this.predicates=[]}function kt(e,t){var n=e.peek(),r,i;if(e.peek(1)=="::"){if(!(n in Ct))throw new S("XPST0003","Unknown axis name: "+n);e.next(2);if(e.eof()||!(r=Dt(e,t)))throw new S("XPST0003","Expected node test expression in axis step");i=new Nt(n,r)}else if(n=="..")e.next(),i=new Nt("parent",new Pt("node"));else if(n=="@"){e.next();if(e.eof()||!(r=Dt(e,t)))throw new S("XPST0003","Expected node test expression in axis step");i=new Nt("attribute",r)}else{if(e.eof()||!(r=Dt(e,t)))return;i=new Nt(r instanceof Pt&&r.name=="attribute"?"attribute":"child",r)}return Tt(e,t,i),i}function Lt(e,t,n){for(var r;e;e=n(e,"nextSibling"))t.push(e),(r=n(e,"firstChild"))&&Lt(r,t,n)}function At(e,t,n){for(var r;e;e=n(e,"previousSibling"))(r=n(e,"lastChild"))&&At(r,t,n),t.push(e)}function Ot(){this.items=[]}function Mt(e,t){if(e.eof())return;var n="/",r="//",i=new Ot,s=e.peek(),o;if(s==r||s==n)e.next(),i.items.push(new on(null,"root",b)),s==r&&i.items.push(new Nt("descendant-or-self",new Pt("node")));if(e.eof()||!(o=xt(e,t))){if(s==n)return i.items[0];if(s==r)throw new S("XPST0003","Expected path step expression");return}i.items.push(o);while((s=e.peek())==n||s==r){s==r&&i.items.push(new Nt("descendant-or-self",new Pt("node"))),e.next();if(e.eof()||!(o=xt(e,t)))throw new S("XPST0003","Expected path step expression");i.items.push(o)}return i.items.length==1?i.items[0]:i}function _t(){}function Dt(e,t){if(!e.eof())return Bt(e,t)||It(e,t)}function Pt(e){this.name=e,this.args=[]}function Bt(e,t){var n=e.peek();if(e.peek(1)=="("){if(n in Ht){e.next(2);var r=new Pt(n);if(e.peek()!=")")n!="document-node"&&n!="element"&&n!="attribute"&&n!="processing-instruction"&&n!="schema-attribute"&&n=="schema-element";else{if(n=="schema-attribute")throw new S("XPST0003","Expected attribute declaration in 'schema-attribute' kind test");if(n=="schema-element")throw new S("XPST0003","Expected element declaration in 'schema-element' kind test")}if(e.peek()!=")")throw new S("XPST0003","Expected ')' token in kind test");return e.next(),r}throw new S("XPST0003","Unknown '"+n+"' kind test")}}function jt(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function It(e,t){var n=e.peek().match(Ft);if(n){if(n[1]=="*"&&n[2]=="*")throw new S("XPST0003","Illegal use of *:* wildcard in name test");return e.next(),new jt(n[1]||null,n[2],n[1]?n[1]=="*"?"*":t.getURIForPrefix(n[1])||null:t.defaultElementNamespace)}}function qt(){}function Rt(e,t){if(!e.eof())return Xt(e,t)||zt(e,t)||un(e,t)||sn(e,t)||$t(e,t)}function Ut(e){this.expression=e}function zt(e,t){if(e.peek()=="("){e.next();var n=null;e.peek()!=")"&&(n=I(e,t));if(e.peek()!=")")throw new S("XPST0003","Expected ')' token in parenthesized expression");return e.next(),new Ut(n)}}function Wt(){}function Xt(e,t){if(e.peek()==".")return e.next(),new Wt}function Vt(){}function $t(e,t){if(!e.eof())return Qt(e,t)||en(e,t)}function Jt(e){this.value=e}function Qt(e,t){var n=e.peek(),r=Gt(n);if(r)return e.next(),new Jt(r)}function Gt(e){var t=e.match(Kt);if(t){var n=Ir;if(t[5])n=ir;else if(t[2]||t[3])n=nr;return new n(+e)}}function Yt(e){this.value=e}function en(e,t){var n=e.peek().match(Zt);if(n)return e.next(),new Yt(new Lr(n[1]?n[1].replace("''","'"):n[2]?n[2].replace('""','"'):""))}function tn(e){this.expression=e,this.predicates=[]}function nn(e,t){var n;if(e.eof()||!(n=Rt(e,t)))return;var r=new tn(n);return Tt(e,t,r),r.predicates.length==0?r.expression:r}function rn(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function sn(e,t){if(e.peek().substr(0,1)=="$"){var n=e.peek().substr(1).match(Ft);if(n){if(n[1]=="*"||n[2]=="*")throw new S("XPST0003","Illegal use of wildcard in var expression variable name");var r=new rn(n[1]||null,n[2],n[1]?t.getURIForPrefix(n[1]):null);return e.next(),r}}}function on(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n,this.args=[]}function un(e,t){var n=e.peek().match(Ft);if(n&&e.peek(1)=="("){if(!n[1]&&n[2]in Ht)return kt(e,t);if(n[1]=="*"||n[2]=="*")throw new S("XPST0003","Illegal use of wildcard in function name");var r=new on(n[1]||null,n[2],n[1]?t.getURIForPrefix(n[1])||null:t.defaultFunctionNamespace),i;e.next(2);if(e.peek()!=")"){do{if(e.eof()||!(i=R(e,t)))throw new S("XPST0003","Expected function call argument");r.args.push(i)}while(e.peek()==","&&e.next());if(e.peek()!=")")throw new S("XPST0003","Expected ')' token in function call")}return e.next(),r}}function fn(e,t,n,r,i){var s,o=r.length,u,a=t.length,f=0;while(f<t.length&&!t[f][2])f++;if(o>a)throw new S("XPST0017","Function "+e+"() must have "+(a?" no more than ":"")+a+" argument"+(a>1||!a?"s":""));if(o<f)throw new S("XPST0017","Function "+e+"() must have "+(f==a?"exactly":"at least")+" "+f+" argument"+(a>1?"s":""));for(var l=0;l<o;l++)u=t[l],s=r[l],cn(i,s,u[1],an[l]+" argument of "+e+"()"),ln(i,s,u[0],an[l]+" argument of "+e+"()"),u[1]!="+"&&u[1]!="*"&&(r[l]=s.length?s[0]:null)}function ln(e,t,n,r){for(var i=0,s=t.length,o,u;i<s;i++){u=t[i];if(n==ai||n.prototype instanceof ai){if(!e.DOMAdapter.isNode(u))throw new S("XPTY0004","Required item type of "+r+" is "+n);if(n!=ai){o=e.DOMAdapter.getProperty(u,"nodeType");if([null,hi,fi,di,di,null,null,pi,li,ci,null,null,null][o]!=n)throw new S("XPTY0004","Required item type of "+r+" is "+n)}}else if(n==Bn||n.prototype instanceof Bn){u=Mi([u],e)[0],n!=Bn&&(u instanceof _r?u=n.cast(u):n==Lr?u instanceof Fn&&(u=Lr.cast(u)):n==ir&&jn(u)&&(u=n.cast(u)));if(!(u instanceof n))throw new S("XPTY0004","Required item type of "+r+" is "+n);t[i]=u}}}function cn(e,t,n,r){var i=t.length;if(n=="?"){if(i>1)throw new S("XPTY0004","Required cardinality of "+r+" is one or zero")}else if(n=="+"){if(i<1)throw new S("XPTY0004","Required cardinality of "+r+" is one or more")}else if(n!="*"&&i!=1)throw new S("XPTY0004","Required cardinality of "+r+" is exactly one")}function hn(e){this.left=e,this.items=[]}function pn(e,t){var n,r;if(e.eof()||!(n=bn(e,t)))return;if((r=e.peek())!="intersect"&&r!="except")return n;var i=new hn(n);while((r=e.peek())=="intersect"||r=="except"){e.next();if(e.eof()||!(n=bn(e,t)))throw new S("XPST0003","Expected second operand in "+r+" expression");i.items.push([r,n])}return i}function dn(e,t){this.left=e,this.right=t}function vn(e,t){var n,r;if(e.eof()||!(n=ft(e,t)))return;if(e.peek()!="to")return n;e.next();if(e.eof()||!(r=ft(e,t)))throw new S("XPST0003","Expected second operand in range expression");return new dn(n,r)}function mn(e){this.left=e,this.items=[]}function gn(e,t){var n,r;if(e.eof()||!(n=pn(e,t)))return;if((r=e.peek())!="|"&&r!="union")return n;var i=new mn(n);while((r=e.peek())=="|"||r=="union"){e.next();if(e.eof()||!(n=pn(e,t)))throw new S("XPST0003","Expected second operand in union expression");i.items.push(n)}return i}function yn(e,t){this.expression=e,this.type=t}function bn(e,t){var n,r;if(e.eof()||!(n=En(e,t)))return;if(e.peek()!="instance"||e.peek(1)!="of")return n;e.next(2);if(e.eof()||!(r=Mn(e,t)))throw new S("XPST0003","Expected second operand in instance of expression");return new yn(n,r)}function wn(e,t){this.expression=e,this.type=t}function En(e,t){var n,r;if(e.eof()||!(n=xn(e,t)))return;if(e.peek()!="treat"||e.peek(1)!="as")return n;e.next(2);if(e.eof()||!(r=Mn(e,t)))throw new S("XPST0003","Expected second operand in treat expression");return new wn(n,r)}function Sn(e,t){this.expression=e,this.type=t}function xn(e,t){var n,r;if(e.eof()||!(n=Nn(e,t)))return;if(e.peek()!="castable"||e.peek(1)!="as")return n;e.next(2);if(e.eof()||!(r=Dn(e,t)))throw new S("XPST0003","Expected second operand in castable expression");return new Sn(n,r)}function Tn(e,t){this.expression=e,this.type=t}function Nn(e,t){var n,r;if(e.eof()||!(n=vt(e,t)))return;if(e.peek()!="cast"||e.peek(1)!="as")return n;e.next(2);if(e.eof()||!(r=Dn(e,t)))throw new S("XPST0003","Expected second operand in cast expression");return new Tn(n,r)}function Cn(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function kn(e,t){var n=e.peek().match(Ft);if(n){if(n[1]=="*"||n[2]=="*")throw new S("XPST0003","Illegal use of wildcard in type name");return e.next(),new Cn(n[1]||null,n[2],n[1]?t.getURIForPrefix(n[1]):null)}}function Ln(e){this.test=e}function An(e,t){if(e.eof())return;var n;if(e.peek()=="item"&&e.peek(1)=="("){e.next(2);if(e.peek()!=")")throw new S("XPST0003","Expected ')' token in item type expression");return e.next(),new Ln}if(n=Bt(e,t))return new Ln(n);if(n=kn(e,t))return new Ln(n)}function On(e,t){this.itemType=e||null,this.occurence=t||null}function Mn(e,t){if(e.eof())return;if(e.peek()=="empty-sequence"&&e.peek(1)=="("){e.next(2);if(e.peek()!=")")throw new S("XPST0003","Expected ')' token in sequence type");return e.next(),new On}var n,r;if(!e.eof()&&(n=An(e,t)))return r=e.peek(),r=="?"||r=="*"||r=="+"?e.next():r=null,new On(n,r)}function _n(e,t){this.itemType=e||null,this.occurence=t||null}function Dn(e,t){var n,r;if(!e.eof()&&(n=kn(e,t)))return r=e.peek(),r=="?"?e.next():r=null,new _n(n,r)}function Pn(){}function Hn(){}function Bn(){}function jn(e){return e instanceof cr||e instanceof ir||e instanceof nr}function Fn(e,t,n,r,i){this.scheme=e,this.authority=t,this.path=n,this.query=r,this.fragment=i}function qn(e){this.value=e}function Un(e){this.value=e}function Wn(e,t,n,r,i){this.year=e,this.month=t,this.day=n,this.timezone=r,this.negative=i}function $n(e,t){return t==2&&(e%400==0||e%100!=0&&e%4==0)?29:Vn[t-1]}function Jn(e,t){if(!t){var n=$n(e.year,e.month);if(e.day>n)while(e.day>n)e.month+=1,e.month>12&&(e.year+=1,e.year==0&&(e.year=1),e.month=1),e.day-=n,n=$n(e.year,e.month);else if(e.day<1)while(e.day<1)e.month-=1,e.month<1&&(e.year-=1,e.year==0&&(e.year=-1),e.month=12),n=$n(e.year,e.month),e.day+=n}return e.month>12?(e.year+=~~(e.month/12),e.year==0&&(e.year=1),e.month=e.month%12):e.month<1&&(e.year+=~~(e.month/12)-1,e.year==0&&(e.year=-1),e.month=e.month%12+12),e}function Kn(e,t,n,r,i,s,o,u){this.year=e,this.month=t,this.day=n,this.hours=r,this.minutes=i,this.seconds=s,this.timezone=o,this.negative=u}function Gn(t,n){return sValue=e(t),arguments.length<2&&(n=2),(sValue.length<n+1?(new i(n+1-sValue.length)).join("0"):"")+sValue}function Yn(e){var t=e.timezone;return t==null?"":t?(t>0?"+":"-")+Gn(a.abs(~~(t/60)))+":"+Gn(a.abs(t%60)):"Z"}function Zn(e){return(e.negative?"-":"")+Gn(e.year,4)+"-"+Gn(e.month)+"-"+Gn(e.day)}function er(t){var n=e(t.seconds).split(".");return Gn(t.hours)+":"+Gn(t.minutes)+":"+Gn(n[0])+(n.length>1?"."+n[1]:"")}function tr(e){return Jn(Mr(e))}function nr(e){this.value=e}function ir(e){this.value=e}function or(e,t,n,r,i,s,o){this.year=e,this.month=t,this.day=n,this.hours=r,this.minutes=i,this.seconds=s,this.negative=o}function ar(e){return(e.year?e.year+"Y":"")+(e.month?e.month+"M":"")}function fr(e){return(e.day?e.day+"D":"")+(e.hours||e.minutes||e.seconds?"T"+(e.hours?e.hours+"H":"")+(e.minutes?e.minutes+"M":"")+(e.seconds?e.seconds+"S":""):"")}function lr(e){return Hr(Fr(e))}function cr(e){this.value=e}function pr(e,t){this.day=e,this.timezone=t}function vr(e,t){this.month=e,this.timezone=t}function gr(e,t,n){this.month=e,this.day=t,this.timezone=n}function br(e,t){this.year=e,this.timezone=t}function Er(e,t,n){this.year=e,this.month=t,this.timezone=n}function xr(e){this.value=e}function Nr(){}function Cr(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function Lr(e){this.value=e}function Ar(e,t,n,r){this.hours=e,this.minutes=t,this.seconds=n,this.timezone=r}function Mr(e){if(e.seconds>=60||e.seconds<0)e.minutes+=~~(e.seconds/60)-(e.seconds<0&&e.seconds%60?1:0),e.seconds=e.seconds%60+(e.seconds<0&&e.seconds%60?60:0);if(e.minutes>=60||e.minutes<0)e.hours+=~~(e.minutes/60)-(e.minutes<0&&e.minutes%60?1:0),e.minutes=e.minutes%60+(e.minutes<0&&e.minutes%60?60:0);if(e.hours>=24||e.hours<0)e instanceof Kn&&(e.day+=~~(e.hours/24)-(e.hours<0&&e.hours%24?1:0)),e.hours=e.hours%24+(e.hours<0&&e.hours%24?24:0);return e}function _r(e){this.value=e}function Dr(e,t,n){or.call(this,e,t,0,0,0,0,n)}function Hr(e){return e.month>=12&&(e.year+=~~(e.month/12),e.month%=12),e}function Br(e,t,n,r,i){or.call(this,0,0,e,t,n,r,i)}function Fr(e){return e.seconds>=60&&(e.minutes+=~~(e.seconds/60),e.seconds%=60),e.minutes>=60&&(e.hours+=~~(e.minutes/60),e.minutes%=60),e.hours>=24&&(e.day+=~~(e.hours/24),e.hours%=24),e}function Ir(e){this.value=e}function Rr(e){this.value=e}function Ur(e){this.value=e}function zr(e){this.value=e}function Wr(e){this.value=e}function Xr(e){this.value=e}function Vr(e){this.value=e}function $r(e){this.value=e}function Jr(e){this.value=e}function Kr(e){this.value=e}function Qr(e){this.value=e}function Gr(e){this.value=e}function Yr(e){this.value=e}function Zr(e){this.value=e}function ei(e){this.value=e}function ti(e){this.value=e}function ni(e){this.value=e}function ri(e){this.value=e}function ii(e){this.value=e}function si(e){this.value=e}function oi(e){this.value=e}function ui(){}function ai(){}function fi(){}function li(){}function ci(){}function hi(){}function pi(){}function di(){}function vi(e,t,n){var r=Ti(e),i=Ti(t);return new Un(n=="lt"?r<i:n=="gt"?r>i:r==i)}function mi(e,t,n){return gi(Kn.cast(e),Kn.cast(t),n)}function gi(e,t,n){var r=new Br(0,0,0,0),i=Ai(e,r).toString(),s=Ai(t,r).toString();return new Un(n=="lt"?i<s:n=="gt"?i>s:i==s)}function yi(e,t,n){var r;e instanceof Wn?r=new Wn(e.year,e.month,e.day,e.timezone,e.negative):e instanceof Kn&&(r=new Kn(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.timezone,e.negative)),r.year=r.year+t.year*(n=="-"?-1:1),r.month=r.month+t.month*(n=="-"?-1:1),Jn(r,!0);var i=$n(r.year,r.month);return r.day>i&&(r.day=i),r}function bi(e,t,n){var r;return e instanceof Wn?(r=new Wn(e.year,e.month,e.day,e.timezone,e.negative),r.day=r.day+t.day*(n=="-"?-1:1),Jn(r)):e instanceof Kn&&(r=new Kn(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.timezone,e.negative),r.seconds=r.seconds+t.seconds*(n=="-"?-1:1),r.minutes=r.minutes+t.minutes*(n=="-"?-1:1),r.hours=r.hours+t.hours*(n=="-"?-1:1),r.day=r.day+t.day*(n=="-"?-1:1),tr(r)),r}function wi(e){return(((e.day*24+e.hours)*60+e.minutes)*60+e.seconds)*(e.negative?-1:1)}function Ei(e){var t=(e=a.round(e))<0,n=~~((e=a.abs(e))/86400),r=~~((e-=n*3600*24)/3600),i=~~((e-=r*3600)/60),s=e-=i*60;return new Br(n,r,i,s,t)}function Si(e){return(e.year*12+e.month)*(e.negative?-1:1)}function xi(e){var t=(e=a.round(e))<0,n=~~((e=a.abs(e))/12),r=e-=n*12;return new Dr(n,r,t)}function Ti(e){return e.seconds+(e.minutes-(e.timezone!=null?e.timezone%60:0)+(e.hours-(e.timezone!=null?~~(e.timezone/60):0))*60)*60}function Ni(t,n){if(h(t)||a.abs(t)==v||h(n)||a.abs(n)==v)return 0;var r=e(t).match(Kt),i=e(n).match(Kt),s=a.max(1,(r[2]||r[3]||"").length+(r[5]||0)*(r[4]=="+"?-1:1),(i[2]||i[3]||"").length+(i[5]||0)*(i[4]=="+"?-1:1));return s+(s%2?0:1)}function Ci(e,t,n){return new(e instanceof Ir&&t instanceof Ir&&n==a.round(n)?Ir:nr)(n)}function ki(e,t){if(e==null)return null;var n=e[t]*(e.negative?-1:1);return t=="seconds"?new nr(n):new Ir(n)}function Li(e,t){if(e==null)return null;if(t=="timezone"){var n=e.timezone;return n==null?null:new Br(0,a.abs(~~(n/60)),a.abs(n%60),0,n<0)}var r=e[t];return e instanceof Wn||t=="hours"&&r==24&&(r=0),e instanceof Ar||(r*=e.negative?-1:1),t=="seconds"?new nr(r):new Ir(r)}function Ai(e,t){if(e==null)return null;var n;e instanceof Wn?n=new Wn(e.year,e.month,e.day,e.timezone,e.negative):e instanceof Ar?n=new Ar(e.hours,e.minutes,e.seconds,e.timezone,e.negative):n=new Kn(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.timezone,e.negative);if(t==null)n.timezone=null;else{var r=wi(t)/60;if(e.timezone!=null){var i=r-e.timezone;e instanceof Wn?i<0&&n.day--:(n.minutes+=i%60,n.hours+=~~(i/60)),tr(n)}n.timezone=r}return n}function Oi(e,t){if(!e.length)return!1;var n=e[0];if(t.DOMAdapter.isNode(n))return!0;if(e.length==1){if(n instanceof Un)return n.value.valueOf();if(n instanceof Lr)return!!n.valueOf().length;if(jn(n))return!h(n.valueOf())&&n.valueOf()!=0;throw new S("FORG0006","Effective boolean value is defined only for sequences containing booleans, strings, numbers, URIs, or nodes")}throw new S("FORG0006","Effective boolean value is not defined for a sequence of two or more items")}function Mi(e,t){var n=[];for(var r=0,i=e.length,s,o;r<i;r++){s=e[r],o=null;if(s==null)o=null;else if(t.DOMAdapter.isNode(s)){var u=t.DOMAdapter.getProperty;switch(u(s,"nodeType")){case 1:o=new _r(u(s,"textContent"));break;case 2:o=new _r(u(s,"value"));break;case 3:case 4:case 8:o=new _r(u(s,"data"));break;case 7:o=new _r(u(s,"data"));break;case 9:var a=u(s,"documentElement");o=new _r(a?u(a,"textContent"):"")}}else s instanceof Bn&&(o=s);o!=null&&n.push(o)}return n}function _i(e,t){return e.sort(function(e,n){var r=t.DOMAdapter.compareDocumentPosition(e,n);return r&2?1:r&4?-1:0})}function Di(e,t){var n="À-ÖØ-öø-˿",r="Ͱ-ͽͿ-῿‌-‍",i="⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�",o="A-Z_a-z\\-.0-9·"+n+"̀-ͯ"+r+"‿-⁀"+i,u="A-Z_a-z"+n+r+i;e=e.replace(/\[\\i-\[:\]\]/g,"["+u+"]").replace(/\[\\c-\[:\]\]/g,"["+o+"]").replace(/\\i/g,"[:"+u+"]").replace(/\\I/g,"[^:"+u+"]").replace(/\\c/g,"[:"+o+"]").replace(/\\C/g,"[^:"+o+"]");if(t&&!t.match(/^[smix]+$/))throw new S("FORX0001");var a=t.indexOf("s")>=0,f=t.indexOf("x")>=0;if(a||f){t=t.replace(/[sx]/g,"");var l=[],c=/\s/;for(var h=0,p=e.length,d=!1,v,m="";h<p;h++){v=e.charAt(h),m!="\\"&&(v=="["?d=!0:v=="]"&&(d=!1));if(d||!f||!c.test(v))!d&&a&&v=="."&&m!="\\"?l[l.length]="(?:.|\\s)":l[l.length]=v;m=v}e=l.join("")}return new s(e,t+"g")}function Bi(){}function Ki(t,n,r){if(typeof n=="undefined"||n===null)n="";var i=t[0];typeof i=="undefined"&&(i=null);var s=i&&(i.nodeType==9?i:i.ownerDocument).createElement("div").tagName=="DIV"?$i:Ji;s.namespaceResolver=r;var o=new H(e(n),s);s.namespaceResolver=null;var u,a=new zi,f=Fi;Xi?f=s==$i?qi:Ri:Vi&&s==$i&&(f=Ii),u=o.evaluate(new C(s,i,null,f));for(var l=0,c=u.length,h;l<c;l++)a.push(f.isNode(h=u[l])?h:k.xs2js(h));return a}var e=window.String,t=window.Boolean,n=window.Number,r=window.Object,i=window.Array,s=window.RegExp,o=window.Date,u=window.Function,a=window.Math,f=window.Error,l=window.SyntaxError,c=window.TypeError,h=window.isNaN,p=window.isFinite,d=window.NaN,v=window.Infinity,m=function(){return e.prototype.trim?function(t){return e(t).trim()}:function(t){return e(t).replace(/^\s+|\s+$/g,"")}}(),g=function(){return i.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}}(),y="http://www.w3.org/2001/XMLSchema",b="http://www.w3.org/2005/xpath-functions",w="http://www.w3.org/2000/xmlns/",E="http://www.w3.org/XML/1998/namespace";S.prototype=new f;var x={};x.XPDY0002="Evaluation of an expression relies on some part of the dynamic context that has not been assigned a value.",x.XPST0003="Expression is not a valid instance of the grammar",x.XPTY0004="Type is not appropriate for the context in which the expression occurs",x.XPST0008="Expression refers to an element name, attribute name, schema type name, namespace prefix, or variable name that is not defined in the static context",x.XPST0010="Axis not supported",x.XPST0017="Expanded QName and number of arguments in a function call do not match the name and arity of a function signature",x.XPTY0018="The result of the last step in a path expression contains both nodes and atomic values",x.XPTY0019="The result of a step (other than the last step) in a path expression contains an atomic value.",x.XPTY0020="In an axis step, the context item is not a node.",x.XPST0051="It is a static error if a QName that is used as an AtomicType in a SequenceType is not defined in the in-scope schema types as an atomic type.",x.XPST0081="A QName used in an expression contains a namespace prefix that cannot be expanded into a namespace URI by using the statically known namespaces.",x.FORG0001="Invalid value for cast/constructor.",x.FORG0003="fn:zero-or-one called with a sequence containing more than one item.",x.FORG0004="fn:one-or-more called with a sequence containing no items.",x.FORG0005="fn:exactly-one called with a sequence containing zero or more than one item.",x.FORG0006="Invalid argument type.",x.FODC0001="No context document.",x.FORX0001="Invalid regular expression flags.",x.FOCA0002="Invalid lexical value.",x.FOCH0002="Unsupported collation.",x.FONS0004="No namespace found for prefix.",T.prototype.index=0,T.prototype.length=0,T.prototype.reset=function(){this.index=0},T.prototype.peek=function(e){return this[this.index+(e||0)]||""},T.prototype.next=function(e){return(this.index+=e||1)<this.length},T.prototype.back=function(e){return(this.index-=e||1)>0},T.prototype.eof=function(){return this.index>=this.length},N.prototype.isNode=function(e){return e&&!!e.nodeType},N.prototype.getProperty=function(e,t){return e[t]},N.prototype.isSameNode=function(e,t){return e==t},N.prototype.compareDocumentPosition=function(e,t){return e.compareDocumentPosition(t)},N.prototype.lookupNamespaceURI=function(e,t){return e.lookupNamespaceURI(t)},N.prototype.getElementById=function(e,t){return e.getElementById(t)},N.prototype.getElementsByTagNameNS=function(e,t,n){return e.getElementsByTagNameNS(t,n)},C.prototype.item=null,C.prototype.position=0,C.prototype.size=0,C.prototype.scope=null,C.prototype.stack=null,C.prototype.dateTime=null,C.prototype.timezone=null,C.prototype.staticContext=null,C.prototype.pushVariable=function(e,t){this.stack.hasOwnProperty(e)||(this.stack[e]=[]),this.stack[e].push(this.scope[e]),this.scope[e]=t},C.prototype.popVariable=function(e){this.stack.hasOwnProperty(e)&&(this.scope[e]=this.stack[e].pop(),this.stack[e].length||(delete this.stack[e],typeof this.scope[e]=="undefined"&&delete this.scope[e]))},k.prototype.baseURI=null,k.prototype.dataTypes=null,k.prototype.documents=null,k.prototype.functions=null,k.prototype.defaultFunctionNamespace=null,k.prototype.collations=null,k.prototype.defaultCollationName=b+"/collation/codepoint",k.prototype.collections=null,k.prototype.namespaceResolver=null,k.prototype.defaultElementNamespace=null;var L=/^(?:\{([^\}]+)\})?(.+)$/;k.prototype.setDataType=function(e,t){var n=e.match(L);n&&n[1]!=y&&(this.dataTypes[e]=t)},k.prototype.getDataType=function(e){var t=e.match(L);if(t)return t[1]==y?M[s.$2]:this.dataTypes[e]},k.prototype.setDocument=function(e,t){this.documents[e]=t},k.prototype.setFunction=function(e,t){var n=e.match(L);n&&n[1]!=b&&(this.functions[e]=t)},k.prototype.getFunction=function(e){var t=e.match(L);if(t)return t[1]==b?A[s.$2]:this.functions[e]},k.prototype.setCollation=function(e,t){this.collations[e]=t},k.prototype.getCollation=function(e){return this.collations[e]},k.prototype.setCollection=function(e,t){this.collections[e]=t},k.prototype.getURIForPrefix=function(e){var t=this.namespaceResolver,n=t&&t.lookupNamespaceURI?t.lookupNamespaceURI:t,r;if(n instanceof u&&(r=n.call(t,e)))return r;if(e=="fn")return b;if(e=="xs")return y;if(e=="xml")return E;if(e=="xmlns")return w;throw new S("XPST0081","Prefix '"+e+"' has not been declared")},k.js2xs=function(t){return typeof t=="boolean"?t=new Un(t):typeof t=="number"?t=h(t)||!p(t)?new ir(t):Gt(e(t)):t=new Lr(e(t)),t},k.xs2js=function(e){return e instanceof Un?e=e.valueOf():jn(e)?e=e.valueOf():e=e.toString(),e};var A={},O={},M={},_={};H.prototype.internalExpression=null,H.prototype.evaluate=function(e){return this.internalExpression.evaluate(e)},B.prototype.equals=function(e,t){throw"Not implemented"},B.prototype.compare=function(e,t){throw"Not implemented"},j.ANYSIMPLETYPE_DT=1,j.STRING_DT=2,j.BOOLEAN_DT=3,j.DECIMAL_DT=4,j.FLOAT_DT=5,j.DOUBLE_DT=6,j.DURATION_DT=7,j.DATETIME_DT=8,j.TIME_DT=9,j.DATE_DT=10,j.GYEARMONTH_DT=11,j.GYEAR_DT=12,j.GMONTHDAY_DT=13,j.GDAY_DT=14,j.GMONTH_DT=15,j.HEXBINARY_DT=16,j.BASE64BINARY_DT=17,j.ANYURI_DT=18,j.QNAME_DT=19,j.NOTATION_DT=20,j.NORMALIZEDSTRING_DT=21,j.TOKEN_DT=22,j.LANGUAGE_DT=23,j.NMTOKEN_DT=24,j.NAME_DT=25,j.NCNAME_DT=26,j.ID_DT=27,j.IDREF_DT=28,j.ENTITY_DT=29,j.INTEGER_DT=30,j.NONPOSITIVEINTEGER_DT=31,j.NEGATIVEINTEGER_DT=32,j.LONG_DT=33,j.INT_DT=34,j.SHORT_DT=35,j.BYTE_DT=36,j.NONNEGATIVEINTEGER_DT=37,j.UNSIGNEDLONG_DT=38,j.UNSIGNEDINT_DT=39,j.UNSIGNEDSHORT_DT=40,j.UNSIGNEDBYTE_DT=41,j.POSITIVEINTEGER_DT=42,j.LISTOFUNION_DT=43,j.LIST_DT=44,j.UNAVAILABLE_DT=45,j.DATETIMESTAMP_DT=46,j.DAYMONTHDURATION_DT=47,j.DAYTIMEDURATION_DT=48,j.PRECISIONDECIMAL_DT=49,j.ANYATOMICTYPE_DT=50,j.ANYTYPE_DT=51,j.XT_YEARMONTHDURATION_DT=-1,j.XT_UNTYPEDATOMIC_DT=-2,F.prototype.items=null,F.prototype.evaluate=function(e){var t=[];for(var n=0,r=this.items.length;n<r;n++)t=_.concatenate.call(e,t,this.items[n].evaluate(e));return t},U.prototype.bindings=null,U.prototype.returnExpr=null,U.prototype.evaluate=function(e){var t=[];return function(n,r){var i=n.bindings[r++],s=i.inExpr.evaluate(e),o=(i.namespaceURI?"{"+i.namespaceURI+"}":"")+i.localName;for(var u=0,a=s.length;u<a;u++)e.pushVariable(o,s[u]),r<n.bindings.length?arguments.callee(n,r):t=t.concat(n.returnExpr.evaluate(e)),e.popVariable(o)}(this,0),t},W.prototype.prefix=null,W.prototype.localName=null,W.prototype.namespaceURI=null,W.prototype.inExpr=null,V.prototype.condExpr=null,V.prototype.thenExpr=null,V.prototype.elseExpr=null,V.prototype.evaluate=function(e){return this[Oi(this.condExpr.evaluate(e),e)?"thenExpr":"elseExpr"].evaluate(e)},J.prototype.bindings=null,J.prototype.quantifier=null,J.prototype.satisfiesExpr=null,J.prototype.evaluate=function(e){var t=this.quantifier=="every",n=t?!0:!1;return function(r,i){var s=r.bindings[i++],o=s.inExpr.evaluate(e),u=(s.namespaceURI?"{"+s.namespaceURI+"}":"")+s.localName;for(var a=0,f=o.length;a<f&&(t?n:!n);a++)e.pushVariable(u,o[a]),i<r.bindings.length?arguments.callee(r,i):n=Oi(r.satisfiesExpr.evaluate(e),e),e.popVariable(u)}(this,0),[new Un(n)]},Q.prototype.prefix=null,Q.prototype.localName=null,Q.prototype.namespaceURI=null,Q.prototype.inExpr=null,Y.prototype.left=null,Y.prototype.right=null,Y.prototype.operator=null,Y.prototype.evaluate=function(e){var t=ot[this.operator](this,e);return t==null?[]:[t]};var tt={"=":"eq","!=":"ne",">":"gt","<":"lt",">=":"ge","<=":"le"},rt={};rt.eq=function(e,t,n){var r="";if(jn(e))jn(t)&&(r="numeric-equal");else if(e instanceof Un)t instanceof Un&&(r="boolean-equal");else if(e instanceof Lr){if(t instanceof Lr)return _["numeric-equal"].call(n,A.compare.call(n,e,t),new Ir(0))}else e instanceof Wn?t instanceof Wn&&(r="date-equal"):e instanceof Ar?t instanceof Ar&&(r="time-equal"):e instanceof Kn?t instanceof Kn&&(r="dateTime-equal"):e instanceof or?t instanceof or&&(r="duration-equal"):e instanceof Er?t instanceof Er&&(r="gYearMonth-equal"):e instanceof br?t instanceof br&&(r="gYear-equal"):e instanceof gr?t instanceof gr&&(r="gMonthDay-equal"):e instanceof vr?t instanceof vr&&(r="gMonth-equal"):e instanceof pr?t instanceof pr&&(r="gDay-equal"):e instanceof Cr?t instanceof Cr&&(r="QName-equal"):e instanceof xr?t instanceof xr&&(r="hexBinary-equal"):e instanceof qn&&t instanceof qn&&(r="base64Binary-equal");if(r)return _[r].call(n,e,t);throw new S("XPTY0004","Cannot compare values of given types")},rt.ne=function(e,t,n){return new Un(!rt.eq(e,t,n).valueOf())},rt.gt=function(e,t,n){var r="";if(jn(e))jn(t)&&(r="numeric-greater-than");else if(e instanceof Un)t instanceof Un&&(r="boolean-greater-than");else if(e instanceof Lr){if(t instanceof Lr)return _["numeric-greater-than"].call(n,A.compare.call(n,e,t),new Ir(0))}else e instanceof Wn?t instanceof Wn&&(r="date-greater-than"):e instanceof Ar?t instanceof Ar&&(r="time-greater-than"):e instanceof Kn?t instanceof Kn&&(r="dateTime-greater-than"):e instanceof Dr?t instanceof Dr&&(r="yearMonthDuration-greater-than"):e instanceof Br&&t instanceof Br&&(r="dayTimeDuration-greater-than");if(r)return _[r].call(n,e,t);throw new S("XPTY0004","Cannot compare values of given types")},rt.lt=function(e,t,n){var r="";if(jn(e))jn(t)&&(r="numeric-less-than");else if(e instanceof Un)t instanceof Un&&(r="boolean-less-than");else if(e instanceof Lr){if(t instanceof Lr)return _["numeric-less-than"].call(n,A.compare.call(n,e,t),new Ir(0))}else e instanceof Wn?t instanceof Wn&&(r="date-less-than"):e instanceof Ar?t instanceof Ar&&(r="time-less-than"):e instanceof Kn?t instanceof Kn&&(r="dateTime-less-than"):e instanceof Dr?t instanceof Dr&&(r="yearMonthDuration-less-than"):e instanceof Br&&t instanceof Br&&(r="dayTimeDuration-less-than");if(r)return _[r].call(n,e,t);throw new S("XPTY0004","Cannot compare values of given types")},rt.ge=function(e,t,n){var r="";if(jn(e)){if(jn(t))return _["numeric-greater-than"].call(n,e,t)||_["numeric-equal"].call(n,e,t)}else if(e instanceof Un)t instanceof Un&&(r="boolean-less-than");else if(e instanceof Lr){if(t instanceof Lr)return _["numeric-greater-than"].call(n,A.compare.call(n,e,t),new Ir(-1))}else e instanceof Wn?t instanceof Wn&&(r="date-less-than"):e instanceof Ar?t instanceof Ar&&(r="time-less-than"):e instanceof Kn?t instanceof Kn&&(r="dateTime-less-than"):e instanceof Dr?t instanceof Dr&&(r="yearMonthDuration-less-than"):e instanceof Br&&t instanceof Br&&(r="dayTimeDuration-less-than");if(r)return new Un(!_[r].call(n,e,t).valueOf());throw new S("XPTY0004","Cannot compare values of given types")},rt.le=function(e,t,n){var r="";if(jn(e)){if(jn(t))return _["numeric-less-than"].call(n,e,t)||_["numeric-equal"].call(n,e,t)}else if(e instanceof Un)t instanceof Un&&(r="boolean-greater-than");else if(e instanceof Lr){if(t instanceof Lr)return _["numeric-less-than"].call(n,A.compare.call(n,e,t),new Ir(1))}else e instanceof Wn?t instanceof Wn&&(r="date-greater-than"):e instanceof Ar?t instanceof Ar&&(r="time-greater-than"):e instanceof Kn?t instanceof Kn&&(r="dateTime-greater-than"):e instanceof Dr?t instanceof Dr&&(r="yearMonthDuration-greater-than"):e instanceof Br&&t instanceof Br&&(r="dayTimeDuration-greater-than");if(r)return new Un(!_[r].call(n,e,t).valueOf());throw new S("XPTY0004","Cannot compare values of given types")};var st={};st.is=function(e,t,n){return _["is-same-node"].call(n,e,t)},st[">>"]=function(e,t,n){return _["node-after"].call(n,e,t)},st["<<"]=function(e,t,n){return _["node-before"].call(n,e,t)};var ot={"=":et,"!=":et,"<":et,"<=":et,">":et,">=":et,eq:nt,ne:nt,lt:nt,le:nt,gt:nt,ge:nt,is:it,">>":it,"<<":it};ut.prototype.left=null,ut.prototype.items=null;var at={};at["+"]=function(e,t,n){var r="",i=!1;jn(e)?jn(t)&&(r="numeric-add"):e instanceof Wn?t instanceof Dr?r="add-yearMonthDuration-to-date":t instanceof Br&&(r="add-dayTimeDuration-to-date"):e instanceof Dr?t instanceof Wn?(r="add-yearMonthDuration-to-date",i=!0):t instanceof Kn?(r="add-yearMonthDuration-to-dateTime",i=!0):t instanceof Dr&&(r="add-yearMonthDurations"):e instanceof Br?t instanceof Wn?(r="add-dayTimeDuration-to-date",i=!0):t instanceof Ar?(r="add-dayTimeDuration-to-time",i=!0):t instanceof Kn?(r="add-dayTimeDuration-to-dateTime",i=!0):t instanceof Br&&(r="add-dayTimeDurations"):e instanceof Ar?t instanceof Br&&(r="add-dayTimeDuration-to-time"):e instanceof Kn&&(t instanceof Dr?r="add-yearMonthDuration-to-dateTime":t instanceof Br&&(r="add-dayTimeDuration-to-dateTime"));if(r)return _[r].call(n,i?t:e,i?e:t);throw new S("XPTY0004","Arithmetic operator is not defined for provided arguments")},at["-"]=function(e,t,n){var r="";jn(e)?jn(t)&&(r="numeric-subtract"):e instanceof Wn?t instanceof Wn?r="subtract-dates":t instanceof Dr?r="subtract-yearMonthDuration-from-date":t instanceof Br&&(r="subtract-dayTimeDuration-from-date"):e instanceof Ar?t instanceof Ar?r="subtract-times":t instanceof Br&&(r="subtract-dayTimeDuration-from-time"):e instanceof Kn?t instanceof Kn?r="subtract-dateTimes":t instanceof Dr?r="subtract-yearMonthDuration-from-dateTime":t instanceof Br&&(r="subtract-dayTimeDuration-from-dateTime"):e instanceof Dr?t instanceof Dr&&(r="subtract-yearMonthDurations"):e instanceof Br&&t instanceof Br&&(r="subtract-dayTimeDurations");if(r)return _[r].call(n,e,t);throw new S("XPTY0004","Arithmetic operator is not defined for provided arguments")},ut.prototype.evaluate=function(e){var t=Mi(this.left.evaluate(e),e);if(!t.length)return[];cn(e,t,"?","first operand of '"+this.items[0][0]+"'");var n=t[0];n instanceof _r&&(n=ir.cast(n));for(var r=0,i=this.items.length,s,o;r<i;r++){s=Mi(this.items[r][1].evaluate(e),e);if(!s.length)return[];cn(e,s,"?","first operand of '"+this.items[r][0]+"'"),o=s[0],o instanceof _r&&(o=ir.cast(o)),n=at[this.items[r][0]](n,o,e)}return[n]},lt.prototype.left=null,lt.prototype.items=null;var ct={};ct["*"]=function(e,t,n){var r="",i=!1;jn(e)?jn(t)?r="numeric-multiply":t instanceof Dr?(r="multiply-yearMonthDuration",i=!0):t instanceof Br&&(r="multiply-dayTimeDuration",i=!0):e instanceof Dr?jn(t)&&(r="multiply-yearMonthDuration"):e instanceof Br&&jn(t)&&(r="multiply-dayTimeDuration");if(r)return _[r].call(n,i?t:e,i?e:t);throw new S("XPTY0004","Arithmetic operator is not defined for provided arguments")},ct.div=function(e,t,n){var r="";jn(e)?jn(t)&&(r="numeric-divide"):e instanceof Dr?jn(t)?r="divide-yearMonthDuration":t instanceof Dr&&(r="divide-yearMonthDuration-by-yearMonthDuration"):e instanceof Br&&(jn(t)?r="divide-dayTimeDuration":t instanceof Br&&(r="divide-dayTimeDuration-by-dayTimeDuration"));if(r)return _[r].call(n,e,t);throw new S("XPTY0004","Arithmetic operator is not defined for provided arguments")},ct.idiv=function(e,t,n){if(jn(e)&&jn(t))return _["numeric-integer-divide"].call(n,e,t);throw new S("XPTY0004","Arithmetic operator is not defined for provided arguments")},ct.mod=function(e,t,n){if(jn(e)&&jn(t))return _["numeric-mod"].call(n,e,t);throw new S("XPTY0004","Arithmetic operator is not defined for provided arguments")},lt.prototype.evaluate=function(e){var t=Mi(this.left.evaluate(e),e);if(!t.length)return[];cn(e,t,"?","first operand of '"+this.items[0][0]+"'");var n=t[0];n instanceof _r&&(n=ir.cast(n));for(var r=0,i=this.items.length,s,o;r<i;r++){s=Mi(this.items[r][1].evaluate(e),e);if(!s.length)return[];cn(e,s,"?","second operand of '"+this.items[r][0]+"'"),o=s[0],o instanceof _r&&(o=ir.cast(o)),n=ct[this.items[r][0]](n,o,e)}return[n]},pt.prototype.operator=null,pt.prototype.expression=null;var dt={};dt["-"]=function(e,t){if(jn(e))return _["numeric-unary-minus"].call(t,e);throw new S("XPTY0004","Arithmetic operator is not defined for provided arguments")},dt["+"]=function(e,t){if(jn(e))return _["numeric-unary-plus"].call(t,e);throw new S("XPTY0004","Arithmetic operator is not defined for provided arguments")},pt.prototype.evaluate=function(e){var t=Mi(this.expression.evaluate(e),e);if(!t.length)return[];cn(e,t,"?","second operand of '"+this.operator+"'");var n=t[0];return n instanceof _r&&(n=ir.cast(n)),[dt[this.operator](n,e)]},yt.prototype.left=null,yt.prototype.items=null,yt.prototype.evaluate=function(e){var t=Oi(this.left.evaluate(e),e);for(var n=0,r=this.items.length;n<r&&!t;n++)t=Oi(this.items[n].evaluate(e),e);return[new Un(t)]},wt.prototype.left=null,wt.prototype.items=null,wt.prototype.evaluate=function(e){var t=Oi(this.left.evaluate(e),e);for(var n=0,r=this.items.length;n<r&&t;n++)t=Oi(this.items[n].evaluate(e),e);return[new Un(t)]},St.prototype.predicates=null,St.prototype.applyPredicates=function(e,t){var n=t.item,r=t.position,i=t.size;for(var s=0,o,u=this.predicates.length;s<u;s++){o=e,e=[];for(var a=0,f,l=o.length;a<l;a++)t.item=o[a],t.position=a+1,t.size=l,f=this.predicates[s].evaluate(t),f.length==1&&jn(f[0])?f[0].valueOf()==a+1&&e.push(o[a]):Oi(f,t)&&e.push(o[a])}return t.item=n,t.position=r,t.size=i,e},Nt.prototype=new St,Nt.prototype.axis=null,Nt.prototype.test=null;var Ct={};Ct.attribute={},Ct.child={},Ct.descendant={},Ct["descendant-or-self"]={},Ct.following={},Ct["following-sibling"]={},Ct.self={},Ct.ancestor={},Ct["ancestor-or-self"]={},Ct.parent={},Ct.preceding={},Ct["preceding-sibling"]={},Nt.prototype.evaluate=function(e){var t=e.item;if(!e.DOMAdapter.isNode(t))throw new S("XPTY0020");var n=[],r=e.DOMAdapter.getProperty,i=r(t,"nodeType");switch(this.axis){case"attribute":if(i==1)for(var s=r(t,"attributes"),o=0,u=s.length;o<u;o++)n.push(s[o]);break;case"child":for(var a=r(t,"firstChild");a;a=r(a,"nextSibling"))n.push(a);break;case"descendant-or-self":n.push(t);case"descendant":Lt(r(t,"firstChild"),n,r);break;case"following":for(var f=t,l;f;f=r(f,"parentNode"))(l=r(f,"nextSibling"))&&Lt(l,n,r);break;case"following-sibling":for(var a=t;a=r(a,"nextSibling");)n.push(a);break;case"self":n.push(t);break;case"ancestor-or-self":n.push(t);case"ancestor":for(var a=i==2?r(t,"ownerElement"):t;a=r(a,"parentNode");)n.push(a);break;case"parent":var f=i==2?r(t,"ownerElement"):r(t,"parentNode");f&&n.push(f);break;case"preceding":for(var f=t,l;f;f=r(f,"parentNode"))(l=r(f,"previousSibling"))&&At(l,n,r);break;case"preceding-sibling":for(var a=t;a=r(a,"previousSibling");)n.push(a)}if(n.length&&!(this.test instanceof Pt&&this.test.name=="node")){var c=n;n=[];for(var o=0,u=c.length;o<u;o++)this.test.test(c[o],e)&&n.push(c[o])}n.length&&this.predicates.length&&(n=this.applyPredicates(n,e));switch(this.axis){case"ancestor":case"ancestor-or-self":case"parent":case"preceding":case"preceding-sibling":n.reverse()}return n},Ot.prototype.items=null,Ot.prototype.evaluate=function(e){var t=e.item,n=[t];for(var r=0,i=this.items.length,s;r<i;r++){s=[];for(var o=0,u=n.length;o<u;o++){e.item=n[o];for(var a=0,f=this.items[r].evaluate(e),l=f.length;a<l;a++){if(r<i-1&&!e.DOMAdapter.isNode(f[a]))throw new S("XPTY0019");g(s,f[a])==-1&&s.push(f[a])}}n=s}return e.item=t,_i(n,e)},Pt.prototype=new _t,Pt.prototype.name=null,Pt.prototype.args=null;var Ht={};Ht["document-node"]={},Ht.element={},Ht.attribute={},Ht["processing-instruction"]={},Ht.comment={},Ht.text={},Ht.node={},Ht["schema-element"]={},Ht["schema-attribute"]={},Pt.prototype.test=function(e,t){var n=t.DOMAdapter.getProperty,r=t.DOMAdapter.isNode(e)?n(e,"nodeType"):0;switch(this.name){case"node":return!!r;case"attribute":if(r!=2)return!1;break;case"document-node":return r==9;case"element":return r==1;case"processing-instruction":if(r!=7)return!1;break;case"comment":return r==8;case"text":return r==3||r==4;case"schema-attribute":throw"KindTest 'schema-attribute' not implemented";case"schema-element":throw"KindTest 'schema-element' not implemented"}return r==2?n(e,"prefix")!="xmlns"&&n(e,"localName")!="xmlns":r==7?n(e,"target")!="xml":!0},jt.prototype=new _t,jt.prototype.prefix=null,jt.prototype.localName=null,jt.prototype.namespaceURI=null;var Ft=/^(?:(?![0-9-])([\w-]+|\*)\:)?(?![0-9-])([\w-]+|\*)$/;jt.prototype.test=function(e,t){var n=t.DOMAdapter.getProperty,r=n(e,"nodeType");if(r==1||r==2){if(this.localName=="*")return(r==1||n(e,"prefix")!="xmlns"&&n(e,"localName")!="xmlns")&&(!this.prefix||n(e,"namespaceURI")==this.namespaceURI);if(this.localName==n(e,"localName"))return this.namespaceURI=="*"||r==2&&!this.prefix&&!n(e,"prefix")||n(e,"namespaceURI")==this.namespaceURI}return!1},Ut.prototype.evaluate=function(e){return this.expression?this.expression.evaluate(e):[]},Wt.prototype.evaluate=function(e){if(e.item==null)throw new S("XPDY0002","Dynamic context does not have context item initialized");return[e.item]},Vt.prototype.value=null,Vt.prototype.evaluate=function(e){return[this.value]},Jt.prototype=new Vt;var Kt=/^[+\-]?(?:(?:(\d+)(?:\.(\d*))?)|(?:\.(\d+)))(?:[eE]([+-])?(\d+))?$/;Yt.prototype=new Vt;var Zt=/^'([^']*(?:''[^']*)*)'|"([^"]*(?:""[^"]*)*)"$/;tn.prototype=new St,tn.prototype.expression=null,tn.prototype.evaluate=function(e){var t=this.expression.evaluate(e);return this.predicates.length&&t.length&&(t=this.applyPredicates(t,e)),t},rn.prototype.prefix=null,rn.prototype.localName=null,rn.prototype.namespaceURI=null,rn.prototype.evaluate=function(e){var t=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName;if(e.scope.hasOwnProperty(t))return[e.scope[t]];throw new S("XPST0008","Variable $"+(this.prefix?this.prefix+":":"")+this.localName+" has not been declared")},on.prototype.prefix=null,on.prototype.localName=null,on.prototype.namespaceURI=null,on.prototype.args=null,on.prototype.evaluate=function(e){var t=[],n,r;for(var s=0,o=this.args.length;s<o;s++)t.push(this.args[s].evaluate(e));var u=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName;if(this.namespaceURI==b){if(r=A[this.localName]){(n=O[this.localName])&&fn(this.localName,n,r,t,e);var a=r.apply(e,t);return a==null?[]:a instanceof i?a:[a]}throw new S("XPST0017","Unknown system function: "+u+"()")}if(this.namespaceURI==y){if((r=M[this.localName])&&this.localName!="NOTATION"&&this.localName!="anyAtomicType")return fn(this.localName,[[Bn]],r,t,e),[r.cast(t[0])];throw new S("XPST0017","Unknown type constructor function: "+u+"()")}if(r=e.staticContext.getFunction(u)){var a=r.apply(e,t);return a==null?[]:a instanceof i?a:[a]}throw new S("XPST0017","Unknown user function: "+u+"()")};var an=["first","second","third","fourth","fifth"];hn.prototype.left=null,hn.prototype.items=null,hn.prototype.evaluate=function(e){var t=this.left.evaluate(e);for(var n=0,r=this.items.length,i;n<r;n++)t=_[(i=this.items[n])[0]].call(e,t,i[1].evaluate(e));return t},dn.prototype.left=null,dn.prototype.right=null,dn.prototype.evaluate=function(e){var t=this.left.evaluate(e);if(!t.length)return[];var n="first operand of 'to'";cn(e,t,"?",n),ln(e,t,Ir,n);var r=this.right.evaluate(e);return r.length?(n="second operand of 'to'",cn(e,r,"?",n),ln(e,r,Ir,n),_.to.call(e,t[0],r[0])):[]},mn.prototype.left=null,mn.prototype.items=null,mn.prototype.evaluate=function(e){var t=this.left.evaluate(e);for(var n=0,r=this.items.length;n<r;n++)t=_.union.call(e,t,this.items[n].evaluate(e));return t},yn.prototype.expression=null,yn.prototype.type=null,yn.prototype.evaluate=function(e){var t=this.expression.evaluate(e),n=this.type.itemType,r=this.type.occurence;if(!n)return[new Un(!t.length)];if(!t.length)return[new Un(r=="?"||r=="*")];if(t.length!=1&&r!="+"&&r!="*")return[new Un(!1)];if(!n.test)return[new Un(!0)];var i=!0;for(var s=0,o=t.length;s<o&&i;s++)i=n.test.test(t[s],e);return[new Un(i)]},wn.prototype.expression=null,wn.prototype.type=null,wn.prototype.evaluate=function(e){var t=this.expression.evaluate(e),n=this.type.itemType,r=this.type.occurence;if(!n){if(t.length)throw new S("XPDY0050","The only value allowed for the value in 'treat as' expression is an empty sequence");return t}if(r!="?"&&r!="*"&&!t.length)throw new S("XPDY0050","An empty sequence is not allowed as the value in 'treat as' expression");if(r!="+"&&r!="*"&&t.length!=1)throw new S("XPDY0050","A sequence of more than one item is not allowed as the value in 'treat as' expression");if(!n.test)return t;for(var i=0,s=t.length;i<s;i++)if(!n.test.test(t[i],e))throw new S("XPDY0050","Required item type of value in 'treat as' expression is "+(n.test.prefix?n.test.prefix+":":"")+n.test.localName);return t},Sn.prototype.expression=null,Sn.prototype.type=null,Sn.prototype.evaluate=function(e){var t=this.expression.evaluate(e),n=this.type.itemType,r=this.type.occurence;if(t.length>1)return[new Un(!1)];if(!t.length)return[new Un(r=="?")];try{n.cast(Mi(t,e)[0])}catch(i){if(i.code=="XPST0051")throw i;if(i.code=="XPST0017")throw new S("XPST0080","No value is castable to "+(n.prefix?n.prefix+":":"")+n.localName);return[new Un(!1)]}return[new Un(!0)]},Tn.prototype.expression=null,Tn.prototype.type=null,Tn.prototype.evaluate=function(e){var t=this.expression.evaluate(e);return cn(e,t,this.type.occurence,"'cast as' expression operand"),t.length?[this.type.itemType.cast(Mi(t,e)[0],e)]:[]},Cn.prototype.prefix=null,Cn.prototype.localName=null,Cn.prototype.namespaceURI=null,Cn.prototype.test=function(e,t){var n=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName,r=this.namespaceURI==y?M[this.localName]:t.staticContext.getDataType(n);if(r)return e instanceof r;throw new S("XPST0051","Unknown simple type "+(this.prefix?this.prefix+":":"")+this.localName)},Cn.prototype.cast=function(e,t){var n=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName,r=this.namespaceURI==y?M[this.localName]:t.staticContext.getDataType(n);if(r)return r.cast(e);throw new S("XPST0051","Unknown atomic type "+(this.prefix?this.prefix+":":"")+this.localName)},Ln.prototype.test=null,On.prototype.itemType=null,On.prototype.occurence=null,_n.prototype.itemType=null,_n.prototype.occurence=null,Hn.prototype.builtInKind=j.ANYTYPE_DT,Hn.prototype=new Pn,Hn.prototype.builtInKind=j.ANYSIMPLETYPE_DT,Hn.prototype.primitiveKind=null,Hn.PRIMITIVE_ANYURI="anyURI",Hn.PRIMITIVE_BASE64BINARY="base64Binary",Hn.PRIMITIVE_BOOLEAN="boolean",Hn.PRIMITIVE_DATE="date",Hn.PRIMITIVE_DATETIME="dateTime",Hn.PRIMITIVE_DECIMAL="decimal",Hn.PRIMITIVE_DOUBLE="double",Hn.PRIMITIVE_DURATION="duration",Hn.PRIMITIVE_FLOAT="float",Hn.PRIMITIVE_GDAY="gDay",Hn.PRIMITIVE_GMONTH="gMonth",Hn.PRIMITIVE_GMONTHDAY="gMonthDay",Hn.PRIMITIVE_GYEAR="gYear",Hn.PRIMITIVE_GYEARMONTH="gYearMonth",Hn.PRIMITIVE_HEXBINARY="hexBinary",Hn.PRIMITIVE_NOTATION="NOTATION",Hn.PRIMITIVE_QNAME="QName",Hn.PRIMITIVE_STRING="string",Hn.PRIMITIVE_TIME="time",Bn.prototype=new Hn,Bn.prototype.builtInKind=j.ANYATOMICTYPE_DT,Bn.cast=function(e){throw new S("XPST0017","Abstract type used in constructor function xs:anyAtomicType")},P("anyAtomicType",Bn),Fn.prototype=new Bn,Fn.prototype.builtInKind=j.ANYURI_DT,Fn.prototype.primitiveKind=Hn.PRIMITIVE_ANYURI,Fn.prototype.scheme=null,Fn.prototype.authority=null,Fn.prototype.path=null,Fn.prototype.query=null,Fn.prototype.fragment=null,Fn.prototype.toString=function(){return(this.scheme?this.scheme+":":"")+(this.authority?"//"+this.authority:"")+(this.path?this.path:"")+(this.query?"?"+this.query:"")+(this.fragment?"#"+this.fragment:"")};var In=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;Fn.cast=function(e){if(e instanceof Fn)return e;if(e instanceof Lr||e instanceof _r){var t;if(t=m(e).match(In))return new Fn(t[2],t[4],t[5],t[7],t[9]);throw new S("FORG0001")}throw new S("XPTY0004","Casting value '"+e+"' to xs:anyURI can never succeed")},P("anyURI",Fn),qn.prototype=new Bn,qn.prototype.builtInKind=j.BASE64BINARY_DT,qn.prototype.primitiveKind=Hn.PRIMITIVE_BASE64BINARY,qn.prototype.value=null,qn.prototype.valueOf=function(){return this.value},qn.prototype.toString=function(){return this.value};var Rn=/^((([A-Za-z0-9+\/]\s*){4})*(([A-Za-z0-9+\/]\s*){3}[A-Za-z0-9+\/]|([A-Za-z0-9+\/]\s*){2}[AEIMQUYcgkosw048]\s*=|[A-Za-z0-9+\/]\s*[AQgw]\s*=\s*=))?$/;qn.cast=function(e){if(e instanceof qn)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(Rn);if(t)return new qn(t[0]);throw new S("FORG0001")}throw e instanceof xr?"Casting from 'xs:hexBinary' to 'xs:base64Binary' not implemented":new S("XPTY0004","Casting value '"+e+"' to xs:hexBinary can never succeed")},P("base64Binary",qn),Un.prototype=new Bn,Un.prototype.builtInKind=j.BOOLEAN_DT,Un.prototype.primitiveKind=Hn.PRIMITIVE_BOOLEAN,Un.prototype.value=null,Un.prototype.valueOf=function(){return this.value},Un.prototype.toString=function(){return e(this.value)};var zn=/^(0|1|true|false)$/;Un.cast=function(e){if(e instanceof Un)return e;if(e instanceof Lr||e instanceof _r){var t;if(t=m(e).match(zn))return new Un(t[1]=="1"||t[1]=="true");throw new S("FORG0001")}if(jn(e))return new Un(e!=0);throw new S("XPTY0004","Casting value '"+e+"' to xs:boolean can never succeed")},P("boolean",Un),Wn.prototype=new Bn,Wn.prototype.builtInKind=j.DATE_DT,Wn.prototype.primitiveKind=Hn.PRIMITIVE_DATE,Wn.prototype.year=null,Wn.prototype.month=null,Wn.prototype.day=null,Wn.prototype.timezone=null,Wn.prototype.negative=null,Wn.prototype.toString=function(){return Zn(this)+Yn(this)};var Xn=/^(-?)([1-9]\d\d\d+|0\d\d\d)-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;Wn.cast=function(e){if(e instanceof Wn)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(Xn);if(t){var n=+t[2],r=+t[3],i=+t[4];if(i-1<$n(n,r))return new Wn(n,r,i,t[5]?t[5]=="Z"?0:(t[6]=="-"?-1:1)*(t[7]*60+t[8]*1):null,t[1]=="-");throw new S("FORG0001","Invalid date '"+e+"' (Non-existent date)")}throw new S("FORG0001")}if(e instanceof Kn)return new Wn(e.year,e.month,e.day,e.timezone,e.negative);throw new S("XPTY0004","Casting value '"+e+"' to xs:date can never succeed")};var Vn=[31,28,31,30,31,30,31,31,30,31,30,31];P("date",Wn),Kn.prototype=new Bn,Kn.prototype.builtInKind=j.DATETIME_DT,Kn.prototype.primitiveKind=Hn.PRIMITIVE_DATETIME,Kn.prototype.year=null,Kn.prototype.month=null,Kn.prototype.day=null,Kn.prototype.hours=null,Kn.prototype.minutes=null,Kn.prototype.seconds=null,Kn.prototype.timezone=null,Kn.prototype.negative=null,Kn.prototype.toString=function(){return Zn(this)+"T"+er(this)+Yn(this)};var Qn=/^(-?)([1-9]\d\d\d+|0\d\d\d)-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])T(([01]\d|2[0-3]):([0-5]\d):([0-5]\d)(?:\.(\d+))?|(24:00:00)(?:\.(0+))?)(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;Kn.cast=function(e){if(e instanceof Kn)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(Qn);if(t){var r=+t[2],i=+t[3],s=+t[4],o=!!t[10];if(s-1<$n(r,i))return tr(new Kn(r,i,s,o?24:+t[6],o?0:+t[7],n((o?0:t[8])+"."+(o?0:t[9]||0)),t[12]?t[12]=="Z"?0:(t[13]=="-"?-1:1)*(t[14]*60+t[15]*1):null,t[1]=="-"));throw new S("FORG0001","Invalid date '"+e+"' (Non-existent date)")}throw new S("FORG0001")}if(e instanceof Wn)return new Kn(e.year,e.month,e.day,0,0,0,e.timezone,e.negative);throw new S("XPTY0004","Casting value '"+e+"' to xs:dateTime can never succeed")},P("dateTime",Kn),nr.prototype=new Bn,nr.prototype.builtInKind=j.DECIMAL_DT,nr.prototype.primitiveKind=Hn.PRIMITIVE_DECIMAL,nr.prototype.value=null,nr.prototype.valueOf=function(){return this.value},nr.prototype.toString=function(){return e(this.value)};var rr=/^[+\-]?((\d+(\.\d*)?)|(\.\d+))$/;nr.cast=function(e){if(e instanceof nr)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(rr);if(t)return new nr(+e);throw new S("FORG0001")}if(e instanceof Un)return new nr(e*1);if(jn(e)){if(h(e)||!p(e))throw new S("FOCA0002","Cannot convert '"+e+"' to xs:decimal");return new nr(+e)}throw new S("XPTY0004","Casting value '"+e+"' to xs:decimal can never succeed")},P("decimal",nr),ir.prototype=new Bn,ir.prototype.builtInKind=j.DOUBLE_DT,ir.prototype.primitiveKind=Hn.PRIMITIVE_DOUBLE,ir.prototype.value=null,ir.prototype.valueOf=function(){return this.value},ir.prototype.toString=function(){return e(this.value)};var sr=/^([+\-]?((\d+(\.\d*)?)|(\.\d+))([eE][+\-]?\d+)?|(-?INF)|NaN)$/;ir.cast=function(e){if(e instanceof ir)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(sr);if(t)return new ir(t[7]?+t[7].replace("INF","Infinity"):+e);throw new S("FORG0001")}if(e instanceof Un)return new ir(e*1);if(jn(e))return new ir(e.value);throw new S("XPTY0004","Casting value '"+e+"' to xs:double can never succeed")},P("double",ir),or.prototype=new Bn,or.prototype.builtInKind=j.DURATION_DT,or.prototype.primitiveKind=Hn.PRIMITIVE_DURATION,or.prototype.year=null,or.prototype.month=null,or.prototype.day=null,or.prototype.hours=null,or.prototype.minutes=null,or.prototype.seconds=null,or.prototype.negative=null,or.prototype.toString=function(){return(this.negative?"-":"")+"P"+(ar(this)+fr(this)||"T0S")};var ur=/^(-)?P(?:([0-9]+)Y)?(?:([0-9]+)M)?(?:([0-9]+)D)?(?:T(?:([0-9]+)H)?(?:([0-9]+)M)?(?:((?:(?:[0-9]+(?:.[0-9]*)?)|(?:.[0-9]+)))S)?)?$/;or.cast=function(e){if(e instanceof Dr)return new or(e.year,e.month,0,0,0,0,e.negative);if(e instanceof Br)return new or(0,0,e.day,e.hours,e.minutes,e.seconds,e.negative);if(e instanceof or)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(ur);if(t)return lr(new or(+t[2]||0,+t[3]||0,+t[4]||0,+t[5]||0,+t[6]||0,+t[7]||0,t[1]=="-"));throw new S("FORG0001")}throw new S("XPTY0004","Casting value '"+e+"' to xs:duration can never succeed")},P("duration",or),cr.prototype=new Bn,cr.prototype.builtInKind=j.FLOAT_DT,cr.prototype.primitiveKind=Hn.PRIMITIVE_FLOAT,cr.prototype.value=null,cr.prototype.valueOf=function(){return this.value},cr.prototype.toString=function(){return e(this.value)};var hr=/^([+\-]?((\d+(\.\d*)?)|(\.\d+))([eE][+\-]?\d+)?|(-?INF)|NaN)$/;cr.cast=function(e){if(e instanceof cr)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(hr);if(t)return new cr(t[7]?+t[7].replace("INF","Infinity"):+e);throw new S("FORG0001")}if(e instanceof Un)return new cr(e*1);if(jn(e))return new cr(e.value);throw new S("XPTY0004","Casting value '"+e+"' to xs:float can never succeed")},P("float",cr),pr.prototype=new Bn,pr.prototype.builtInKind=j.GDAY_DT,pr.prototype.primitiveKind=Hn.PRIMITIVE_GDAY,pr.prototype.day=null,pr.prototype.timezone=null,pr.prototype.toString=function(){return"---"+Gn(this.day)+Yn(this)};var dr=/^---(0[1-9]|[12]\d|3[01])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;pr.cast=function(e){if(e instanceof pr)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(dr);if(t){var n=+t[1];return new pr(n,t[2]?t[2]=="Z"?0:(t[3]=="-"?-1:1)*(t[4]*60+t[5]*1):null)}throw new S("FORG0001")}if(e instanceof Wn||e instanceof Kn)return new pr(e.day,e.timezone);throw new S("XPTY0004","Casting value '"+e+"' to xs:gDay can never succeed")},P("gDay",pr),vr.prototype=new Bn,vr.prototype.builtInKind=j.GMONTH_DT,vr.prototype.primitiveKind=Hn.PRIMITIVE_GMONTH,vr.prototype.month=null,vr.prototype.timezone=null,vr.prototype.toString=function(){return"--"+Gn(this.month)+Yn(this)};var mr=/^--(0[1-9]|1[0-2])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;vr.cast=function(e){if(e instanceof vr)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(mr);if(t){var n=+t[1];return new vr(n,t[2]?t[2]=="Z"?0:(t[3]=="-"?-1:1)*(t[4]*60+t[5]*1):null)}throw new S("FORG0001")}if(e instanceof Wn||e instanceof Kn)return new vr(e.month,e.timezone);throw new S("XPTY0004","Casting value '"+e+"' to xs:gMonth can never succeed")},P("gMonth",vr),gr.prototype=new Bn,gr.prototype.builtInKind=j.GMONTHDAY_DT,gr.prototype.primitiveKind=Hn.PRIMITIVE_GMONTHDAY,gr.prototype.month=null,gr.prototype.day=null,gr.prototype.timezone=null,gr.prototype.toString=function(){return"--"+Gn(this.month)+"-"+Gn(this.day)+Yn(this)};var yr=/^--(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;gr.cast=function(e){if(e instanceof gr)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(yr);if(t){var n=+t[1],r=+t[2];if(r-1<$n(1976,n))return new gr(n,r,t[3]?t[3]=="Z"?0:(t[4]=="-"?-1:1)*(t[5]*60+t[6]*1):null);throw new S("FORG0001","Invalid date '"+e+"' (Non-existent date)")}throw new S("FORG0001")}if(e instanceof Wn||e instanceof Kn)return new gr(e.month,e.day,e.timezone);throw new S("XPTY0004","Casting value '"+e+"' to xs:gMonthDay can never succeed")},P("gMonthDay",gr),br.prototype=new Bn,br.prototype.builtInKind=j.GYEAR_DT,br.prototype.primitiveKind=Hn.PRIMITIVE_GYEAR,br.prototype.year=null,br.prototype.timezone=null,br.prototype.toString=function(){return Gn(this.year)+Yn(this)};var wr=/^-?([1-9]\d\d\d+|0\d\d\d)(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;br.cast=function(e){if(e instanceof br)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(wr);if(t){var n=+t[1];return new br(n,t[2]?t[2]=="Z"?0:(t[3]=="-"?-1:1)*(t[4]*60+t[5]*1):null)}throw new S("FORG0001")}if(e instanceof Wn||e instanceof Kn)return new br(e.year,e.timezone);throw new S("XPTY0004","Casting value '"+e+"' to xs:gYear can never succeed")},P("gYear",br),Er.prototype=new Bn,Er.prototype.builtInKind=j.GYEARMONTH_DT,Er.prototype.primitiveKind=Hn.PRIMITIVE_GYEARMONTH,Er.prototype.year=null,Er.prototype.month=null,Er.prototype.timezone=null,Er.prototype.toString=function(){return Gn(this.year)+"-"+Gn(this.month)+Yn(this)};var Sr=/^-?([1-9]\d\d\d+|0\d\d\d)-(0[1-9]|1[0-2])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;Er.cast=function(e){if(e instanceof Er)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(Sr);if(t){var n=+t[1],r=+t[2];return new Er(n,r,t[3]?t[3]=="Z"?0:(t[4]=="-"?-1:1)*(t[5]*60+t[6]*1):null)}throw new S("FORG0001")}if(e instanceof Wn||e instanceof Kn)return new Er(e.year,e.month,e.timezone);throw new S("XPTY0004","Casting value '"+e+"' to xs:gYearMonth can never succeed")},P("gYearMonth",Er),xr.prototype=new Bn,xr.prototype.builtInKind=j.HEXBINARY_DT,xr.prototype.primitiveKind=Hn.PRIMITIVE_HEXBINARY,xr.prototype.value=null,xr.prototype.valueOf=function(){return this.value},xr.prototype.toString=function(){return this.value};var Tr=/^([0-9a-fA-F]{2})*$/;xr.cast=function(e){if(e instanceof xr)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(Tr);if(t)return new xr(t[0].toUpperCase());throw new S("FORG0001")}throw e instanceof qn?"Casting from 'xs:base64Binary' to 'xs:hexBinary' not implemented":new S("XPTY0004","Casting value '"+e+"' to xs:hexBinary can never succeed")},P("hexBinary",xr),Nr.prototype=new Bn,Nr.prototype.builtInKind=j.NOTATION_DT,Nr.prototype.primitiveKind=Hn.PRIMITIVE_NOTATION,Nr.cast=function(e){throw new S("XPST0017","Abstract type used in constructor function xs:NOTATION")},P("NOTATION",Nr),Cr.prototype=new Bn,Cr.prototype.builtInKind=j.QNAME_DT,Cr.prototype.primitiveKind=Hn.PRIMITIVE_QNAME,Cr.prototype.prefix=null,Cr.prototype.localName=null,Cr.prototype.namespaceURI=null,Cr.prototype.toString=function(){return(this.prefix?this.prefix+":":"")+this.localName};var kr=/^(?:(?![0-9-])([\w-]+)\:)?(?![0-9-])([\w-]+)$/;Cr.cast=function(e){if(e instanceof Cr)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(kr);if(t)return new Cr(t[1]||null,t[2],null);throw new S("FORG0001")}throw new S("XPTY0004","Casting value '"+e+"' to xs:QName can never succeed")},P("QName",Cr),Lr.prototype=new Bn,Lr.prototype.value=null,Lr.prototype.builtInKind=j.STRING_DT,Lr.prototype.primitiveKind=Hn.PRIMITIVE_STRING,Lr.prototype.valueOf=function(){return this.value},Lr.prototype.toString=function(){return this.value},Lr.cast=function(t){return new Lr(e(t))},P("string",Lr),Ar.prototype=new Bn,Ar.prototype.builtInKind=j.TIME_DT,Ar.prototype.primitiveKind=Hn.PRIMITIVE_TIME,Ar.prototype.hours=null,Ar.prototype.minutes=null,Ar.prototype.seconds=null,Ar.prototype.timezone=null,Ar.prototype.toString=function(){return er(this)+Yn(this)};var Or=/^(([01]\d|2[0-3]):([0-5]\d):([0-5]\d)(?:\.(\d+))?|(24:00:00)(?:\.(0+))?)(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;Ar.cast=function(e){if(e instanceof Ar)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(Or);if(t){var r=!!t[6];return new Ar(r?0:+t[2],r?0:+t[3],n((r?0:t[4])+"."+(r?0:t[5]||0)),t[8]?t[8]=="Z"?0:(t[9]=="-"?-1:1)*(t[10]*60+t[11]*1):null)}throw new S("FORG0001")}if(e instanceof Kn)return new Ar(e.hours,e.minutes,e.seconds,e.timezone);throw new S("XPTY0004","Casting value '"+e+"' to xs:time can never succeed")},P("time",Ar),_r.prototype=new Bn,_r.prototype.builtInKind=j.XT_UNTYPEDATOMIC_DT,_r.prototype.toString=function(){return e(this.value)},_r.cast=function(t){return t instanceof _r?t:new _r(e(t))},P("untypedAtomic",_r),Dr.prototype=new or,Dr.prototype.builtInKind=j.XT_YEARMONTHDURATION_DT,Dr.prototype.toString=function(){return(this.negative?"-":"")+"P"+(ar(this)||"0M")};var Pr=/^(-)?P(?:([0-9]+)Y)?(?:([0-9]+)M)?$/;Dr.cast=function(e){if(e instanceof Dr)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(Pr);if(t)return Hr(new Dr(+t[2]||0,+t[3]||0,t[1]=="-"));throw new S("FORG0001")}if(e instanceof Br)return new Dr(0,0);if(e instanceof or)return new Dr(e.year,e.month,e.negative);throw new S("XPTY0004","Casting value '"+e+"' to xs:yearMonthDuration can never succeed")},P("yearMonthDuration",Dr),Br.prototype=new or,Br.prototype.builtInKind=j.DAYTIMEDURATION_DT,Br.prototype.toString=function(){return(this.negative?"-":"")+"P"+(fr(this)||"T0S")};var jr=/^(-)?P(?:([0-9]+)D)?(?:T(?:([0-9]+)H)?(?:([0-9]+)M)?(?:((?:(?:[0-9]+(?:.[0-9]*)?)|(?:.[0-9]+)))S)?)?$/;Br.cast=function(e){if(e instanceof Br)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(jr);if(t)return Fr(new Br(+t[2]||0,+t[3]||0,+t[4]||0,+t[5]||0,t[1]=="-"));throw new S("FORG0001")}if(e instanceof Dr)return new Br(0,0,0,0);if(e instanceof or)return new Br(e.day,e.hours,e.minutes,e.seconds,e.negative);throw new S("XPTY0004","Casting value '"+e+"' to xs:dayTimeDuration can never succeed")},P("dayTimeDuration",Br),Ir.prototype=new nr,Ir.prototype.builtInKind=j.INTEGER_DT;var qr=/^[-+]?[0-9]+$/;Ir.cast=function(e){if(e instanceof Ir)return e;if(e instanceof Lr||e instanceof _r){var t=m(e).match(qr);if(t)return new Ir(~~e);throw new S("FORG0001")}if(e instanceof Un)return new Ir(e*1);if(jn(e)){if(h(e)||!p(e))throw new S("FOCA0002","Cannot convert '"+e+"' to xs:integer");return new Ir(~~e)}throw new S("XPTY0004","Casting value '"+e+"' to xs:integer can never succeed")},P("integer",Ir),Rr.prototype=new Ir,Rr.prototype.builtInKind=j.NONPOSITIVEINTEGER_DT,Rr.cast=function(e){return new Rr(n(e))},P("nonPositiveInteger",Rr),Ur.prototype=new Rr,Ur.prototype.builtInKind=j.NEGATIVEINTEGER_DT,Ur.cast=function(e){return new Ur(n(e))},P("negativeInteger",Ur),zr.prototype=new Ir,zr.prototype.builtInKind=j.LONG_DT,zr.cast=function(e){return new zr(n(e))},P("long",zr),Wr.prototype=new zr,Wr.prototype.builtInKind=j.INT_DT,Wr.cast=function(e){return new Wr(n(e))},P("int",Wr),Xr.prototype=new Wr,Xr.prototype.builtInKind=j.SHORT_DT,Xr.cast=function(e){return new Xr(n(e))},P("short",Xr),Vr.prototype=new Xr,Vr.prototype.builtInKind=j.BYTE_DT,Vr.cast=function(e){return new Vr(n(e))},P("byte",Vr),$r.prototype=new Ir,$r.prototype.builtInKind=j.NONNEGATIVEINTEGER_DT,$r.cast=function(e){return new $r(n(e))},P("nonNegativeInteger",$r),Jr.prototype=new $r,Jr.prototype.builtInKind=j.POSITIVEINTEGER_DT,Jr.cast=function(e){return new Jr(n(e))},P("positiveInteger",Jr),Kr.prototype=new $r,Kr.prototype.builtInKind=j.UNSIGNEDLONG_DT,Kr.cast=function(e){return new Kr(n(e))},P("unsignedLong",Kr),Qr.prototype=new $r,Qr.prototype.builtInKind=j.UNSIGNEDINT_DT,Qr.cast=function(e){return new Qr(n(e))},P("unsignedInt",Qr),Gr.prototype=new Qr,Gr.prototype.builtInKind=j.UNSIGNEDSHORT_DT,Gr.cast=function(e){return new Gr(n(e))},P("unsignedShort",Gr),Yr.prototype=new Gr,Yr.prototype.builtInKind=j.UNSIGNEDBYTE_DT,Yr.cast=function(e){return new Yr(n(e))},P("unsignedByte",Yr),Zr.prototype=new Lr,Zr.prototype.builtInKind=j.NORMALIZEDSTRING_DT,Zr.cast=function(t){return new Zr(e(t))},P("normalizedString",Zr),ei.prototype=new Zr,ei.prototype.builtInKind=j.TOKEN_DT,ei.cast=function(t){return new ei(e(t))},P("token",ei),ti.prototype=new ei,ti.prototype.builtInKind=j.NAME_DT,ti.cast=function(t){return new ti(e(t))},P("Name",ti),ni.prototype=new ti,ni.prototype.builtInKind=j.NCNAME_DT,ni.cast=function(t){return new ni(e(t))},P("NCName",ni),ri.prototype=new ni,ri.prototype.builtInKind=j.ENTITY_DT,ri.cast=function(t){return new ri(e(t))},P("ENTITY",ri),ii.prototype=new ni,ii.prototype.builtInKind=j.ID_DT,ii.cast=function(t){return new ii(e(t))},P("ID",ii),si.prototype=new ei,si.prototype.builtInKind=j.LANGUAGE_DT,si.cast=function(t){return new si(e(t))},P("language",si),oi.prototype=new ei,oi.prototype.builtInKind=j.NMTOKEN_DT,oi.cast=function(t){return new oi(e(t))},P("NMTOKEN",oi),ai.prototype=new ui,fi.prototype=new ai,li.prototype=new ai,ci.prototype=new ai,hi.prototype=new ai,pi.prototype=new ai,di.prototype=new ai,_["hexBinary-equal"]=function(e,t){return new Un(e.valueOf()==t.valueOf())},_["base64Binary-equal"]=function(e,t){return new Un(e.valueOf()==t.valueOf())},_["boolean-equal"]=function(e,t){return new Un(e.valueOf()==t.valueOf())},_["boolean-less-than"]=function(e,t){return new Un(e.valueOf()<t.valueOf())},_["boolean-greater-than"]=function(e,t){return new Un(e.valueOf()>t.valueOf())},_["yearMonthDuration-less-than"]=function(e,t){return new Un(Si(e)<Si(t))},_["yearMonthDuration-greater-than"]=function(e,t){return new Un(Si(e)>Si(t))},_["dayTimeDuration-less-than"]=function(e,t){return new Un(wi(e)<wi(t))},_["dayTimeDuration-greater-than"]=function(e,t){return new Un(wi(e)>wi(t))},_["duration-equal"]=function(e,t){return new Un(e.negative==t.negative&&Si(e)==Si(t)&&wi(e)==wi(t))},_["dateTime-equal"]=function(e,t){return gi(e,t,"eq")},_["dateTime-less-than"]=function(e,t){return gi(e,t,"lt")},_["dateTime-greater-than"]=function(e,t){return gi(e,t,"gt")},_["date-equal"]=function(e,t){return mi(e,t,"eq")},_["date-less-than"]=function(e,t){return mi(e,t,"lt")},_["date-greater-than"]=function(e,t){return mi(e,t,"gt")},_["time-equal"]=function(e,t){return vi(e,t,"eq")},_["time-less-than"]=function(e,t){return vi(e,t,"lt")},_["time-greater-than"]=function(e,t){return vi(e,t,"gt")},_["gYearMonth-equal"]=function(e,t){return gi(new Kn(e.year,e.month,$n(e.year,e.month),0,0,0,e.timezone==null?this.timezone:e.timezone),new Kn(t.year,t.month,$n(t.year,t.month),0,0,0,t.timezone==null?this.timezone:t.timezone),"eq")},_["gYear-equal"]=function(e,t){return gi(new Kn(e.year,1,1,0,0,0,e.timezone==null?this.timezone:e.timezone),new Kn(t.year,1,1,0,0,0,t.timezone==null?this.timezone:t.timezone),"eq")},_["gMonthDay-equal"]=function(e,t){return gi(new Kn(1972,e.month,e.day,0,0,0,e.timezone==null?this.timezone:e.timezone),new Kn(1972,t.month,t.day,0,0,0,t.timezone==null?this.timezone:t.timezone),"eq")},_["gMonth-equal"]=function(e,t){return gi(new Kn(1972,e.month,$n(1972,t.month),0,0,0,e.timezone==null?this.timezone:e.timezone),new Kn(1972,t.month,$n(1972,t.month),0,0,0,t.timezone==null?this.timezone:t.timezone),"eq")},_["gDay-equal"]=function(e,t){return gi(new Kn(1972,12,e.day,0,0,0,e.timezone==null?this.timezone:e.timezone),new Kn(1972,12,t.day,0,0,0,t.timezone==null?this.timezone:t.timezone),"eq")},_["add-yearMonthDurations"]=function(e,t){return xi(Si(e)+Si(t))},_["subtract-yearMonthDurations"]=function(e,t){return xi(Si(e)-Si(t))},_["multiply-yearMonthDuration"]=function(e,t){return xi(Si(e)*t)},_["divide-yearMonthDuration"]=function(e,t){return xi(Si(e)/t)},_["divide-yearMonthDuration-by-yearMonthDuration"]=function(e,t){return new nr(Si(e)/Si(t))},_["add-dayTimeDurations"]=function(e,t){return Ei(wi(e)+wi(t))},_["subtract-dayTimeDurations"]=function(e,t){return Ei(wi(e)-wi(t))},_["multiply-dayTimeDuration"]=function(e,t){return Ei(wi(e)*t)},_["divide-dayTimeDuration"]=function(e,t){return Ei(wi(e)/t)},_["divide-dayTimeDuration-by-dayTimeDuration"]=function(e,t){return new nr(wi(e)/wi(t))},_["subtract-dateTimes"]=function(e,t){throw"Operator function 'subtract-dateTimes' not implemented"},_["subtract-dates"]=function(e,t){throw"Operator function 'subtract-dates' not implemented"},_["subtract-times"]=function(e,t){return Ei(Ti(e)-Ti(t))},_["add-yearMonthDuration-to-dateTime"]=function(e,t){return yi(e,t,"+")},_["add-dayTimeDuration-to-dateTime"]=function(e,t){return bi(e,t,"+")},_["subtract-yearMonthDuration-from-dateTime"]=function(e,t){return yi(e,t,"-")},_["subtract-dayTimeDuration-from-dateTime"]=function(e,t){return bi(e,t,"-")},_["add-yearMonthDuration-to-date"]=function(e,t){return yi(e,t,"+")},_["add-dayTimeDuration-to-date"]=function(e,t){return bi(e,t,"+")},_["subtract-yearMonthDuration-from-date"]=function(e,t){return yi(e,t,"-")},_["subtract-dayTimeDuration-from-date"]=function(e,t){return bi(e,t,"-")},_["add-dayTimeDuration-to-time"]=function(e,t){var n=new Ar(e.hours,e.minutes,e.seconds,e.timezone);return n.hours+=t.hours,n.minutes+=t.minutes,n.seconds+=t.seconds,Mr(n)},_["subtract-dayTimeDuration-from-time"]=function(e,t){var n=new Ar(e.hours,e.minutes,e.seconds,e.timezone);return n.hours-=t.hours,n.minutes-=t.minutes,n.seconds-=t.seconds,Mr(n)},_["is-same-node"]=function(e,t){return new Un(this.DOMAdapter.isSameNode(e,t))},_["node-before"]=function(e,t){return new Un(!!(this.DOMAdapter.compareDocumentPosition(e,t)&4))},_["node-after"]=function(e,t){return new Un(!!(this.DOMAdapter.compareDocumentPosition(e,t)&2))},_["numeric-add"]=function(e,t){var n=e.valueOf(),r=t.valueOf(),i=a.pow(10,Ni(n,r));return Ci(e,t,(n*i+r*i)/i)},_["numeric-subtract"]=function(e,t){var n=e.valueOf(),r=t.valueOf(),i=a.pow(10,Ni(n,r));return Ci(e,t,(n*i-r*i)/i)},_["numeric-multiply"]=function(e,t){var n=e.valueOf(),r=t.valueOf(),i=a.pow(10,Ni(n,r));return Ci(e,t,n*i*r*i/(i*i))},_["numeric-divide"]=function(e,t){var n=e.valueOf(),r=t.valueOf(),i=a.pow(10,Ni(n,r));return Ci(e,t,e*i/(t*i))},_["numeric-integer-divide"]=function(e,t){return new Ir(~~(e/t))},_["numeric-mod"]=function(e,t){var n=e.valueOf(),r=t.valueOf(),i=a.pow(10,Ni(n,r));return Ci(e,t,n*i%(r*i)/i)},_["numeric-unary-plus"]=function(e){return e},_["numeric-unary-minus"]=function(e){return e.value*=-1,e},_["numeric-equal"]=function(e,t){return new Un(e.valueOf()==t.valueOf())},_["numeric-less-than"]=function(e,t){return new Un(e.valueOf()<t.valueOf())},_["numeric-greater-than"]=function(e,t){return new Un(e.valueOf()>t.valueOf())},_["QName-equal"]=function(e,t){return new Un(e.localName==t.localName&&e.namespaceURI==t.namespaceURI)},_.concatenate=function(e,t){return e.concat(t)},_.union=function(e,t){var n=[];for(var r=0,i=e.length,s;r<i;r++){if(!this.DOMAdapter.isNode(s=e[r]))throw new S("XPTY0004","Required item type of first operand of 'union' is node()");g(n,s)==-1&&n.push(s)}for(var r=0,i=t.length,s;r<i;r++){if(!this.DOMAdapter.isNode(s=t[r]))throw new S("XPTY0004","Required item type of second operand of 'union' is node()");g(n,s)==-1&&n.push(s)}return _i(n,this)},_.intersect=function(e,t){var n=[];for(var r=0,i=e.length,s,o;r<i;r++){if(!this.DOMAdapter.isNode(s=e[r]))throw new S("XPTY0004","Required item type of second operand of 'intersect' is node()");o=!1;for(var u=0,a=t.length;u<a&&!o;u++){if(!this.DOMAdapter.isNode(t[u]))throw new S("XPTY0004","Required item type of first operand of 'intersect' is node()");o=this.DOMAdapter.isSameNode(t[u],s)}o&&g(n,s)==-1&&n.push(s)}return _i(n,this)},_.except=function(e,t){var n=[];for(var r=0,i=e.length,s,o;r<i;r++){if(!this.DOMAdapter.isNode(s=e[r]))throw new S("XPTY0004","Required item type of second operand of 'except' is node()");o=!1;for(var u=0,a=t.length;u<a&&!o;u++){if(!this.DOMAdapter.isNode(t[u]))throw new S("XPTY0004","Required item type of first operand of 'except' is node()");o=this.DOMAdapter.isSameNode(t[u],s)}!o&&g(n,s)==-1&&n.push(s)}return _i(n,this)},_.to=function(e,t){var n=[];for(var r=e.valueOf(),i=t.valueOf();r<=i;r++)n.push(new Ir(r));return n},D("node-name",[[ai,"?"]],function(e){if(e!=null){var t=this.DOMAdapter.getProperty;switch(t(e,"nodeType")){case 1:case 2:return new Cr(t(e,"prefix"),t(e,"localName"),t(e,"namespaceURI"));case 5:throw"Not implemented";case 6:throw"Not implemented";case 7:return new Cr(null,t(e,"target"),null);case 10:return new Cr(null,t(e,"name"),null)}}return null}),D("nilled",[[ai,"?"]],function(e){return e!=null&&this.DOMAdapter.getProperty(e,"nodeType")==1?new Un(!1):null}),D("string",[[ui,"?",!0]],function(e){if(!arguments.length){if(!this.item)throw new S("XPDY0002");e=this.item}return e==null?new Lr(""):Lr.cast(Mi([e],this)[0])}),D("data",[[ui,"*"]],function(e){return Mi(e,this)}),D("base-uri",[[ai,"?",!0]],function(e){if(!arguments.length){if(!this.DOMAdapter.isNode(this.item))throw new S("XPTY0004","base-uri() function called when the context item is not a node");e=this.item}return Fn.cast(new Lr(this.DOMAdapter.getProperty(e,"baseURI")||""))}),D("document-uri",[[ai,"?"]],function(e){if(e!=null){var t=this.DOMAdapter.getProperty;if(t(e,"nodeType")==9)return Fn.cast(new Lr(t(e,"documentURI")||""))}return null}),D("resolve-uri",[[Lr,"?"],[Lr,"",!0]],function(e,t){var t;if(arguments.length<2){if(!this.DOMAdapter.isNode(this.item))throw new S("XPTY0004","resolve-uri() function called when the context item is not a node");t=new Lr(this.DOMAdapter.getProperty(this.item,"baseURI")||"")}if(e==null)return null;if(e.valueOf()==""||e.valueOf().charAt(0)=="#")return Fn.cast(t);var n=Fn.cast(e);if(n.scheme)return n;var r=Fn.cast(t);n.scheme=r.scheme;if(!n.authority){n.authority=r.authority;if(n.path.charAt(0)!="/"){var i=n.path.split("/"),s=r.path.split("/");s.pop();var o=s[0]==""?1:0;for(var u=0,a=i.length;u<a;u++)i[u]==".."?s.length>o?s.pop():(s.push(i[u]),o++):i[u]!="."&&s.push(i[u]);(i[--u]==".."||i[u]==".")&&s.push(""),n.path=s.join("/")}}return n}),D("true",[],function(){return new Un(!0)}),D("false",[],function(){return new Un(!1)}),D("not",[[ui,"*"]],function(e){return new Un(!Oi(e,this))}),D("position",[],function(){return new Ir(this.position)}),D("last",[],function(){return new Ir(this.size)}),D("current-dateTime",[],function(){return this.dateTime}),D("current-date",[],function(){return Wn.cast(this.dateTime)}),D("current-time",[],function(){return Ar.cast(this.dateTime)}),D("implicit-timezone",[],function(){return this.timezone}),D("default-collation",[],function(){return new Lr(this.staticContext.defaultCollationName)}),D("static-base-uri",[],function(){return Fn.cast(new Lr(this.staticContext.baseURI||""))}),D("years-from-duration",[[or,"?"]],function(e){return ki(e,"year")}),D("months-from-duration",[[or,"?"]],function(e){return ki(e,"month")}),D("days-from-duration",[[or,"?"]],function(e){return ki(e,"day")}),D("hours-from-duration",[[or,"?"]],function(e){return ki(e,"hours")}),D("minutes-from-duration",[[or,"?"]],function(e){return ki(e,"minutes")}),D("seconds-from-duration",[[or,"?"]],function(e){return ki(e,"seconds")}),D("year-from-dateTime",[[Kn,"?"]],function(e){return Li(e,"year")}),D("month-from-dateTime",[[Kn,"?"]],function(e){return Li(e,"month")}),D("day-from-dateTime",[[Kn,"?"]],function(e){return Li(e,"day")}),D("hours-from-dateTime",[[Kn,"?"]],function(e){return Li(e,"hours")}),D("minutes-from-dateTime",[[Kn,"?"]],function(e){return Li(e,"minutes")}),D("seconds-from-dateTime",[[Kn,"?"]],function(e){return Li(e,"seconds")}),D("timezone-from-dateTime",[[Kn,"?"]],function(e){return Li(e,"timezone")}),D("year-from-date",[[Wn,"?"]],function(e){return Li(e,"year")}),D("month-from-date",[[Wn,"?"]],function(e){return Li(e,"month")}),D("day-from-date",[[Wn,"?"]],function(e){return Li(e,"day")}),D("timezone-from-date",[[Wn,"?"]],function(e){return Li(e,"timezone")}),D("hours-from-time",[[Ar,"?"]],function(e){return Li(e,"hours")}),D("minutes-from-time",[[Ar,"?"]],function(e){return Li(e,"minutes")}),D("seconds-from-time",[[Ar,"?"]],function(e){return Li(e,"seconds")}),D("timezone-from-time",[[Ar,"?"]],function(e){return Li(e,"timezone")}),D("adjust-dateTime-to-timezone",[[Kn,"?"],[Br,"?",!0]],function(e,t){return Ai(e,arguments.length>1&&t!=null?arguments.length>1?t:this.timezone:null)}),D("adjust-date-to-timezone",[[Wn,"?"],[Br,"?",!0]],function(e,t){return Ai(e,arguments.length>1&&t!=null?arguments.length>1?t:this.timezone:null)}),D("adjust-time-to-timezone",[[Ar,"?"],[Br,"?",!0]],function(e,t){return Ai(e,arguments.length>1&&t!=null?arguments.length>1?t:this.timezone:null)}),D("name",[[ai,"?",!0]],function(e){if(!arguments.length){if(!this.DOMAdapter.isNode(this.item))throw new S("XPTY0004","name() function called when the context item is not a node");e=this.item}else if(e==null)return new Lr("");var t=A["node-name"].call(this,e);return new Lr(t==null?"":t.toString())}),D("local-name",[[ai,"?",!0]],function(e){if(!arguments.length){if(!this.DOMAdapter.isNode(this.item))throw new S("XPTY0004","local-name() function called when the context item is not a node");e=this.item}else if(e==null)return new Lr("");return new Lr(this.DOMAdapter.getProperty(e,"localName")||"")}),D("namespace-uri",[[ai,"?",!0]],function(e){if(!arguments.length){if(!this.DOMAdapter.isNode(this.item))throw new S("XPTY0004","namespace-uri() function called when the context item is not a node");e=this.item}else if(e==null)return Fn.cast(new Lr(""));return Fn.cast(new Lr(this.DOMAdapter.getProperty(e,"namespaceURI")||""))}),D("number",[[Bn,"?",!0]],function(e){if(!arguments.length){if(!this.item)throw new S("XPDY0002");e=Mi([this.item],this)[0]}var t=new ir(d);if(e!=null)try{t=ir.cast(e)}catch(n){}return t}),D("lang",[[Lr,"?"],[ai,"",!0]],function(e,t){if(arguments.length<2){if(!this.DOMAdapter.isNode(this.item))throw new S("XPTY0004","lang() function called when the context item is not a node");t=this.item}var n=this.DOMAdapter.getProperty;n(t,"nodeType")==2&&(t=n(t,"ownerElement"));for(var r;t;t=n(t,"parentNode"))if(r=n(t,"attributes"))for(var i=0,s=r.length;i<s;i++)if(n(r[i],"nodeName")=="xml:lang")return new Un(n(r[i],"value").replace(/-.+/,"").toLowerCase()==e.valueOf().replace(/-.+/,"").toLowerCase());return new Un(!1)}),D("root",[[ai,"?",!0]],function(e){if(!arguments.length){if(!this.DOMAdapter.isNode(this.item))throw new S("XPTY0004","root() function called when the context item is not a node");e=this.item}else if(e==null)return null;var t=this.DOMAdapter.getProperty;t(e,"nodeType")==2&&(e=t(e,"ownerElement"));for(var n=e;n;n=t(e,"parentNode"))e=n;return e}),D("abs",[[ir,"?"]],function(e){return new nr(a.abs(e))}),D("ceiling",[[ir,"?"]],function(e){return new nr(a.ceil(e))}),D("floor",[[ir,"?"]],function(e){return new nr(a.floor(e))}),D("round",[[ir,"?"]],function(e){return new nr(a.round(e))}),D("round-half-to-even",[[ir,"?"],[Ir,"",!0]],function(e,t){var n=arguments.length>1?t.valueOf():0;if(n<0){var r=new Ir(a.pow(10,-n)),i=a.round(_["numeric-divide"].call(this,e,r)),s=new Ir(i);return nDecimal=a.abs(_["numeric-subtract"].call(this,s,_["numeric-divide"].call(this,e,r))),_["numeric-multiply"].call(this,_["numeric-add"].call(this,s,new nr(nDecimal==.5&&i%2?-1:0)),r)}var r=new Ir(a.pow(10,n)),i=a.round(_["numeric-multiply"].call(this,e,r)),s=new Ir(i);return nDecimal=a.abs(_["numeric-subtract"].call(this,s,_["numeric-multiply"].call(this,e,r))),_["numeric-divide"].call(this,_["numeric-add"].call(this,s,new nr(nDecimal==.5&&i%2?-1:0)),r)}),D("resolve-QName",[[Lr,"?"],[hi]],function(e,t){if(e==null)return null;var n=e.valueOf(),r=n.match(kr);if(!r)throw new S("FOCA0002","Invalid QName '"+n+"'");var i=r[1]||null,s=r[2],o=this.DOMAdapter.lookupNamespaceURI(t,i);if(i!=null&&!o)throw new S("FONS0004","Namespace prefix '"+i+"' has not been declared");return new Cr(i,s,o||null)}),D("QName",[[Lr,"?"],[Lr]],function(e,t){var n=t.valueOf(),r=n.match(kr);if(!r)throw new S("FOCA0002","Invalid QName '"+n+"'");return new Cr(r[1]||null,r[2]||null,e==null?"":e.valueOf())}),D("prefix-from-QName",[[Cr,"?"]],function(e){return e!=null&&e.prefix?new ni(e.prefix):null}),D("local-name-from-QName",[[Cr,"?"]],function(e){return e==null?null:new ni(e.localName)}),D("namespace-uri-from-QName",[[Cr,"?"]],function(e){return e==null?null:Fn.cast(new Lr(e.namespaceURI||""))}),D("namespace-uri-for-prefix",[[Lr,"?"],[hi]],function(e,t){var n=e==null?"":e.valueOf(),r=this.DOMAdapter.lookupNamespaceURI(t,n||null);return r==null?null:Fn.cast(new Lr(r))}),D("in-scope-prefixes",[[hi]],function(e){throw"Function 'in-scope-prefixes' not implemented"}),D("boolean",[[ui,"*"]],function(e){return new Un(Oi(e,this))}),D("index-of",[[Bn,"*"],[Bn],[Lr,"",!0]],function(e,t,n){if(!e.length||t==null)return[];var r=t;r instanceof _r&&(r=Lr.cast(r));var i=[];for(var s=0,o=e.length,u;s<o;s++)u=e[s],u instanceof _r&&(u=Lr.cast(u)),u.valueOf()===r.valueOf()&&i.push(new Ir(s+1));return i}),D("empty",[[ui,"*"]],function(e){return new Un(!e.length)}),D("exists",[[ui,"*"]],function(e){return new Un(!!e.length)}),D("distinct-values",[[Bn,"*"],[Lr,"",!0]],function(e,t){if(!e.length)return null;var n=[];for(var r=0,i=e.length,s;r<i;r++){s=e[r],s instanceof _r&&(s=Lr.cast(s));for(var o=0,u=n.length,a,f=!1;o<u&&!f;o++)a=n[o],a instanceof _r&&(a=Lr.cast(a)),a.valueOf()===s.valueOf()&&(f=!0);f||n.push(e[r])}return n}),D("insert-before",[[ui,"*"],[Ir],[ui,"*"]],function(e,t,n){if(!e.length)return n;if(!n.length)return e;var r=e.length,i=t.valueOf();i<1?i=1:i>r&&(i=r+1);var s=[];for(var o=0;o<r;o++)i==o+1&&(s=s.concat(n)),s.push(e[o]);return i==o+1&&(s=s.concat(n)),s}),D("remove",[[ui,"*"],[Ir]],function(e,t){if(!e.length)return[];var n=e.length,r=t.valueOf();if(r<1||r>n)return e;var i=[];for(var s=0;s<n;s++)r!=s+1&&i.push(e[s]);return i}),D("reverse",[[ui,"*"]],function(e){return e.reverse(),e}),D("subsequence",[[ui,"*"],[ir,""],[ir,"",!0]],function(e,t,n){var r=a.round(t),i=arguments.length>2?a.round(n):e.length-r+1;return e.slice(r-1,r-1+i)}),D("unordered",[[ui,"*"]],function(e){return e}),D("zero-or-one",[[ui,"*"]],function(e){if(e.length>1)throw new S("FORG0003");return e}),D("one-or-more",[[ui,"*"]],function(e){if(!e.length)throw new S("FORG0004");return e}),D("exactly-one",[[ui,"*"]],function(e){if(e.length!=1)throw new S("FORG0005");return e}),D("deep-equal",[[ui,"*"],[ui,"*"],[Lr,"",!0]],function(e,t,n){throw"Function 'deep-equal' not implemented"}),D("count",[[ui,"*"]],function(e){return new Ir(e.length)}),D("avg",[[Bn,"*"]],function(e){if(!e.length)return null;try{var t=e[0];t instanceof _r&&(t=ir.cast(t));for(var n=1,r=e.length,i;n<r;n++)i=e[n],i instanceof _r&&(i=ir.cast(i)),t=at["+"](t,i,this);return ct.div(t,new Ir(r),this)}catch(s){throw s.code!="XPTY0004"?s:new S("FORG0006","Input to avg() contains a mix of types")}}),D("max",[[Bn,"*"],[Lr,"",!0]],function(e,t){if(!e.length)return null;try{var n=e[0];for(var r=1,i=e.length;r<i;r++)rt.ge(e[r],n,this).valueOf()&&(n=e[r]);return n}catch(s){throw s.code!="XPTY0004"?s:new S("FORG0006","Input to max() contains a mix of not comparable values")}}),D("min",[[Bn,"*"],[Lr,"",!0]],function(e,t){if(!e.length)return null;try{var n=e[0];for(var r=1,i=e.length;r<i;r++)rt.le(e[r],n,this).valueOf()&&(n=e[r]);return n}catch(s){throw s.code!="XPTY0004"?s:new S("FORG0006","Input to min() contains a mix of not comparable values")}}),D("sum",[[Bn,"*"],[Bn,"?",!0]],function(e,t){if(!e.length)return arguments.length>1?t:new ir(0);try{var n=e[0];n instanceof _r&&(n=ir.cast(n));for(var r=1,i=e.length,s;r<i;r++)s=e[r],s instanceof _r&&(s=ir.cast(s)),n=at["+"](n,s,this);return n}catch(o){throw o.code!="XPTY0004"?o:new S("FORG0006","Input to sum() contains a mix of types")}}),D("id",[[Lr,"*"],[ai,"",!0]],function(e,t){if(arguments.length<2){if(!this.DOMAdapter.isNode(this.item))throw new S("XPTY0004","id() function called when the context item is not a node");t=this.item}var n=A.root.call(this,t);if(this.DOMAdapter.getProperty(n,"nodeType")!=9)throw new S("FODC0001");var r=[];for(var i=0;i<e.length;i++)for(var s=0,o=m(e[i]).split(/\s+/),u=o.length;s<u;s++)(t=this.DOMAdapter.getElementById(n,o[s]))&&g(r,t)==-1&&r.push(t);return _i(r,this)}),D("idref",[[Lr,"*"],[ai,"",!0]],function(e,t){throw"Function 'idref' not implemented"}),D("doc",[[Lr,"?",!0]],function(e){throw"Function 'doc' not implemented"}),D("doc-available",[[Lr,"?",!0]],function(e){throw"Function 'doc-available' not implemented"}),D("collection",[[Lr,"?",!0]],function(e){throw"Function 'collection' not implemented"}),D("element-with-id",[[Lr,"*"],[ai,"",!0]],function(e,t){throw"Function 'element-with-id' not implemented"}),D("codepoints-to-string",[[Ir,"*"]],function(t){var n=[];for(var r=0,i=t.length;r<i;r++)n.push(e.fromCharCode(t[r]));return new Lr(n.join(""))}),D("string-to-codepoints",[[Lr,"?"]],function(e){if(e==null)return null;var t=e.valueOf();if(t=="")return[];var n=[];for(var r=0,i=t.length;r<i;r++)n.push(new Ir(t.charCodeAt(r)));return n}),D("compare",[[Lr,"?"],[Lr,"?"],[Lr,"",!0]],function(e,t,n){if(e==null||t==null)return null;var r=this.staticContext.defaultCollationName,i;arguments.length>2&&(r=n.valueOf()),i=r==b+"/collation/codepoint"?Pi:this.staticContext.getCollation(r);if(!i)throw new S("FOCH0002","Unknown collation {"+r+"}");return new Ir(i.compare(e.valueOf(),t.valueOf()))}),D("codepoint-equal",[[Lr,"?"],[Lr,"?"]],function(e,t){return e==null||t==null?null:new Un(e.valueOf()==t.valueOf())}),D("concat",null,function(){if(arguments.length<2)throw new S("XPST0017","Function concat() must have at least 2 arguments");var e=[];for(var t=0,n=arguments.length,r;t<n;t++)r=arguments[t],cn(this,r,"?","each argument of concat()"),r.length&&(e[e.length]=Lr.cast(Mi(r,this)[0]).valueOf());return new Lr(e.join(""))}),D("string-join",[[Lr,"*"],[Lr]],function(e,t){return new Lr(e.join(t))}),D("substring",[[Lr,"?"],[ir],[ir,"",!0]],function(e,t,n){var r=e==null?"":e.valueOf(),i=a.round(t)-1,s=arguments.length>2?i+a.round(n):r.length;return new Lr(s>i?r.substring(i,s):"")}),D("string-length",[[Lr,"?",!0]],function(e){if(!arguments.length){if(!this.item)throw new S("XPDY0002");e=Lr.cast(Mi([this.item],this)[0])}return new Ir(e==null?0:e.valueOf().length)}),D("normalize-space",[[Lr,"?",!0]],function(e){if(!arguments.length){if(!this.item)throw new S("XPDY0002");e=Lr.cast(Mi([this.item],this)[0])}return new Lr(e==null?"":m(e).replace(/\s\s+/g," "))}),D("normalize-unicode",[[Lr,"?"],[Lr,"",!0]],function(e,t){throw"Function 'normalize-unicode' not implemented"}),D("upper-case",[[Lr,"?"]],function(e){return new Lr(e==null?"":e.valueOf().toUpperCase())}),D("lower-case",[[Lr,"?"]],function(e){return new Lr(e==null?"":e.valueOf().toLowerCase())}),D("translate",[[Lr,"?"],[Lr],[Lr]],function(e,t,n){if(e==null)return new Lr("");var r=e.valueOf().split(""),i=t.valueOf().split(""),s=n.valueOf().split(""),o=s.length,u=[];for(var a=0,f=r.length,l;a<f;a++)(l=i.indexOf(r[a]))==-1?u[u.length]=r[a]:l<o&&(u[u.length]=s[l]);return new Lr(u.join(""))}),D("encode-for-uri",[[Lr,"?"]],function(e){return new Lr(e==null?"":window.encodeURIComponent(e))}),D("iri-to-uri",[[Lr,"?"]],function(e){return new Lr(e==null?"":window.encodeURI(window.decodeURI(e)))}),D("escape-html-uri",[[Lr,"?"]],function(e){if(e==null||e.valueOf()=="")return new Lr("");var t=e.valueOf().split("");for(var n=0,r=t.length,i;n<r;n++)if((i=t[n].charCodeAt(0))<32||i>126)t[n]=window.encodeURIComponent(t[n]);return new Lr(t.join(""))}),D("contains",[[Lr,"?"],[Lr,"?"],[Lr,"",!0]],function(e,t,n){return new Un((e==null?"":e.valueOf()).indexOf(t==null?"":t.valueOf())>=0)}),D("starts-with",[[Lr,"?"],[Lr,"?"],[Lr,"",!0]],function(e,t,n){return new Un((e==null?"":e.valueOf()).indexOf(t==null?"":t.valueOf())==0)}),D("ends-with",[[Lr,"?"],[Lr,"?"],[Lr,"",!0]],function(e,t,n){var r=e==null?"":e.valueOf(),i=t==null?"":t.valueOf();return new Un(r.indexOf(i)==r.length-i.length)}),D("substring-before",[[Lr,"?"],[Lr,"?"],[Lr,"",!0]],function(e,t,n){var r=e==null?"":e.valueOf(),i=t==null?"":t.valueOf(),s;return new Lr((s=r.indexOf(i))>=0?r.substring(0,s):"")}),D("substring-after",[[Lr,"?"],[Lr,"?"],[Lr,"",!0]],function(e,t,n){var r=e==null?"":e.valueOf(),i=t==null?"":t.valueOf(),s;return new Lr((s=r.indexOf(i))>=0?r.substring(s+i.length):"")}),D("matches",[[Lr,"?"],[Lr],[Lr,"",!0]],function(e,t,n){var r=e==null?"":e.valueOf(),i=Di(t.valueOf(),arguments.length>2?n.valueOf():"");return new Un(i.test(r))}),D("replace",[[Lr,"?"],[Lr],[Lr],[Lr,"",!0]],function(e,t,n,r){var i=e==null?"":e.valueOf(),s=Di(t.valueOf(),arguments.length>3?r.valueOf():"");return new Un(i.replace(s,n.valueOf()))}),D("tokenize",[[Lr,"?"],[Lr],[Lr,"",!0]],function(e,t,n){var r=e==null?"":e.valueOf(),i=Di(t.valueOf(),arguments.length>2?n.valueOf():""),s=[];for(var o=0,u=r.split(i),a=u.length;o<a;o++)s.push(new Lr(u[o]));return s}),D("trace",[[ui,"*"],[Lr]],function(e,t){var n=window.console;return n&&n.log&&n.log(t.valueOf(),e),e});var Pi=new B;Pi.equals=function(e,t){return e==t},Pi.compare=function(e,t){return e==t?0:e>t?1:-1};var Hi=function(){};Hi.prototype.nodeType=2,Hi.prototype.nodeName=Hi.prototype.nodeValue=Hi.prototype.ownerDocument=Hi.prototype.localName=Hi.prototype.namespaceURI=Hi.prototype.prefix=Hi.prototype.attributes=Hi.prototype.childNodes=Hi.prototype.firstChild=Hi.prototype.lastChild=Hi.prototype.previousSibling=Hi.prototype.nextSibling=Hi.prototype.parentNode=Hi.prototype.name=Hi.prototype.specified=Hi.prototype.value=Hi.prototype.ownerElement=null,Bi.prototype=new N;var ji=new k;Bi.prototype.getProperty=function(e,t){if(t in e)return e[t];if(t=="baseURI"){var n="",r=ji.getFunction("{http://www.w3.org/2005/xpath-functions}resolve-uri"),i=ji.getDataType("{http://www.w3.org/2001/XMLSchema}string");for(var s=e,o;s;s=s.parentNode)s.nodeType==1&&(o=s.getAttribute("xml:base"))&&(n=r(new i(o),new i(n)).toString());return n}if(t=="textContent"){var u=[];return function(e){for(var t=0,n;n=e.childNodes[t];t++)n.nodeType==3||n.nodeType==4?u.push(n.data):n.nodeType==1&&n.firstChild&&arguments.callee(n)}(e),u.join("")}},Bi.prototype.compareDocumentPosition=function(e,t){if("compareDocumentPosition"in e)return e.compareDocumentPosition(t);if(t==e)return 0;var n=null,r=null,i,s,o,u,f;e.nodeType==2&&(n=e,e=this.getProperty(n,"ownerElement")),t.nodeType==2&&(r=t,t=this.getProperty(r,"ownerElement"));if(n&&r&&e&&e==t)for(u=0,i=this.getProperty(e,"attributes"),f=i.length;u<f;u++){s=i[u];if(s==n)return 36;if(s==r)return 34}var l=[],c,h,p=[],d,v;n&&l.push(n);for(o=e;o;o=o.parentNode)l.push(o);r&&p.push(r);for(o=t;o;o=o.parentNode)p.push(o);if((e.ownerDocument||e)!=(t.ownerDocument||t)||l[l.length-1]!=p[p.length-1])return 33;for(u=a.min(c=l.length,d=p.length);u;--u)if((h=l[--c])!=(v=p[--d])){if(h.nodeType==2)return 4;if(v.nodeType==2)return 2;if(!v.nextSibling)return 4;if(!h.nextSibling)return 2;for(o=v.previousSibling;o;o=o.previousSibling)if(o==h)return 4;return 2}return c<d?20:10},Bi.prototype.lookupNamespaceURI=function(e,t){if("lookupNamespaceURI"in e)return e.lookupNamespaceURI(t);for(;e&&e.nodeType!=9;e=e.parentNode){if(t==this.getProperty(oChild,"prefix"))return this.getProperty(e,"namespaceURI");if(e.nodeType==1)for(var n=this.getProperty(e,"attributes"),r=0,i=n.length,s="xmlns:"+t;r<i;r++)if(this.getProperty(n[r],"nodeName")==s)return this.getProperty(n[r],"value")}return null},Bi.prototype.getElementsByTagNameNS=function(e,t,n){if("getElementsByTagNameNS"in e)return e.getElementsByTagNameNS(t,n);var r=[],i="*"==t,s="*"==n;return function(e){for(var o=0,u;u=e.childNodes[o];o++)u.nodeType==1&&((s||n==this.getProperty(u,"localName"))&&(i||t==this.getProperty(u,"namespaceURI"))&&(r[r.length]=u),u.firstChild&&arguments.callee(u))}(e),r};var Fi=new Bi,Ii=new Bi;Ii.getProperty=function(e,t){return t=="localName"&&e.nodeType==1?e.localName.toLowerCase():t=="namespaceURI"?e.nodeType==1?"http://www.w3.org/1999/xhtml":null:Bi.prototype.getProperty.call(this,e,t)};var qi=new Bi;qi.getProperty=function(e,t){if(t=="localName"&&e.nodeType==1)return e.nodeName.toLowerCase();if(t=="prefix")return null;if(t=="namespaceURI")return e.nodeType==1?"http://www.w3.org/1999/xhtml":null;if(t=="textContent")return e.innerText;if(t=="attributes"&&e.nodeType==1){var n=[];for(var r=0,i=e.attributes,s=i.length,o,u;r<s;r++)o=i[r],o.specified&&(u=new Hi,u.ownerElement=e,u.ownerDocument=e.ownerDocument,u.specified=!0,u.value=u.nodeValue=o.nodeValue,u.name=u.nodeName=u.localName=o.nodeName.toLowerCase(),n[n.length]=u);return n}return Bi.prototype.getProperty.call(this,e,t)};var Ri=new Bi;Ri.getProperty=function(e,t){if(t=="localName"){if(e.nodeType==7)return null;if(e.nodeType==1)return e.baseName}if(t=="prefix"||t=="namespaceURI")return e[t]||null;if(t=="textContent")return e.text;if(t=="attributes"&&e.nodeType==1){var n=[];for(var r=0,i=e.attributes,s=i.length,o,u;r<s;r++)o=i[r],o.specified&&(u=new Hi,u.nodeType=2,u.ownerElement=e,u.ownerDocument=e.ownerDocument,u.specified=!0,u.value=u.nodeValue=o.nodeValue,u.name=u.nodeName=o.nodeName,u.localName=o.baseName,u.prefix=o.prefix||null,u.namespaceURI=o.namespaceURI||null,n[n.length]=u);return n}return Bi.prototype.getProperty.call(this,e,t)},Ri.getElementById=function(e,t){return e.nodeFromID(t)};var Ui=window.HTMLDocument,zi=window.jQuery,Wi=window.document,Xi=!!Wi.namespaces&&!Wi.createElementNS,Vi=!Xi&&Wi.documentElement.namespaceURI!="http://www.w3.org/1999/xhtml",$i=new k,Ji=new k;$i.baseURI=Wi.location.href,$i.defaultFunctionNamespace="http://www.w3.org/2005/xpath-functions",$i.defaultElementNamespace="http://www.w3.org/1999/xhtml",Ji.defaultFunctionNamespace=$i.defaultFunctionNamespace;var Qi={};Qi.xpath=function(e,t,n){return Ki(e instanceof zi?e:new zi(e),t,n)},zi.extend(zi,Qi),Qi={},Qi.xpath=function(e,t){return Ki(this,e,t)},zi.extend(zi.prototype,Qi)}(),define("jquery-xpath",function(){}),define("utils/parsers/vmap_parser",["require","jquery-xpath"],function(e){return e("jquery-xpath"),{parseVideoVariant:function(e){var t={};return t.bitrate=parseInt(e.getAttribute("bit_rate")),t.url=e.getAttribute("url"),t},parseDuration:function(e){if(typeof e!="string")return;var t=e.split("+")[0],n=t.split(":"),r=parseFloat(n[0]),i=parseFloat(n[1]),s=parseFloat(n[2]);return 3600*r+60*i+s},stringIsFalsy:function(e){var t=e.trim().toLowerCase();return t==="false"||t==="null"||t==="nil"||t===""},postProcessor:function(e){return typeof e=="string"&&(e=e.replace(/^\s+|\s+$/g,""),e=this.stringIsFalsy(e)?!1:e),e},parseNodeValue:function(e){var t;return e.nodeType===2?t=e.value:e.tagName==="tw:videoVariant"?t=this.parseVideoVariant(e):t=$(e).text(),this.postProcessor(t)},getNodeValue:function(e,t,n){var r,i=this,s=e.match(/\*/);e=e.replace("*",""),r=t.xpath(e,function(e){if(e===n.prefix)return n.URI});if(!r.length)return;return s?$.map(r,function(e){return i.parseNodeValue(e)}):this.parseNodeValue(r[0])},xmlStringToXML:function(e){return $.parseXML(e)},parseNode:function(e,t,n,r){var i,s;for(s in t)i=t[s],typeof i=="string"?n[s]=this.getNodeValue(i,e,r):n[s]=this.parseNode(e,i,{},r);return n},parse:function(e,t){if(typeof e=="string"||e instanceof String)e=this.xmlStringToXML(e);var n=this.parseNode($(e),t.output,{},t.nameSpaceMap);return n}}}),define("utils/parsers/vmap_parser_map_v2",[],function(){return{nameSpaceMap:{prefix:"tw",URI:"http://twitter.com/schema/videoVMapV2.xsd"},output:{content:{ownerId:"//tw:content/@ownerId",contentId:"//tw:content/@contentId",source:"//tw:amplify/tw:content/MediaFiles/MediaFile",videoVariantSources:"//tw:content/tw:videoVariants/tw:videoVariant[@content_type='video/mp4']*",contentType:"//tw:amplify/tw:content/MediaFiles/MediaFile/@type",beacons:{firstQuartile:"//tw:content/TrackingEvents/Tracking[@event='firstQuartile']*",midpoint:"//tw:content/TrackingEvents/Tracking[@event='midpoint']*",thirdQuartile:"//tw:content/TrackingEvents/Tracking[@event='thirdQuartile']*",complete:"//tw:content/TrackingEvents/Tracking[@event='complete']*",pause:"//tw:content/TrackingEvents/Tracking[@event='pause']*",rewind:"//tw:content/TrackingEvents/Tracking[@event='rewind']*",resume:"//tw:content/TrackingEvents/Tracking[@event='resume']*",expand:"//tw:content/TrackingEvents/Tracking[@event='expand']*",start:"//tw:content/TrackingEvents/Tracking[@event='start']*",creativeView:"//tw:content/TrackingEvents/Tracking[@event='creativeView']*"},ctas:{visit:"//tw:content/tw:cta_open_url/@url",watchNow:"//tw:content/tw:cta_watch_now/@url"}},ad:{ownerId:"//tw:ad/@ownerId",adId:"//tw:ad/@adId",source:"//Creative/Linear/MediaFiles/MediaFile",videoVariantSources:"//tw:ad/tw:videoVariants/tw:videoVariant[@content_type='video/mp4']*",contentType:"//Creative/Linear/MediaFiles/MediaFile/@type",beacons:{firstQuartile:"//Creative/Linear/TrackingEvents/Tracking[@event='firstQuartile']*",midpoint:"//Creative/Linear/TrackingEvents/Tracking[@event='midpoint']*",thirdQuartile:"//Creative/Linear/TrackingEvents/Tracking[@event='thirdQuartile']*",complete:"//Creative/Linear/TrackingEvents/Tracking[@event='complete']*",pause:"//Creative/Linear/TrackingEvents/Tracking[@event='pause']*",rewind:"//Creative/Linear/TrackingEvents/Tracking[@event='rewind']*",resume:"//Creative/Linear/TrackingEvents/Tracking[@event='resume']*",expand:"//Creative/Linear/TrackingEvents/Tracking[@event='expand']*",start:"//Creative/Linear/TrackingEvents/Tracking[@event='start']*",creativeView:"//Creative/Linear/TrackingEvents/Tracking[@event='creativeView']*",adImpression:"//Ad/InLine/Impression*",adError:"//Ad/InLine/Error*"},ctas:{visit:"//tw:ad/tw:cta_open_url/@url",watchNow:"//tw:ad/tw:cta_watch_now/@url"}}}}}),define("utils/parsers/vmap_parser_map_v1",[],function(){return{nameSpaceMap:{prefix:"tw",URI:"tw"},output:{content:{ownerId:"//tw:content/@ownerId",contentId:"//tw:content/@contentId",source:"//tw:amplify/tw:content/MediaFiles/MediaFile",contentType:"//tw:amplify/tw:content/MediaFiles/MediaFile/@type",beacons:{firstQuartile:"//tw:TrackingEvents/Tracking[@event='firstQuartile']*",midpoint:"//tw:TrackingEvents/Tracking[@event='midpoint']*",thirdQuartile:"//tw:TrackingEvents/Tracking[@event='thirdQuartile']*",complete:"//tw:TrackingEvents/Tracking[@event='complete']*",pause:"//tw:TrackingEvents/Tracking[@event='pause']*",rewind:"//tw:TrackingEvents/Tracking[@event='rewind']*",resume:"//tw:TrackingEvents/Tracking[@event='resume']*",expand:"//tw:TrackingEvents/Tracking[@event='expand']*",start:"//tw:TrackingEvents/Tracking[@event='start']*"}},ad:{ownerId:"//tw:ad/@ownerId",adId:"//tw:ad/@adId",source:"//Creative/Linear/MediaFiles/MediaFile",contentType:"//Creative/Linear/MediaFiles/MediaFile/@type",beacons:{firstQuartile:"//Creative/Linear/TrackingEvents/Tracking[@event='firstQuartile']*",midpoint:"//Creative/Linear/TrackingEvents/Tracking[@event='midpoint']*",thirdQuartile:"//Creative/Linear/TrackingEvents/Tracking[@event='thirdQuartile']*",complete:"//Creative/Linear/TrackingEvents/Tracking[@event='complete']*",pause:"//Creative/Linear/TrackingEvents/Tracking[@event='pause']*",rewind:"//Creative/Linear/TrackingEvents/Tracking[@event='rewind']*",resume:"//Creative/Linear/TrackingEvents/Tracking[@event='resume']*",expand:"//Creative/Linear/TrackingEvents/Tracking[@event='expand']*",start:"//Creative/Linear/TrackingEvents/Tracking[@event='start']*"}}}}}),define("data/playlist/with_vmap_parser",["require","utils/parsers/vmap_parser","utils/parsers/vmap_parser_map_v2","utils/parsers/vmap_parser_map_v1","utils/video_type_utils"],function(e){function i(){this.parseVmap=function(e,r){for(var i=0;i<n.length;i++){var s=t.parse(e,n[i]);if(s.content&&s.content.ownerId)return this.jsonVmapToPlaylist(s,r)}this.trigger("dataParsingError")},this.selectFromVariants=function(e){return e.reduce(function(e,t){return t.bitrate>e.bitrate?t:e},e[0]).url},this.jsonVmapToPlaylist=function(e,t){var n={},i=e.content;if(!i||!i.ownerId||!i.contentId||!i.source){this.trigger("dataParsingError");return}var s=this.extractStaticAdData(e.ad,t);s&&(n.ad=s);var o;return t&&i.videoVariantSources&&i.videoVariantSources.length>0?o=this.selectFromVariants(i.videoVariantSources):o=i.source,n.content={contentId:i.contentId,ownerId:i.ownerId,source:o,contentType:i.contentType,type:r.contentType,beacons:i.beacons,ctas:i.ctas||{}},n},this.extractStaticAdData=function(e,t){var n=e&&e.adId&&e.source;if(n){var i,s,o=!0,u,a;return t&&e.videoVariantSources&&e.videoVariantSources.length>0?i=this.selectFromVariants(e.videoVariantSources):i=e.source,{contentId:e.adId,ownerId:e.ownerId,source:i,contentType:e.contentType,type:r.adType,beacons:e.beacons,ctas:e.ctas||{},dynamicPrerollType:s,autoplayBlacklisted:!o,impressionId:u,disclosureType:a}}return null}}var t=e("utils/parsers/vmap_parser"),n=[e("utils/parsers/vmap_parser_map_v2"),e("utils/parsers/vmap_parser_map_v1")],r=e("utils/video_type_utils");return i}),define("data/playlist/with_media_info_parser",["require","utils/video_type_utils","utils/utils"],function(e){function r(){this.parseAdInfoWithMediaInfo=function(e){if(!e.mediaInfo)return this.trigger("dataDynamicAdError",{message:"No media_info"}),null;var r=this.selectFromAdMediaInfoVariants(e.mediaInfo.variants);if(!r)return this.trigger("dataDynamicAdError",{message:"No playable dynamic ad variants"}),null;var i=n.isAutoplayable(e.mediaInfo.publisher_id,e.autoplayBlacklist),s={contentId:e.adId,source:r.url,contentType:r.content_type,dynamicPrerollType:e.dynamicPrerollType,ownerId:e.mediaInfo.publisher_id,type:t.adType,autoplayBlacklisted:!i};return e.promotedContent&&(s.impressionId=e.promotedContent.impressionId,s.disclosureType=e.promotedContent.disclosureType),e.mediaInfo.call_to_action&&(e.mediaInfo.call_to_action.type==="visit_site"?s.ctas={visit:e.mediaInfo.call_to_action.url}:e.mediaInfo.call_to_action.type==="watch_now"&&(s.ctas={watchNow:e.mediaInfo.call_to_action.url})),s},this.selectFromAdMediaInfoVariants=function(e){var t=e.filter(function(e){return e.bitrate&&e.content_type&&e.content_type.indexOf("video/mp4")===0});return t.length?t.reduce(function(e,t){return t.bitrate>e.bitrate?t:e}):null}}var t=e("utils/video_type_utils"),n=e("utils/utils");return r}),define("data/playlist/with_vmap_loader",["require","utils/vmap_loader","flight/lib/compose","data/playlist/with_vmap_parser","data/playlist/with_media_info_parser"],function(e){function s(){n.mixin(this,[r,i]),this.loadVmap=function(e,t){return this.makeVmapRequest(e).then(function(e){return this.parseVmap(e,t)}.bind(this))},this.makeVmapRequest=function(e){var n=$.Deferred();return t.get(e,{success:function(e){n.resolve(e)},fail:function(e){n.reject(e)}}),n}}var t=e("utils/vmap_loader"),n=e("flight/lib/compose"),r=e("data/playlist/with_vmap_parser"),i=e("data/playlist/with_media_info_parser");return s}),define("data/playlist/with_live_parser",[],function(){function e(){this.parseLive=function(e){if(!(!e||!e.source||!e.source.location))return{streamUrl:e.source.location,status:e.source.status};this.trigger("dataParsingError")}}return e}),define("data/playlist/with_live_loader",["require","flight/lib/compose","utils/utils","data/playlist/with_live_parser"],function(e){function i(){t.mixin(this,[r]),this.attributes({liveUrlRoot:"/i/live_video_stream/status/",client:undefined}),this.loadLive=function(e){var t=n.appendUrlParams(this.attr.liveUrlRoot+e,{client:this.attr.client});return $.ajax({url:t,dataType:"json"}).then(this.parseLive.bind(this)).then(this.postLoadLive.bind(this))},this.postLoadLive=function(e){if(e&&e.streamUrl){var t=n.getUrlMetadata(e.streamUrl),r=n.getQueryParamsFromString(t.search.substr(1)),i=n.appendUrlParams(e.streamUrl,{noredirect:!0}),s=$.Deferred();return this.trigger("dataUpdatePlaylistIdentifier",{playlistIdentifier:i}),$.ajax({url:i,xhrFields:{withCredentials:!0}}).done(function(){$.ajax({url:"https://t.lv.twimg.com/live_video_stream/cookie_check",xhrFields:{withCredentials:!0}}).done(function(){s.resolve(r.url.trim())}).fail(function(e){e.status===400?s.reject("noCookies"):s.resolve(r.url.trim())})}).fail(function(){s.resolve(r.url.trim())}),s.promise()}}}var t=e("flight/lib/compose"),n=e("utils/utils"),r=e("data/playlist/with_live_parser");return i}),define("data/playlist/playlist",["require","flight/lib/component","data/playlist/with_vmap_loader","data/playlist/with_live_loader","utils/video_type_utils","data/playlist/with_media_info_parser"],function(e){function o(){this.attributes({dynamicAd:!1,jsonUrl:undefined,playlist:undefined,useVmapVariants:!1,vmapUrl:undefined,liveVideoEvent:undefined}),this.loadPlaylist=function(){var e;this.attr.vmapUrl?e=this.loadVmap(this.attr.vmapUrl,this.attr.useVmapVariants):this.attr.liveVideoEvent&&this.attr.liveVideoEvent.streamAcquisitionEnabled?e=this.loadLive(this.attr.playlist[0].contentId).then(function(e){return this.attr.playlist[0].source=e,this.parsePlaylist(this.attr.playlist)}.bind(this)):e=this.parsePlaylist(this.attr.playlist);if(this.attr.dynamicAd){var t=this.makeDynamicAdRequest();e=$.when(e,t)}e.then(this.parseDataAndTriggerEvents.bind(this),this.handleParsingError.bind(this))},this.parseDataAndTriggerEvents=function(e,t){var n;if(typeof t!="undefined"){t.videoAnalyticsScribePassthrough!==undefined&&(n=t.videoAnalyticsScribePassthrough,delete t.videoAnalyticsScribePassthrough);if(Object.keys(t).length>0){var r=this.parseAdInfoWithMediaInfo(t);e.ad=r||e.ad}}var i=e.ad||{},s=e.content||{};for(var o in e){var u=e[o];u&&u.source&&(u.source=u.source.replace(/^http:\/\/amp.twimg.com\//i,"https://amp.twimg.com/"))}var a={prerollId:i.contentId,dynamicPrerollType:i.dynamicPrerollType,prerollOwnerId:i.ownerId,contentId:s.contentId,videoAnalyticsScribePassthrough:n};this.trigger("dataPlaylistLoaded",{tracks:e,playlistData:a})},this.handleParsingError=function(e){this.trigger("dataReportError",{error:e})},this.parsePlaylist=function(e){var t=$.Deferred(),n=[];e&&(n=e.map(function(e){return{source:e.source,type:i.normalizeVideoType(e.videoType),contentId:e.contentId,ownerId:e.ownerId,contentType:e.contentType,ctas:e.ctas}}));var r=i.getAdFromVideos(n),s=i.getContentFromVideos(n);return setTimeout(function(){t.resolve({ad:r,content:s})},0),t.promise()},this.makeDynamicAdRequest=function(){return this.dynamicAdResponseDeferred=$.Deferred(),this.trigger("dataDynamicAdRequest"),this.dynamicAdResponseDeferred},this.dynamicAdResponse=function(e,t){this.dynamicAdResponseDeferred&&this.dynamicAdResponseDeferred.resolve(t)},this.after("initialize",function(){this.loadPlaylist(),this.on(document,"dataDynamicAdResponse",this.dynamicAdResponse)})}var t=e("flight/lib/component"),n=e("data/playlist/with_vmap_loader"),r=e("data/playlist/with_live_loader"),i=e("utils/video_type_utils"),s=e("data/playlist/with_media_info_parser");return t(o,n,r,s)}),define("data/timing_events/tentpoles",["require","flight/lib/component","data/timing_events/with_timing"],function(e){function i(){this.TENTPOLES=[{progress:.25,event:"dataFirstQuartile"},{progress:.5,event:"dataMidpoint"},{progress:.75,event:"dataThirdQuartile"},{progress:.95,event:"dataPercentile95"},{progress:1,event:"dataComplete"}],this.timeUpdate=function(e,t){if(t&&!t.paused){var n=this.getTrack(t);this.checkAllTentpoles(n,t.duration,t.currentTime)}},this.checkAllTentpoles=function(e,t,n){e.triggerEventOnce("dataStart"),this.TENTPOLES.forEach(function(i){var s=i.progress*t,o=n+r>=s&&n-r<=s;o&&e.triggerEventOnce(i.event)})},this.after("initialize",function(){this.on(document,"uiTimeUpdate",this.timeUpdate)})}var t=e("flight/lib/component"),n=e("data/timing_events/with_timing"),r=1;return t(n,i)}),define("data/tracking/with_player_visibility",[],function(){function e(){this.attributes({lastReportedVisibility:1}),this.fullScreen=!1,this.setPlayerVisibility=function(e,t){this.attr.lastReportedVisibility=t.percentVisible},this.getPlayerVisibility=function(){return this.fullScreen?1:this.attr.lastReportedVisibility},this.setVisibilityToUndefined=function(){this.attr.lastReportedVisibility=undefined},this.setFullScreen=function(){this.fullScreen=!0},this.setNotFullScreen=function(){this.fullScreen=!1},this.after("initialize",function(){this.on(document,"dataPercentVisible",this.setPlayerVisibility),this.on(document,"dataEnterFullScreen",this.setFullScreen),this.on(document,"dataExitFullScreen",this.setNotFullScreen)})}return e}),define("data/timing_events/playback_lapse",["require","flight/lib/component","data/timing_events/with_timing","utils/with_states","data/tracking/with_player_visibility"],function(e){function s(){this.fullScreen=!1,this.sessionProperties=["timeWatched","timeWatched25","timeWatched50","timeWatched75","timeWatched100","timeWatched100WithAudio","timeWatchedFullscreen","timeWatchedWithAudio"],this.attributes({minimumPlaybackLapseMs:1e4,viewThresholdMs:3e3,sourceType:undefined,oneSecViewViewThresholdMs:1e3,mrcViewViewThresholdMs:2e3,viewThresholdPercentVisibleThreshold:1,oneSecViewPercentVisibleThreshold:1,groupMViewPercentVisibleThreshold:1,mrcViewPercentVisibleThreshold:.5}),this.recordTime=function(e,t){var n=this.getTrack(t),r=n.getTimeDelta(t.currentTime);n.addTo("playbackLapseMs",r),this.addViewThresholdPlaybackLapseMs(n,r),this.addContinuousMrcViewPlaybackLapseMs(n,r),this.addContinuousOneSecViewPlaybackLapseMs(n,r),this.addGroupMViewPlaybackLapseMs(n,r,t.muted),n.setDuration(t.duration*1e3),this.updateVideoSession(n,r,t.muted),this.playedFromInteraction()&&(n.triggerEventOnce("dataPlayFromTap"),n.triggerEventOnce("dataVideoView")),this.passedViewThreshold(n)&&(n.triggerEventOnce("dataViewThreshold"),n.triggerEventOnce("dataVideoView")),this.shouldTriggerOneSecView(n)&&n.triggerEventOnce("dataOneSecView"),this.shouldTriggerMrcView(n)&&n.triggerEventOnce("dataMrcView"),this.shouldTriggerGroupMView(n,t.duration)&&n.triggerEventOnce("dataGroupMView"),this.passedRecordThreshold(n)&&this.triggerPlaybackLapse(n)},this.addViewThresholdPlaybackLapseMs=function(e,t){this.percentVisible()>=this.attr.viewThresholdPercentVisibleThreshold&&e.addTo("viewThresholdPlaybackLapseMs",t)},this.addContinuousMrcViewPlaybackLapseMs=function(e,t){this.percentVisible()>=this.attr.mrcViewPercentVisibleThreshold?e.addTo("continuousMrcViewPlaybackLapseMs",t,!0):e.resetProperty("continuousMrcViewPlaybackLapseMs")},this.addContinuousOneSecViewPlaybackLapseMs=function(e,t){this.percentVisible()>=this.attr.oneSecViewPercentVisibleThreshold?e.addTo("continuousOneSecViewPlaybackLapseMs",t,!0):e.resetProperty("continuousOneSecViewPlaybackLapseMs")},this.addGroupMViewPlaybackLapseMs=function(e,t,n){!n&&this.percentVisible()>=this.attr.groupMViewPercentVisibleThreshold&&e.addTo("groupMViewPlaybackLapseMs",t)},this.trackEnd=function(e,t){var n=this.getTrack(t);this.triggerPlaybackLapse(n)},this.onAdSkip=function(e,t){this.recordTime(e,t);var n=this.getTrack(t);this.triggerPlaybackLapse(n)},this.passedViewThreshold=function(e){var t=e.duration,n;return t?n=Math.min(t-500,this.attr.viewThresholdMs):n=this.attr.viewThresholdMs,e.get("viewThresholdPlaybackLapseMs")>=n},this.passedRecordThreshold=function(e){return e.get("playbackLapseMs")>this.attr.minimumPlaybackLapseMs},this.shouldTriggerOneSecView=function(e){return e.get("continuousOneSecViewPlaybackLapseMs")>=this.attr.oneSecViewViewThresholdMs},this.shouldTriggerMrcView=function(e){return e.get("continuousMrcViewPlaybackLapseMs")>=this.attr.mrcViewViewThresholdMs},this.shouldTriggerGroupMView=function(e,t){var n=t*1e3;return e.get("groupMViewPlaybackLapseMs")*2>=n},this.updateVideoSession=function(e,t,n){e.getSessionProperty("timeWatched")===undefined&&this.initializeVideoSessionData(e);var r=Math.floor(this.percentVisible()*100);e.addToSessionProperty("timeWatched",t),n||e.addToSessionProperty("timeWatchedWithAudio",t),r>=25&&e.addToSessionProperty("timeWatched25",t),r>=50&&e.addToSessionProperty("timeWatched50",t),r>=75&&e.addToSessionProperty("timeWatched75",t),r===100&&(e.addToSessionProperty("timeWatched100",t),this.fullScreen&&e.addToSessionProperty("timeWatchedFullscreen",t),n||e.addToSessionProperty("timeWatched100WithAudio",t))},this.triggerPlaybackLapse=function(e){e.wasFired("dataVideoView")&&e.get("playbackLapseMs")>0&&this.attr.sourceType!=="live"&&(this.trigger("dataPlaybackLapse",{playback_lapse_ms:Math.round(e.get("playbackLapseMs")),id:e.id}),this.trigger("dataVideoSession",{video_session_data:this.getVideoSessionData(e),id:e.id}),e.resetProperty("playbackLapseMs"))},this.initializeVideoSessionData=function(e){this.sessionProperties.forEach(function(t){e.initializeSessionProperty(t)})},this.getVideoSessionData=function(e){var t={time_watched:e.getSessionProperty("timeWatched"),time_watched_25:e.getSessionProperty("timeWatched25"),time_watched_50:e.getSessionProperty("timeWatched50"),time_watched_75:e.getSessionProperty("timeWatched75"),time_watched_100:e.getSessionProperty("timeWatched100"),time_watched_100_with_audio:e.getSessionProperty("timeWatched100WithAudio"),time_watched_fullscreen:e.getSessionProperty("timeWatchedFullscreen"),time_watched_with_audio:e.getSessionProperty("timeWatchedWithAudio"),video_length:e.getDuration()};return t},this.percentVisible=function(){return this.getPlayerVisibility()},this.after("initialize",function(){this.on(document,"uiTimeUpdate",this.recordTime),this.on(document,"dataNotifyAdSkip",this.onAdSkip),this.attr.sourceType!=="gif"&&this.attr.sourceType!=="snap-reel"&&this.on(document,"uiReportVideoFinished",this.trackEnd)})}var t=e("flight/lib/component"),n=e("data/timing_events/with_timing"),r=e("utils/with_states"),i=e("data/tracking/with_player_visibility");return t(s,n,r,i)}),define("data/timing_events/playback_retention",["require","flight/lib/component","data/timing_events/with_timing"],function(e){function r(){this.timeUpdate=function(e,t){if(t&&!t.paused){var n=this.getTrack(t);n.setMax("duration",t.duration),n.setMax("furthestTime",t.currentTime)}},this.recordPlaybackRetention=function(e){if(e.get("furthestTime")!==undefined&&e.get("furthestTime")>0){var t={video_duration_ms:Math.floor(e.get("duration")*1e3),playback_retention_ms:Math.floor(e.get("furthestTime")*1e3)};e.triggerEventOnce("dataPlaybackRetention",t)}},this.trackEnd=function(e,t){var n=this.getTrack(t);this.recordPlaybackRetention(n)},this.beforeunload=function(){this.eachTrack().forEach(function(e){this.recordPlaybackRetention(e)}.bind(this))},this.after("initialize",function(){this.on(window,"beforeunload",this.beforeunload),this.on(document,"uiReportVideoFinished",this.trackEnd),this.on(document,"uiTimeUpdate",this.timeUpdate)})}var t=e("flight/lib/component"),n=e("data/timing_events/with_timing");return t(n,r)}),define("data/timing_events/timing_events_boot",["require","data/timing_events/tentpoles","data/timing_events/playback_lapse","data/timing_events/playback_retention"],function(e){function i(e){t.attachTo(document),n.attachTo(document,{sourceType:e.sourceType}),r.attachTo(document)}var t=e("data/timing_events/tentpoles"),n=e("data/timing_events/playback_lapse"),r=e("data/timing_events/playback_retention");return i}),define("data/tracking/with_track_data",[],function(){function e(){this.playlistLoaded=function(e,t){this.tracks=$.extend(!0,{},t.tracks),this.playlistData=$.extend(!0,{},t.playlistData),this.currentTrackType=undefined},this.getTrack=function(e){if(e&&e.id)return this.tracks[e.id];var t=this.currentTrackType&&this.tracks&&this.tracks[this.currentTrackType];return t?t:undefined},this.scribeDataForPlaylist=function(){return this.playlistData&&{content_id:this.playlistData.contentId,dynamic_preroll_type:this.playlistData.dynamicPrerollType,preroll_uuid:this.playlistData.prerollId,preroll_owner_id:this.playlistData.prerollOwnerId}},this.scribeDataForTrack=function(e){var t={};return e&&(t.video_uuid=e.contentId,t.video_owner_id=e.ownerId,t.video_type=this.trackIsContent(e)?"video":e.type,e.impressionId&&(t.promoted_id=e.impressionId)),t},this.scribeDataForCurrentTrack=function(e){return this.scribeDataForTrack(this.getTrack(e))},this.scribeDataForAnalyticsPassthrough=function(){return this.playlistData&&{video_analytics_scribe_passthrough:this.playlistData.videoAnalyticsScribePassthrough}},this.setCurrent=function(e,t){t&&t.id&&(this.currentTrackType=t.id)},this.trackIsContent=function(e){return e.type==="content"},this.isPreroll=function(e){var t=this.getTrack(e);return typeof t!="undefined"&&!this.trackIsContent(t)},this.after("initialize",function(){this.on(document,"dataPlaylistLoaded",this.playlistLoaded),this.on(document,"uiReportCurrentVideo",this.setCurrent)})}return e}),define("data/tracking/video_scribe",["require","flight/lib/component","data/tracking/with_track_data","data/tracking/with_playback_latency","utils/with_states"],function(e){function s(){this.attributes({playlistIdentifier:undefined,element:"platform_amplify_card",sourceType:undefined,heartbeatCategory:undefined,widgetOrigin:undefined,loopingEnabled:!1}),this.PLAYER_MODES={PREVIEW:1,NORMAL:2},this.scribeActions=["show","play","pause","replay","mute","unmute","playback_25","playback_50","playback_75","playback_95","playback_complete","playback_lapse","playback_retention","error","full_screen","shrink","video_view","view_threshold","play_from_tap","snap_reel_interaction","heartbeat","playback_startup_error","video_mrc_view","video_1sec_view","video_groupm_view"],this.scribeCategoryOverrides=function(){return{heartbeat:this.attr.heartbeatCategory}},this.scribeActions.forEach(function(e){this[e]=function(t,n){this.triggerScribeEvent(e,n)}},this),this.playback_start=function(){this.triggerScribeEvent("playback_start",this.latencyData())},this.error=function(e,t){this.triggerScribeEvent("error",t)},this.ctaWatchImpression=function(e,t){this.triggerScribeEvent("cta_watch_impression",{cta_url:t.url})},this.ctaVisitImpression=function(e,t){this.triggerScribeEvent("cta_url_impression",{cta_url:t.url})},this.ctaVisitClick=function(e,t){this.triggerScribeEvent("cta_url_click",{cta_url:t.url})},this.ctaWatchClick=function(e,t){this.triggerScribeEvent("cta_watch_click",{cta_url:t.url})},this.onVinePlay=function(e,t){this.triggerScribeEvent("video_view",t),this.triggerScribeEvent("play_from_tap",t),setTimeout(function(){this.triggerScribeEvent("view_threshold",t)}.bind(this),3e3)},this.adSkip=function(e,t){var n=Math.round(t.currentTime*1e3);this.triggerScribeEvent("video_ad_skip",{video_ad_skip_time_ms:n})},this.loop=function(e,t){this.off(document,"uiReportMute"),this.off(document,"dataDidReplay"),this.triggerScribeEvent("loop",t)},this.exitLoop=function(){this.on(document,"uiReportMute",this.mute)},this.dynamicAdError=function(e,t){this.triggerScribeEvent("error",{error_message:t.message,error_code:"DYNAMIC_AD_ERROR"},"dynamic_video_ads")},this.scribeDataForWidget=function(){return typeof this.attr.widgetOrigin!="undefined"?{widgetOrigin:this.attr.widgetOrigin}:{}},this.triggerScribeEvent=function(e,t,n){var r=$.extend({playlist_url:this.playlistIdentifier,player_mode:this.isPreview()?this.PLAYER_MODES.PREVIEW:this.PLAYER_MODES.NORMAL},this.scribeDataForCurrentTrack(),this.scribeDataForPlaylist(),this.scribeDataForAnalyticsPassthrough(),t);delete r.id;var i=$.extend({element:n||this.attr.element,action:e,itemData:r},this.scribeDataForWidget()),s=this.scribeCategoryOverrides()[e];typeof s!="undefined"&&(i.category=s);if(window.DEBUG&&window.DEBUG.enabled&&window.console){var o="[*:*:*:*:"+i.element+":"+i.action+"]";window.console.info("$$","scribe",o,i.itemData)}this.trigger("dataScribeEvent",{customScribe:i})},this.updatePlaylistIdentifier=function(e,t){this.playlistIdentifier=t.playlistIdentifier},this.after("initialize",function(){if(this.attr.sourceType==="vine"){this.on(document,"dataPlayVideo",this.onVinePlay);return}this.playlistIdentifier=this.attr.playlistIdentifier,this.on(document,"dataVideoView",this.video_view),this.on(document,"dataPlayFromTap",this.play_from_tap),this.on(document,"dataViewThreshold",this.view_threshold),this.on(document,"dataSnapReelInteraction",this.snap_reel_interaction),this.on(document,"dataHeartbeat",this.heartbeat),this.on(document,"dataScribePlaybackStartupError",this.playback_startup_error),this.on(document,"dataUpdatePlaylistIdentifier",this.updatePlaylistIdentifier),this.on(document,"dataGroupMView",this.video_groupm_view),this.on(document,"dataOneSecView",this.video_1sec_view),this.on(document,"dataMrcView",this.video_mrc_view),this.attr.sourceType!=="gif"&&this.attr.sourceType!=="snap-reel"&&(this.on(document,"dataStart",this.playback_start),this.on(document,"dataFirstQuartile",this.playback_25),this.on(document,"dataMidpoint",this.playback_50),this.on(document,"dataThirdQuartile",this.playback_75),this.on(document,"dataPercentile95",this.playback_95),this.on(document,"dataComplete",this.playback_complete),this.on(document,"dataPlaybackRetention",this.playback_retention),this.on(document,"dataPlaybackLapse",this.playback_lapse),this.on(document,"dataPlaybackError",this.error),this.on(document,"dataDynamicAdError",this.dynamicAdError),this.on(document,"dataDidIntendToPlay",this.show),this.on(document,"dataDidPlay",this.play),this.on(document,"dataDidPause",this.pause),this.on(document,"uiReportMute",this.mute),this.on(document,"uiReportUnmute",this.unmute),this.on(document,"dataDidReplay",this.replay),this.on(document,"dataEnterFullScreen",this.full_screen),this.on(document,"dataExitFullScreen",this.shrink),this.on(document,"dataNotifyAdSkip",this.adSkip),this.attr.loopingEnabled&&(this.on(document,"dataDidLoop",this.loop),this.on(document,"uiReportStartPlay",this.exitLoop)),this.on(document,"dataDidShowWatchCta",this.ctaWatchImpression),this.on(document,"dataDidShowVisitCta",this.ctaVisitImpression),this.on(document,"dataDidClickWatchCta",this.ctaWatchClick),this.on(document,"dataDidClickVisitCta",this.ctaVisitClick))})}var t=e("flight/lib/component"),n=e("data/tracking/with_track_data"),r=e("data/tracking/with_playback_latency"),i=e("utils/with_states");return t(s,r,n,i)}),define("data/tracking/promoted_events",["require","flight/lib/component","data/tracking/with_track_data","data/tracking/with_player_visibility"],function(e){function i(){this.attributes({playlistIdentifier:undefined,videoSessionEnabled:undefined}),this.basicPromotedEvents=["play_from_tap","view","view_threshold","playback_start","playback_25","playback_50","playback_75","playback_95","playback_complete","mrc_view","groupm_view","1sec_view"],this.isPromotedTrack=function(e){return e&&e.impressionId&&e.disclosureType},this.basicPromotedEvents.forEach(function(e){this[e]=function(t,n){var r=this.getTrack(n);if(!r)return;var i=r.type;e==="playback_start"&&this.isPromotedTrack(r)&&this.triggerPromotedContentEvent("impression",n),this.triggerPromotedContentEvent("video_"+i+"_"+e,n)}},this),this.cta_watch_click=function(e,t){this.triggerPromotedContentEvent("video_cta_watch_click",t,{cta_url:t.url})},this.cta_visit_click=function(e,t){this.triggerPromotedContentEvent("video_cta_url_click",t,{cta_url:t.url})},this.video_session=function(e,t){this.attr.videoSessionEnabled&&this.triggerPromotedContentEvent("video_session",t)},this.triggerPromotedContentEvent=function(e,t,n){var r=$.extend({},{playlist_url:this.attr.playlistIdentifier},this.scribeDataForPlaylist(),n),i=this.scribeDataForCurrentTrack(t);i&&$.extend(r,{video_uuid:i.video_uuid,video_type:i.video_type});var s=this.getTrack(t);s&&(r.video_is_muted=s.videoIsMuted);var o=this.getPlayerVisibility();o!==undefined&&(r.video_visibility=Math.floor(o*100));var u={amplify_details:r};r.card_event=JSON.stringify(u),r.name=e,s&&this.isPromotedTrack(s)&&(r.impressionId=s.impressionId,r.disclosureType=s.disclosureType),window.DEBUG&&window.DEBUG.enabled&&window.console&&window.console.log("promotedEvent",r);if(t&&t.video_session_data){var a=$.extend({},t.video_session_data,{is_preroll_video:this.isPreroll(t)}),f={video_details:a};r.engagement_metadata=JSON.stringify(f)}this.trigger("dataPromotedContentEvent",r)},this.recordMuteState=function(e,t){var n=this.getTrack();n&&(n.videoIsMuted=t.muted)},this.after("initialize",function(){this.setVisibilityToUndefined(),this.on(document,"dataPlayFromTap",this.play_from_tap),this.on(document,"dataViewThreshold",this.view_threshold),this.on(document,"dataVideoView",this.view),this.on(document,"dataStart",this.playback_start),this.on(document,"dataFirstQuartile",this.playback_25),this.on(document,"dataMidpoint",this.playback_50),this.on(document,"dataThirdQuartile",this.playback_75),this.on(document,"dataPercentile95",this.playback_95),this.on(document,"dataComplete",this.playback_complete),this.on(document,"dataDidClickWatchCta",this.cta_watch_click),this.on(document,"dataDidClickVisitCta",this.cta_visit_click),this.on(document,"dataGroupMView",this.groupm_view),this.on(document,"dataOneSecView",this["1sec_view"]),this.on(document,"dataMrcView",this.mrc_view),this.on(document,"dataVideoSession",this.video_session),this.on(document,"uiTimeUpdate",this.recordMuteState)})}var t=e("flight/lib/component"),n=e("data/tracking/with_track_data"),r=e("data/tracking/with_player_visibility");return t(i,n,r)}),define("data/tracking/beacons",["require","flight/lib/component","data/tracking/with_track_data"],function(e){function r(){this.beaconNames=["adError","adImpression","complete","creativeView","firstQuartile","midpoint","pause","resume","rewind","start","thirdQuartile"],this.beaconNames.forEach(function(e){this[e]=function(t,n){this.triggerBeacon(e,n)}},this),this.callUrl=function(e){var t=new Image;t.src=e},this.getBeaconUrls=function(e,t){return e&&e.beacons&&e.beacons[t]||[]},this.triggerBeacon=function(e,t){this.getBeaconUrls(this.getTrack(t),e).forEach(function(e){this.callUrl(e)},this)},this.after("initialize",function(){this.on(document,"dataComplete",this.complete),this.on(document,"dataFirstQuartile",this.firstQuartile),this.on(document,"dataMidpoint",this.midpoint),this.on(document,"dataDidPause",this.pause),this.on(document,"dataDidPlay",this.resume),this.on(document,"dataPlaybackError",this.adError),this.on(document,"dataDidRewind",this.rewind),this.on(document,"dataThirdQuartile",this.thirdQuartile),this.on(document,"dataStart",this.adImpression),this.on(document,"dataStart",this.start),this.on(document,"dataVideoView",this.creativeView)})}var t=e("flight/lib/component"),n=e("data/tracking/with_track_data");return t(r,n)}),define("data/tracking/buffering_state_reporter",["require","flight/lib/component"],function(e){var t=e("flight/lib/component");return t(function(){this.setIsBuffering=function(){this.isBuffering||this.trigger("dataIsBuffering"),this.isBuffering=!0},this.setIsNotBuffering=function(){this.isBuffering&&this.trigger("dataIsNotBuffering"),this.isBuffering=!1},this.after("initialize",function(){this.isBuffering=!1,this.on(document,"uiReportPause",this.setIsNotBuffering),this.on(document,"uiReportVideoFinished",this.setIsNotBuffering),this.on(document,"dataScrubStart",this.setIsNotBuffering),this.on(document,"dataScrubEnd",this.setIsNotBuffering),this.on(document,"uiPlayerStateIntrospectionPlaying",this.setIsNotBuffering),this.on(document,"uiPlayerStateIntrospectionBuffering",this.setIsBuffering),this.on(document,"dataPlaybackError",this.setIsNotBuffering)})})}),define("lib/scribelib/log_transport",[],function(){function e(e){this.options=e||{}}return e.prototype={flush:function(e,t,n,r,i){if(!e)return;i===undefined&&(i=!!this.options.sync);var s={url:t,data:e,type:r,dataType:"json",async:!i,headers:n};this.options.debug&&(this.options.debugHandler&&(s.success=this.options.debugHandler),s.data.debug="1"),$.ajax(s)},send:function(e,t,n,r,i){if(!e)return;this.flush(e,t,n,r,i),this.options.debug&&$(document).trigger("dataDebugLoggingEvent",{data:e,url:t,headers:n,method:r})}},{LogTransport:e}}),define("lib/scribelib/scribelib",[],function(){function e(e,t){function r(e,t){e._category_=t}this.scribeContext={},this.scribeData={},this.DEFAULT_SCRIBE_API_ENDPOINT="/i/jot",this.DEFAULT_HEADERS={"X-Twitter-Polling":!0},this.options=$.extend({},t);if(this.options.url===undefined)this.options.url=this.DEFAULT_SCRIBE_API_ENDPOINT;else{var n=window.location.protocol==="https:"?"https:":"http:";this.options.url=this.options.url.replace(/^[a-z]+:/g,n).replace(/\/$/,"")}this.options.headers===undefined&&(this.options.headers=this.DEFAULT_HEADERS),this.scribe=function(t,n,i){if(!t||typeof t!="object"||n&&typeof n!="object")throw new Error("Invalid terms or data hash argument when calling ClientEvent.scribe().");if(!i)throw new Error("You must specify a category");r(n,i);if(this.scribeContext){var s=typeof this.scribeContext=="function"?this.scribeContext():this.scribeContext;t=$.extend({},s,t)}for(var o in t)t[o]=t[o]&&(""+t[o]).toLowerCase().replace(/_?[^a-z0-9_]+_?/g,"_");e.options.debug&&$.each(["client","action"],function(e,n){if(!t[n])throw new Error("You must specify a "+n+" term in your event.")});var n=$.extend({},n);if(this.scribeData){var u=typeof this.scribeData=="function"?this.scribeData():this.scribeData;n=$.extend({},u,n)}n.event_namespace=t,n.triggered_on=n.triggered_on||+(new Date),n.format_version=n.format_version||2,e.send({log:JSON.stringify([n])},this.options.url,this.options.headers,"POST")}}function t(e,t){this.experiments=e||{},this.impressions={},this.scribeExperiment=function(e,n,r){var i=$.extend({page:"ddg",section:e.experiment_key,component:"",element:""},n);r=r||{},r.experiment_key=e.experiment_key,r.bucket=e.bucket,r.version=e.version,(t||window.clientEvent).scribe(i,r)},this.impression=function(e){var t=this.experiments[e];t&&(e=t.experiment_key,this.impressions[e]||(this.scribeExperiment(t,{action:"experiment"}),this.impressions[e]=!0))},this.track=function(e,t,n){if(!t)throw new Error("You must specify an event name to track custom DDG events. Event names should be lower-case, snake_cased strings.");var r=this.experiments[e];r&&this.scribeExperiment(r,{element:t,action:"track"},n)},this.bucket=function(e){var t=this.experiments[e];return t?t.bucket:""}}return{ClientEvent:e,DDG:t}}),define("data/tracking/with_was_playback_requested",[],function(){return function(){this.attributes({autoPlay:undefined}),this.onUiReportStartPlay=function(){this.wasPlaybackRequested=!0},this.after("initialize",function(){this.wasPlaybackRequested=this.attr.autoPlay,this.attr.autoPlay||this.on(document,"uiReportStartPlay",this.onUiReportStartPlay)})}}),define("data/tracking/scriber",["require","flight/lib/component","lib/scribelib/scribelib","data/tracking/with_has_playback_started","data/tracking/with_latency_since_playback_request","data/tracking/with_was_playback_requested"],function(e){function u(){this.attributes({autoPlay:undefined,logTransport:undefined,sendBeaconTransport:undefined,client:undefined,page:undefined,section:undefined,component:undefined,element:undefined,publisherId:undefined,playlistIdentifier:undefined,tweetId:undefined,sourceType:undefined,impressionId:undefined,scribeUrl:undefined,liveVideoEvent:undefined}),this.handleScribeEvent=function(e,t,n){t=t.customScribe;var r={client:this.attr.client,page:this.attr.page,section:this.attr.section,component:this.attr.component,element:this.attr.element,action:t.action},i;typeof t.category!="undefined"?i=t.category:this.attr.client==="tfw"?i="tfw_client_event":i="client_event";var s=$.extend({},this.additionalScribeParams,t.itemData);if(window.DEBUG&&window.DEBUG.enabled&&window.console){var o="["+r.client+":"+r.page+":*:*:"+r.element+":"+r.action+"]";window.console.info("$$","scribe","[scribelib]",i,o,s)}var u={items:[s]};typeof t.widgetOrigin!="undefined"&&(u.widget_origin=t.widgetOrigin),n.scribe(r,u,i)},this.handleSendBeaconScribeEvent=function(e,t){this.handleScribeEvent(e,t,this.sendBeaconScribeClientEvent)},this.handleStandardScribeEvent=function(e,t){this.handleScribeEvent(e,t,this.scribeClientEvent)},this.setupTweetScribeParams=function(){var e={};e.item_type="0",e.id=this.attr.tweetId,e.publisher_id=this.attr.publisherId,e.promoted_id=this.attr.impressionId;switch(this.attr.sourceType){case"vine":e.content_id=this.attr.playlistIdentifier,e.video_uuid=this.attr.playlistIdentifier,e.video_type="video",e.video_owner_id=this.attr.publisherId,e.card_type="6",e.card_name="player";break;case"amplify":e.card_type="6",e.card_name="amplify"}this.additionalScribeParams=e},this.setupLiveVideoScribeParams=function(){var e=this.attr.liveVideoEvent;this.additionalScribeParams={item_type:"28",id:e.id,video_owner_id:e.ownerId,publisher_id:e.ownerId,content_id:e.mediaEntityId,video_uuid:e.mediaEntityId,playlist_url:e.playlistUrl}},this.onWindowUnload=function(){this.wasPlaybackRequested&&!this.hasPlaybackStarted&&this.handleSendBeaconScribeEvent(null,{customScribe:{action:"playback_abandoned",itemData:{latency:this.getPlaybackRequestLatency()}}})},this.after("initialize",function(){this.scribeClientEvent=new o(this.attr.logTransport,{url:this.attr.scribeUrl}),this.sendBeaconScribeClientEvent=new o(this.attr.sendBeaconTransport,{url:this.attr.scribeUrl}),this.attr.liveVideoEvent?(this.setupLiveVideoScribeParams(),this.on(window,"beforeunload",this.onWindowUnload)):this.setupTweetScribeParams(),this.on(document,"dataScribeEvent",this.handleStandardScribeEvent)})}var t=e("flight/lib/component"),n=e("lib/scribelib/scribelib"),r=e("data/tracking/with_has_playback_started"),i=e("data/tracking/with_latency_since_playback_request"),s=e("data/tracking/with_was_playback_requested"),o=n.ClientEvent;return t(u,r,i,s)}),define("lib/scribelib/promotedlib",["require","utils/utils"],function(e){function n(e,n){this.DEFAULT_PROMOTED_LOG_API_ENDPOINT="/i/promoted_content/log.json",this.options=$.extend({},n);if(this.options.url===undefined)this.options.url=this.DEFAULT_PROMOTED_LOG_API_ENDPOINT;else{var r=window.location.protocol==="https:"?"https:":"http:";this.options.url=this.options.url.replace(/^[a-z]+:/g,r).replace(/\/$/,"")}this.options.headers===undefined&&this.options.authenticityToken&&(this.options.headers={"X-PHX":!0}),this.log=function(n){if(n&&typeof n!="object")throw new Error("Invalid terms or data hash argument when calling PromotedLog.log().");var n=$.extend({},n);this.options.authenticityToken&&(n.authenticity_token=this.options.authenticityToken),e.send(t.sortObject(n),this.options.url,this.options.headers,"GET")}}var t=e("utils/utils");return{PromotedLog:n}}),define("data/tracking/promologger",["require","flight/lib/component","lib/scribelib/promotedlib","utils/utils"],function(e){function s(){this.attributes({logTransport:undefined,impressionId:undefined,disclosureType:undefined,promotedLogUrl:undefined,authenticityToken:undefined}),this.handlePromotedLogEvent=function(e,t){window.DEBUG&&window.DEBUG.enabled&&window.console&&window.console.info("$$","promotedlog","[promologger]",t);var n=$.extend({},t);n=i.renameProperty(n,"impressionId","impression_id"),n=i.renameProperty(n,"name","event"),n=$.extend({},{impression_id:this.attr.impressionId},n);if(n.impression_id){var r=t.disclosureType||this.attr.disclosureType;delete n.disclosureType,n.earned=this.isEarnedMedia(r),this.promotedLog.log(n)}},this.isEarnedMedia=function(e){return e==="earned"},this.after("initialize",function(){this.promotedLog=new r(this.attr.logTransport,{url:this.attr.promotedLogUrl,authenticityToken:this.attr.authenticityToken}),this.on(document,"dataPromotedContentEvent",this.handlePromotedLogEvent)})}var t=e("flight/lib/component"),n=e("lib/scribelib/promotedlib"),r=n.PromotedLog,i=e("utils/utils");return t(s)}),define("data/tracking/viewport_position",["require","flight/lib/component"],function(e){function n(){this.percentVisibleChange=function(e,t){var n=0;if(t&&t.parentViewportSize&&t.positionInParent&&!t.videoHidden){var r=t.parentViewportSize,i=t.positionInParent;if(this.viewportPositionDataExists(r,i))if(this.entirelyNotVisible(r,i))n=0;else if(this.entirelyVisible(r,i))n=1;else{var s=i.bottom-i.top,o=i.right-i.left,u=this.visibleCoordinates(r,i),a=u.bottom-u.top,f=u.right-u.left,l=s*o;n=l===0?0:a*f/l}}this.trigger("dataPercentVisible",{percentVisible:n})},this.viewportPositionDataExists=function(e,t){var n=[e.top,e.bottom,e.left,e.right,t.top,t.bottom,t.left,t.right];return n.every(function(e){return typeof e!="undefined"})},this.entirelyNotVisible=function(e,t){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right},this.entirelyVisible=function(e,t){return t.top>=e.top&&t.bottom<=e.bottom&&t.left>=e.left&&t.right<=e.right},this.visibleCoordinates=function(e,t){return{top:Math.max(t.top,e.top),left:Math.max(t.left,e.left),bottom:Math.min(t.bottom,e.bottom),right:Math.min(t.right,e.right)}},this.after("initialize",function(){this.on(document,"dataPositionInParentUpdate",this.percentVisibleChange)})}var t=e("flight/lib/component");return t(n)}),define("data/tracking/with_buffering_duration_accumulation",[],function(){return function(){this.onBufferingStart=function(){this.isBuffering||(this.isBuffering=!0,this.bufferingStartTime=this.getCurrentTime())},this.onBufferingEnd=function(){if(this.isBuffering){this.isBuffering=!1;var e=this.getCurrentTime();this.bufferingStartTime!==undefined&&(this.bufferTimeAccumulator+=e-this.bufferingStartTime),this.bufferingStartTime=undefined}},this.resetBufferTime=function(){this.getAndResetBufferTime()},this.getAndResetBufferTime=function(){var e=this.bufferTimeAccumulator;if(this.isBuffering){var t=this.getCurrentTime();e+=t-this.bufferingStartTime,this.bufferingStartTime=t}else this.bufferingStartTime=undefined;return this.bufferTimeAccumulator=0,e},this.getCurrentTime=function(){return Date.now()},this.after("initialize",function(){this.isBuffering=!1,this.bufferTimeAccumulator=0,this.on(document,"dataIsBuffering",this.onBufferingStart),this.on(document,"dataIsNotBuffering",this.onBufferingEnd)})}}),define("data/tracking/with_layout_durations",[],function(){var e=8,t=5,n=6,r=7,i={wide:r,narrow_short:t,narrow_tall:n},s=function(e){return e==="wide"||e==="narrow_short"||e==="narrow_tall"};return function(){this.getCurrentTimestamp=function(){return Date.now()},this.getLayout=function(){if(this.isFullScreen)return e;if(this.currentBreakpoint)return i[this.currentBreakpoint]},this.getAndResetLayoutDurations=function(){this.recordCurrentLayout();var e=this.layoutDurations;return this.layoutDurations=[],e},this.recordCurrentLayout=function(){var e=this.getLayout();e&&this.layoutDurations.push({layout:this.getLayout(),time_millis:this.getCurrentTimestamp()-this.lastLayoutTimestamp}),this.lastLayoutTimestamp=this.getCurrentTimestamp()},this.onBreakpointUpdate=function(e,t){s(t.breakpoint)&&(this.isFullScreen||this.recordCurrentLayout(),this.currentBreakpoint=t.breakpoint)},this.onEnterFullScreen=function(){this.recordCurrentLayout(),this.isFullScreen=!0},this.onExitFullScreen=function(){this.recordCurrentLayout(),this.isFullScreen=!1},this.after("startPolling",function(){this.lastLayoutTimestamp=this.getCurrentTimestamp()}),this.after("initialize",function(){this.layoutDurations=[],this.isFullScreen=!1,this.on(document,"dataUpdateLayoutBreakpoint",this.onBreakpointUpdate),this.on(document,"uiReportEnterFullScreen",this.onEnterFullScreen),this.on(document,"uiReportExitFullScreen",this.onExitFullScreen)})}}),define("data/tracking/with_current_bitrate",[],function(){return function(){this.onBitrateSwitch=function(e,t){this.currentBitrate=t.bitrate},this.after("initialize",function(){this.on(document,"uiReportBitrateSwitch",this.onBitrateSwitch)})}}),define("data/tracking/heartbeat_scribe",["require","flight/lib/component","data/tracking/with_buffering_duration_accumulation","data/tracking/with_layout_durations","data/tracking/with_current_bitrate","data/tracking/with_player_visibility"],function(e){var t=e("flight/lib/component"),n=e("data/tracking/with_buffering_duration_accumulation"),r=e("data/tracking/with_layout_durations"),i=e("data/tracking/with_current_bitrate"),s=e("data/tracking/with_player_visibility");return t(function(){this.attributes({heartbeatIntervalInMs:5e3,bufferingStateDurationRecorder:undefined}),this.onHeartbeat=function(){var e={buffering_duration_millis:this.getAndResetBufferTime()};if(this.startAbsoluteTime&&this.lastAbsoluteTime){var t=this.lastAbsoluteTime-this.startAbsoluteTime;if(!(t>=0&&t<2*this.attr.heartbeatIntervalInMs/1e3)){this.startAbsoluteTime=this.lastAbsoluteTime;return}e.start_program_date_time_millis=Math.round(this.startAbsoluteTime*1e3),e.end_program_date_time_millis=Math.round(this.lastAbsoluteTime*1e3)}this.currentBitrate&&(e.sampled_bitrate=this.currentBitrate);var n=this.getAndResetLayoutDurations();n.length>0&&(e.player_layout_states=n),e.video_visibility=Math.floor(this.getPlayerVisibility()*100),this.trigger("dataHeartbeat",e),this.startAbsoluteTime=this.lastAbsoluteTime},this.stopPolling=function(){clearInterval(this.intervalId),this.onHeartbeat(),this.intervalId=undefined,this.lastAbsoluteTime=undefined,this.startAbsoluteTime=undefined},this.onTimeUpdate=function(e,t){typeof t.absoluteTime!="undefined"&&(this.lastAbsoluteTime=t.absoluteTime,typeof this.startAbsoluteTime=="undefined"&&(this.startAbsoluteTime=t.absoluteTime))},this.startPolling=function(){typeof this.intervalId=="undefined"&&(this.resetBufferTime(),this.intervalId=setInterval(this.onHeartbeat.bind(this),this.attr.heartbeatIntervalInMs),this.lastAbsoluteTime=undefined,this.startAbsoluteTime=undefined)},this.after("initialize",function(){this.on(document,"uiReportPlay dataScrubEnd",this.startPolling),this.on(document,"uiReportPause uiReportVideoFinished dataScrubStart",this.stopPolling),this.on(window,"beforeunload",this.stopPolling),this.on(document,"uiTimeUpdate",this.onTimeUpdate)}),this.before("teardown",this.stopPolling)},i,n,r,s)}),define("utils/send_beacon_transport",[],function(){function e(e,t){this.navigator=e,this.options=t||{}}return e.prototype.send=function(e,t,n,r){if(r.toUpperCase()==="POST"&&this.navigator&&typeof this.navigator.sendBeacon=="function"){var i=new FormData;return i.append("log",e.log),this.navigator.sendBeacon(t,i)}return!1},e}),define("data/tracking/tracking_boot",["require","data/tracking/video_scribe","data/tracking/promoted_events","data/tracking/beacons","data/tracking/buffering_state_reporter","lib/scribelib/log_transport","data/tracking/scriber","data/tracking/promologger","data/tracking/viewport_position","data/tracking/heartbeat_scribe","utils/send_beacon_transport"],function(e){function h(){var e;return document.cookie.split(";").forEach(function(t){var n=t.split("=");n[0].trim()==="scribe_url"&&n[1].trim()!==""&&(e=n[1].trim())}),e}function p(e){var s,o;e.sourceType==="gif"||e.sourceType==="snap-reel"?(s=e.scribePlaylistUrl||e.mediaId,o="gif_player"):e.sourceType==="vine"?(s=e.scribePlaylistUrl||e.playerUrl,o="vine_player"):e.liveVideoEvent?(s=e.liveVideoEvent.playlistUrl,o="live_video_player"):e.scribePlaylistUrl?(s=e.scribePlaylistUrl,o="video_player"):e.mediaId?(s=e.mediaId,o="video_player"):(s=e.vmapUrl||e.jsonUrl,o="platform_amplify_card");var u=e.videoSessionEnabled,a;e.liveVideoEvent&&(a="live_video_heartbeat_event",e.useTFWLiveHeartbeatEventCategory&&e.scribeParams&&e.scribeParams.client==="tfw"&&(a="tfw_live_video_heartbeat_event")),t.attachTo(document,{playlistIdentifier:s,element:o,sourceType:e.sourceType,heartbeatCategory:a,widgetOrigin:e.widgetOrigin,loopingEnabled:e.loopingEnabled}),n.attachTo(document,{playlistIdentifier:s,videoSessionEnabled:u}),r.attachTo(document),f.attachTo(document),d(e.embedSource,o,e.publisherId,s,e.tweetId,e.sourceType,e.scribeParams,e.promotedLogParams,e.liveVideoEvent,e.autoPlay);if(e.liveVideoEvent||e.sourceType!=="vine"&&e.sourceType!=="snap-reel"&&e.heartbeatEnabled)i.attachTo(document),l.attachTo(document,{heartbeatIntervalInMs:e.heartbeatIntervalInMs})}function d(e,t,n,r,i,s,f,l,p,d){var v=!e,m,g,y,b;switch(e){case"facebook":m="tfw",g="facebook";break;case"related_tweets":m="web",g="home",y="home",b="related_tweets";break;case"clientlib":m=f.client,g=f.page,y=f.section,b=f.component,v=f.suppressScribing;break;case"moments":v=!0;break;default:m=f&&f.client||"web",g=f&&f.page,y=f&&f.section,b=f&&f.component}if(!v){var w=new o({bufferEvents:!1,debug:f&&f.debugScribe}),E=new c(window.navigator);u.attachTo(document,{autoPlay:d,logTransport:w,client:m,page:g,section:y,component:b,element:t,publisherId:n,playlistIdentifier:r,tweetId:i,sendBeaconTransport:E,sourceType:s,impressionId:l&&l.impressionId,scribeUrl:f&&f.scribeUrl||h(),liveVideoEvent:p}),a.attachTo(document,{logTransport:w,impressionId:l&&l.impressionId,disclosureType:l&&l.disclosureType,promotedLogUrl:l&&l.promotedLogUrl,authenticityToken:l&&l.authenticityToken})}}var t=e("data/tracking/video_scribe"),n=e("data/tracking/promoted_events"),r=e("data/tracking/beacons"),i=e("data/tracking/buffering_state_reporter"),s=e("lib/scribelib/log_transport"),o=s.LogTransport,u=e("data/tracking/scriber"),a=e("data/tracking/promologger"),f=e("data/tracking/viewport_position"),l=e("data/tracking/heartbeat_scribe"),c=e("utils/send_beacon_transport");return p}),define("translations",[],function(){return{"en-ss":{"%{viewNum} views":"[[159135]] %{viewNum} views","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"[[60174]] <p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>","<p>This browser does not support video playback.</p>":"[[104077]] <p>This browser does not support video playback.</p>",Ad:"[[149844]] Ad","Ad %{timeRemaining}":"[[111741]] Ad %{timeRemaining}","Ad &middot %{timeRemaining}":"[[158519]] Ad &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"[[157932]] Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.",Allow:"[[160180]] Allow","Cannot play video due to cookies being disabled":"[[157842]] Cannot play video due to cookies being disabled",Follow:"[[97306]] Follow",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'[[160133]] In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'[[159624]] In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>',"More Videos":"[[153333]] More Videos","More videos":"[[155684]] More videos","Playback is not supported in this environment.":"[[44043]] Playback is not supported in this environment.","Playback is not supported on this device.":"[[60175]] Playback is not supported on this device.","Playback is not supported.":"[[44041]] Playback is not supported.",Scrub:"[[146302]] Scrub",Skip:"[[149845]] Skip","Sorry this video is not available in your location.":"[[156155]] Sorry this video is not available in your location.","The media could not be played on this domain.":"[[158517]] The media could not be played on this domain.","The media could not be played.":"[[60173]] The media could not be played.","This media cannot be played on this domain":"[[158427]] This media cannot be played on this domain",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'[[160179]] To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"[[157863]] Unfortunately Safari isn't supported now.  Please try a different browser.","Unfortunately, license restrictions prevent video viewing in your location.":"[[158547]] Unfortunately, license restrictions prevent video viewing in your location.","Video in %{time}":"[[60176]] Video in %{time}","Visit %{hostname}":"[[60177]] Visit %{hostname}","Watch now at %{hostname}":"[[60178]] Watch now at %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'[[158658]] We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'[[159407]] We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'[[158659]] We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"[[157864]] We cannot play this video due to cookie settings. Please allow cookies from external domains and try again."},"en-xx":{"%{viewNum} views":"[%{vïíéêwNüm} vïíéêws]","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":'[<p>Thïís bröøwséêr döøéês nöøt süppöørt thïís vïídéêöø föørmåät, åänd yöøü döø nöøt håävéê Flåäsh ïínståälléêd.</p><p>\n  <a target="_blank" href="http://get.adobe.com/flashplayer">Döøwnlöøåäd Flåäsh</a>\n</p>]',"<p>This browser does not support video playback.</p>":"[<p>Thïís bröøwséêr döøéês nöøt süppöørt vïídéêöø plåäybåäck.</p>]",Ad:"[Ad]","Ad %{timeRemaining}":"[Ad %{tïíméêRéêmåäïínïíng}]","Ad &middot %{timeRemaining}":"[Ad &mïíddöøt %{tïíméêRéêmåäïínïíng}]","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"[Ad blöøckïíng préêvéênts thïís vïídéêöø fröøm plåäyïíng. <br /> Pléêåäséê dïísåäbléê åäd blöøckïíng öør try åä dïífféêréênt bröøwséêr.]",Allow:"[Allöøw]","Cannot play video due to cookies being disabled":"[Cåännöøt plåäy vïídéêöø düéê töø cöøöøkïíéês béêïíng dïísåäbléêd]",Follow:"[Föøllöøw]",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'[In öørdéêr töø plåäy vïídéêöø öøn yöøür bröøwséêr wéê néêéêd töø séêt cöøöøkïíéês öøff döømåäïín. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is thåät öøk?</a>]','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'[In öørdéêr töø plåäy vïídéêöø öøn yöøür bröøwséêr wéê néêéêd töø séêt cöøöøkïíéês öøff döømåäïín. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is thåät öøk?</a>]',"More Videos":"[Möøréê Vïídéêöøs]","More videos":"[Möøréê vïídéêöøs]","Playback is not supported in this environment.":"[Plåäybåäck ïís nöøt süppöørtéêd ïín thïís éênvïíröønméênt.]","Playback is not supported on this device.":"[Plåäybåäck ïís nöøt süppöørtéêd öøn thïís déêvïícéê.]","Playback is not supported.":"[Plåäybåäck ïís nöøt süppöørtéêd.]",Scrub:"[Scrüb]",Skip:"[Skïíp]","Sorry this video is not available in your location.":"[Söørry thïís vïídéêöø ïís nöøt åävåäïílåäbléê ïín yöøür löøcåätïíöøn.]","The media could not be played on this domain.":"[Théê méêdïíåä cöøüld nöøt béê plåäyéêd öøn thïís döømåäïín.]","The media could not be played.":"[Théê méêdïíåä cöøüld nöøt béê plåäyéêd.]","This media cannot be played on this domain":"[Thïís méêdïíåä cåännöøt béê plåäyéêd öøn thïís döømåäïín]",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'[Töø plåäy théê vïídéêöø wéê néêéêd töø üséê cöøöøkïíéês fröøm åänöøthéêr Twïíttéêr döømåäïín (twïímg.cöøm). Pléêåäséê clïíck töø åällöøw üs töø brïíéêfly öøpéên åä néêw wïíndöøw åänd séêt théê cöøöøkïíéê néêcéêssåäry töø vïíéêw théê cöøntéênt. <a href="https://t.co/livevideobrowsers" target="_blank">Léêåärn möøréê.</a>]',"Unfortunately Safari isn't supported now.  Please try a different browser.":"[Unföørtünåätéêly Såäfåärïí ïísn't süppöørtéêd nöøw.  Pléêåäséê try åä dïífféêréênt bröøwséêr.]","Unfortunately, license restrictions prevent video viewing in your location.":"[Unföørtünåätéêly, lïícéênséê réêstrïíctïíöøns préêvéênt vïídéêöø vïíéêwïíng ïín yöøür löøcåätïíöøn.]","Video in %{time}":"[Vïídéêöø ïín %{tïíméê}]","Visit %{hostname}":"[Vïísïít %{höøstnåäméê}]","Watch now at %{hostname}":"[Wåätch nöøw åät %{höøstnåäméê}]",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'[Wéê cåännöøt plåäy théê vïídéêöø ïín thïís bröøwséêr.  Pléêåäséê try åä dïífféêréênt wéêb bröøwséêr öør <a href="https://t.co/livevideobrowsers" target="_blank">üpdåätéê yöøür cöøöøkïíéê séêttïíngs.</a>]','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'[Wéê cåännöøt plåäy théê vïídéêöø ïín thïís bröøwséêr.  Pléêåäséê try åä dïífféêréênt wéêb bröøwséêr öør <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">üpdåätéê yöøür cöøöøkïíéê séêttïíngs.</a>]','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'[Wéê cåännöøt plåäy théê vïídéêöø ïín thïís bröøwséêr.  Pléêåäséê try åä dïífféêréênt wéêb bröøwséêr öør <a href="https://t.lv.twimg.com/livevideobrowsers">üpdåätéê yöøür cöøöøkïíéê séêttïíngs.</a>]',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"[Wéê cåännöøt plåäy thïís vïídéêöø düéê töø cöøöøkïíéê séêttïíngs. Pléêåäséê åällöøw cöøöøkïíéês fröøm éêxtéêrnåäl döømåäïíns åänd try åägåäïín.]"},ko:{"%{viewNum} views":"조회 %{viewNum}회","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>사용하는 브라우저가 이 동영상 형식을 지원하지 않고, Flash가 설치되지 않았습니다.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Flash 받으러 가기</a></p>","<p>This browser does not support video playback.</p>":"<p>이 브라우저는 동영상 재생을 지원하지 않습니다.</p>",Ad:"광고","Ad %{timeRemaining}":"광고 %{timeRemaining}","Ad &middot %{timeRemaining}":"광고 &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"광고 차단 프로그램으로 인해 동영상을 재생할 수 없습니다.<br />광고 차단 프로그램을 끄거나 다른 브라우저에서 시도해보세요.",Allow:"허용","Cannot play video due to cookies being disabled":"쿠키가 비활성화되어 있어 동영상을 재생할 수 없습니다",Follow:"팔로우하기",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'내 브라우저에서 동영상을 재생하려면 외부 도메인의 쿠키를 허용해야 합니다. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">그렇게 할까요?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'내 브라우저에서 동영상을 재생하려면 외부 도메인의 쿠키를 허용해야 합니다. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">그렇게 할까요?</a>',"More Videos":"더 많은 동영상","More videos":"더 많은 동영상","Playback is not supported in this environment.":"재생할 수 없는 환경입니다.","Playback is not supported on this device.":"이 기기에서는 재생이 지원되지 않습니다.","Playback is not supported.":"재생할 수 없습니다.",Scrub:"문지르세요",Skip:"건너뛰기","Sorry this video is not available in your location.":"현재 위치에서 재생할 수 없는 동영상입니다.","The media could not be played on this domain.":"미디어를 이 도메인에서 재생할 수 없습니다.","The media could not be played.":"재생할 수 없는 미디어입니다.","This media cannot be played on this domain":"이 미디어는 이 도메인에서 재생할 수 없습니다",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'동영상을 재생하려면 다른 트위터 도메인(twimg.com)에서 쿠키를 사용할 수 있도록 허용해야 합니다. 트위터에서 새 창을 열고 콘텐츠를 보기 위해 필요한 쿠키를 설정할 수 있도록 클릭해 주세요. <a href="https://t.co/livevideobrowsers" target="_blank">자세히 알아보기</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Safari는 현재 지원되지 않습니다. 다른 브라우저를 사용해보세요.","Unfortunately, license restrictions prevent video viewing in your location.":"라이센스 제한 때문에 현재 위치에서 동영상을 볼 수 없습니다.","Video in %{time}":"%{time}초 후에 시작","Visit %{hostname}":"%{hostname} 방문하기","Watch now at %{hostname}":"%{hostname} 에서 지금 감상하기",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'이 브라우저에서 동영상을 재생할 수 없습니다. 다른 웹 브라우저에서 시도하거나 <a href="https://t.co/livevideobrowsers" target="_blank">쿠키 설정을 업데이트</a>해주세요.','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'이 브라우저에서 동영상을 재생할 수 없습니다. 다른 웹 브라우저에서 시도하거나 <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">쿠키 설정을 업데이트</a>해주세요.','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'이 브라우저에서 동영상을 재생할 수 없습니다. 다른 웹 브라우저에서 시도하거나 <a href="https://t.lv.twimg.com/livevideobrowsers">쿠키 설정을 업데이트</a>해주세요.',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"쿠키 설정 때문에 이 동영상을 재생할 수 없습니다. 외부 도메인의 쿠키를 허용한 후 다시 시도해주세요."},de:{"%{viewNum} views":"%{viewNum} Aufrufe","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Dieser Browser unterstützt dieses Video-Format nicht und Du hast Flash nicht installiert.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Flash herunterladen</a></p>","<p>This browser does not support video playback.</p>":"<p>Dieser Browser unterstützt keine Wiedergabe von Videos.</p>",Ad:"Anzeige","Ad %{timeRemaining}":"Anzeige %{timeRemaining}","Ad &middot %{timeRemaining}":"Anzeige &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"Das Blockieren von Werbeanzeigen verhindert das Abspielen dieses Videos.<br />Bitte deaktiviere Deinen Adblocker oder versuche einen anderen Browser.",Allow:"Erlauben","Cannot play video due to cookies being disabled":"Video kann aufgrund von deaktivierten Cookies nicht abgespielt werden",Follow:"Folgen",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'Um Videos in Deinem Browser abspielen zu können, müssen wir Cookies von einer anderen Domain setzen. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Ist das in Ordnung?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'Um Videos in Deinem Browser abspielen zu können, müssen wir Cookies von einer anderen Domain setzen. <a \nhref="https://t.lv.twimg.com/live_video_cookies" target="_blank">Ist \ndas  in Ordnung?</a>',"More Videos":"Weitere Videos","More videos":"Weitere Videos","Playback is not supported in this environment.":"Wiedergabe wird in dieser Umgebung nicht unterstützt.","Playback is not supported on this device.":"Playback wird auf diesem Gerät nicht unterstützt.","Playback is not supported.":"Wiedergabe wird nicht unterstützt.",Scrub:"Streichen",Skip:"Überspringen","Sorry this video is not available in your location.":"Sorry, dieses Video ist in Deiner Region nicht verfügbar.","The media could not be played on this domain.":"Dieses Medium konnte auf dieser Domain nicht abgespielt werden.","The media could not be played.":"Das Medium konnte nicht abgespielt werden.","This media cannot be played on this domain":"Dieses Medium kann auf dieser Domain nicht abgespielt werden",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'Um das Video abspielen zu können, müssen wir Cookies von einer anderen Twitter Domain (twimg.com) nutzen. Bitte klicke hier, damit wir kurz ein neues Fenster öffnen und den notwendigen Cookie zum Anschauen des Inhalts setzen können. <a href="https://t.co/livevideobrowsers" target="_blank">Mehr erfahren.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Leider wird Safari derzeit nicht unterstützt. Bitte versuche einen anderen Browser.","Unfortunately, license restrictions prevent video viewing in your location.":"Leider verhindern Lizenzbeschränkungen in Deiner Region die Videowiedergabe.","Video in %{time}":"Video in %{time}","Visit %{hostname}":"%{hostname} besuchen","Watch now at %{hostname}":"Jetzt auf %{hostname} ansehen",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'Wir können das Video in diesem Browser nicht abspielen. Bitte versuche es mit einem anderen Browser oder <a href="https://t.co/livevideobrowsers" target="_blank">aktualisiere Deine Cookie-Einstellungen.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'Wir können das Video in diesem Browser nicht abspielen. Bitte versuche es mit einem anderen Browser oder <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">aktualisiere Deine Cookie-Einstellungen.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'Wir können das Video in diesem Browser nicht abspielen. Bitte versuche es mit einem anderen Browser oder <a href="https://t.lv.twimg.com/livevideobrowsers">aktualisiere Deine Cookie-Einstellungen.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"Wir können dieses Video aufgrund der Cookie-Einstellungen nicht abspielen. Bitte lasse Cookies von externen Domains zu und versuche es erneut."},fr:{"%{viewNum} views":"%{viewNum} vues","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Ce navigateur ne prend pas en charge ce format vidéo, et vous n'avez pas installé Flash.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Télécharger Flash</a></p>","<p>This browser does not support video playback.</p>":"<p>Ce navigateur ne prend pas en charge la lecture vidéo.</p>",Ad:"Publicité","Ad %{timeRemaining}":"Annonce %{timeRemaining}","Ad &middot %{timeRemaining}":"Publicité &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"Le bloqueur de publicités empêche la lecture de cette vidéo.<br />Veuillez désactiver le blocage de publicités ou essayer un autre navigateur.",Allow:"Autoriser","Cannot play video due to cookies being disabled":"Impossible de lire la vidéo car les cookies sont désactivés",Follow:"Suivre",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'Pour pouvoir lire la vidéo sur votre navigateur, nous devons définir des cookies hors domaine. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Êtes-vous d\'accord ?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'Pour pouvoir lire la vidéo sur votre navigateur, nous devons définir des cookies hors domaine. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Êtes-vous d\'accord ?</a>',"More Videos":"Plus de Vidéos","More videos":"Plus de vidéos","Playback is not supported in this environment.":"La lecture n'est pas prise en charge dans cet environnement.","Playback is not supported on this device.":"La lecture n'est pas prise en charge sur cet appareil.","Playback is not supported.":"La lecture n'est pas prise en charge.",Scrub:"Parcourir",Skip:"Passer","Sorry this video is not available in your location.":"Désolé, cette vidéo n'est pas disponible dans votre région.","The media could not be played on this domain.":"Le média n'a pas pu être lu sur ce domaine.","The media could not be played.":"Le média n'a pas pu être lu.","This media cannot be played on this domain":"Ce média ne peut pas être lu sur ce domaine",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'Pour pouvoir lire la vidéo, nous devons utiliser les cookies d\'un autre domaine Twitter (twimg.com). Veuillez cliquer pour nous permettre d\'ouvrir brièvement une nouvelle fenêtre et définir le cookie nécessaire pour afficher le contenu. <a href="https://t.co/livevideobrowsers" target="_blank">En savoir plus.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Safari n'est malheureusement pas pris en charge pour le moment. Veuillez essayer un autre navigateur.","Unfortunately, license restrictions prevent video viewing in your location.":"Malheureusement, des restrictions de licence empêchent le visionnage des vidéos là où vous êtes.","Video in %{time}":"Vidéo dans %{time}","Visit %{hostname}":"Visiter %{hostname}","Watch now at %{hostname}":"Voir maintenant sur %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'Nous ne pouvons pas lire cette vidéo dans ce navigateur. Veuillez essayer un autre navigateur ou <a href="https://t.co/livevideobrowsers" target="_blank">mettez à jour vos paramètres de cookie.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'Nous ne pouvons pas lire la vidéo dans ce navigateur. Veuillez essayer un autre navigateur ou <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">mettre à jour vos paramètres de cookies.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'Nous ne pouvons pas lire la vidéo dans ce navigateur. Veuillez essayer un autre navigateur ou <a href="https://t.lv.twimg.com/livevideobrowsers">mettez à jour vos paramètres de cookie.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"Nous ne pouvons pas lire cette vidéo en raison des paramètres de cookies. Veuillez autoriser les cookies émanant de domaines externes et réessayer."},it:{"%{viewNum} views":"%{viewNum} visualizzazioni","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Il browser non supporta il formato di questo video e non hai Flash installato.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Scarica Flash</a></p>","<p>This browser does not support video playback.</p>":"<p>Questo browser non supporta la riproduzione video.</p>",Ad:"Annuncio","Ad %{timeRemaining}":"Inserzione %{timeRemaining}","Ad &middot %{timeRemaining}":"Annuncio &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"Il blocco della pubblicità impedisce la riproduzione di questo video.<br />Disabilita il blocco della pubblicità o prova con un altro browser.",Allow:"Consenti","Cannot play video due to cookies being disabled":"Non è possibile riprodurre il video perché i cookie sono disabilitati",Follow:"Segui",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'Per poter riprodurre video all\'interno del browser dobbiamo attivare dei cookie fuori dominio. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Va bene?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'Per poter riprodurre video all\'interno del browser dobbiamo attivare dei cookie fuori dominio. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Va bene?</a>',"More Videos":"Altri video","More videos":"Altri video","Playback is not supported in this environment.":"Riproduzione non supportata in questo ambiente.","Playback is not supported on this device.":"Riproduzione non supportata su questo dispositivo.","Playback is not supported.":"Riproduzione non supportata.",Scrub:"Muovi il dito",Skip:"Salta","Sorry this video is not available in your location.":"Spiacenti, questo video non è disponibile per la tua località.","The media could not be played on this domain.":"Il contenuto multimediale non può essere riprodotto su questo dominio.","The media could not be played.":"Il contenuto multimediale non può essere riprodotto.","This media cannot be played on this domain":"Il contenuto multimediale non può essere riprodotto su questo dominio",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'Per riprodurre il video abbiamo bisogno di utilizzare cookie da un altro \ndominio di Twitter (twimg.com). Clicca per consentirci di aprire \nbrevemente una nuova finestra e impostare il cookie necessario per \nvisualizzare il contenuto. <a href="https://t.co/livevideobrowsers" target="_blank">Per saperne di più.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Purtroppo Safari non è attualmente supportato. Prova con un altro browser.","Unfortunately, license restrictions prevent video viewing in your location.":"Purtroppo le restrizioni di licenza impediscono la visualizzazione del video nella tua località.","Video in %{time}":"Video tra %{time}","Visit %{hostname}":"Visita %{hostname}","Watch now at %{hostname}":"Guarda ora su %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'Non possiamo riprodurre il video in questo browser. Prova un altro browser web o <a href="https://t.co/livevideobrowsers" target="_blank">aggiorna le impostazioni sui cookie.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'Non possiamo riprodurre il video in questo browser. Prova un browser differente o <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">aggiorna le impostazioni sui cookie.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'Non possiamo riprodurre il video in questo browser. Prova un altro browser web o <a href="https://t.lv.twimg.com/livevideobrowsers">aggiorna le impostazioni sui cookie.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"Non possiamo riprodurre questo video per via delle impostazioni sui cookie. Abilitali per i domini esterni e riprova."},es:{"%{viewNum} views":"%{viewNum} reproducciones","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Este navegador no soporta este formato de video y no tienes Flash instalado.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Descargar Flash</a></p>","<p>This browser does not support video playback.</p>":"<p>Este navegador no soporta la reproducción de video.</p>",Ad:"Anuncio","Ad %{timeRemaining}":"Anuncio %{timeRemaining}","Ad &middot %{timeRemaining}":"Anuncio &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"El bloqueador de publicidad impide la reproducción de este video. <br />Por favor desactiva el bloqueador de publicidad  o intenta con otro navegador.",Allow:"Permitir","Cannot play video due to cookies being disabled":"No se puede reproducir el video debido a que las cookies están desactivadas",Follow:"Seguir",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'Necesitamos activar las cookies de dominio para reproducir video en tu navegador. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">¿Estás de acuerdo?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'Necesitamos activar las cookies de dominio para reproducir video en tu navegador. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">¿Estás de acuerdo?</a>',"More Videos":"Más videos","More videos":"Más videos","Playback is not supported in this environment.":"La reproducción no es compatible en este entorno.","Playback is not supported on this device.":"La reproducción no está soportada en este dispositivo.","Playback is not supported.":"La reproducción no es compatible.",Scrub:"Arrastrar cabezal de reproducción",Skip:"Omitir","Sorry this video is not available in your location.":"Lo sentimos, este video no está disponible en tu ubicación.","The media could not be played on this domain.":"No se pudo reproducir el contenido multimedia en este dominio.","The media could not be played.":"No se pudo reproducir el contenido multimedia.","This media cannot be played on this domain":"Este contenido multimedia no se puede reproducir en este dominio",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'Para reproducir el video, necesitamos utilizar las cookies de otro dominio de Twitter (twimg.com). Haz clic para que podamos abrir brevemente una ventana nueva y definir la cookie necesaria para ver el contenido. <a href="https://t.co/livevideobrowsers" target="_blank">Más información.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Safari no se admite actualmente. Prueba con otro navegador.","Unfortunately, license restrictions prevent video viewing in your location.":"Desafortunadamente, las restricciones de licencia impiden la reproducción de video en tu ubicación.","Video in %{time}":"Video en %{time}","Visit %{hostname}":"Visitar a %{hostname}","Watch now at %{hostname}":"Míralo ahora en %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'No podemos reproducir el video en este navegador. Inténtalo con un navegador web diferente o <a href="https://t.co/livevideobrowsers" target="_blank">actualiza tu configuración de cookies.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'No podemos reproducir el video en este navegador. Inténtalo con otro navegador o <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">actualiza tu configuración de cookies.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'No podemos reproducir el video en este navegador. Por favor, inténtalo con un navegador web diferente o <a href="https://t.lv.twimg.com/livevideobrowsers">actualiza tu configuración de cookies.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"No podemos reproducir este video debido a la configuración de cookies. Acepta las cookies de dominios externos e inténtalo de nuevo."},ja:{"%{viewNum} views":"%{viewNum} 回再生済み","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>ご利用のブラウザはこのフォーマットをサポートしていません。Flashがインストールされていません。</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Flashをダウンロード</a></p>","<p>This browser does not support video playback.</p>":"<p>ご利用のブラウザでは再生できません。</p>",Ad:"広告","Ad %{timeRemaining}":"広告 %{timeRemaining}","Ad &middot %{timeRemaining}":"広告 &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"広告ブロック機能により、この動画を再生できません。<br />広告ブロック機能をオフにするか、他のブラウザをお試しください。",Allow:"許可する","Cannot play video due to cookies being disabled":"Cookieが無効になっているため動画を再生できません",Follow:"フォローする",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'この動画を再生するにはCookieを有効にする必要があります。<a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">よろしいですか？</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'この動画を再生するにはCookieを有効にする必要があります。 <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">よろしいですか？</a>',"More Videos":"動画をさらに表示","More videos":"動画をさらに表示","Playback is not supported in this environment.":"こちらの環境では再生できません","Playback is not supported on this device.":"ご利用の端末では再生できません。","Playback is not supported.":"再生できません",Scrub:"タッチで操作",Skip:"スキップ","Sorry this video is not available in your location.":"この動画はご利用の地域では再生できません。","The media could not be played on this domain.":"このメディアはご利用の地域では再生できません。","The media could not be played.":"メディアを再生できませんでした。","This media cannot be played on this domain":"このメディアはご利用の地域では再生できません",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'この動画を再生するには、別のTwitterドメイン（twimg.com）に対してCookieを有効にする必要があります。クリックして新しいウィンドウを開くことを許可し、動画の再生に必要なCookieの設定を行ってください。<a href="https://t.co/livevideobrowsers" target="_blank">詳細はこちら。</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Safariではご利用できません。他のブラウザをお試しください。","Unfortunately, license restrictions prevent video viewing in your location.":"ライセンスの制限によりご利用の地域では動画を再生できません。","Video in %{time}":"動画 %{time}","Visit %{hostname}":"%{hostname}に移動","Watch now at %{hostname}":"%{hostname}を今すぐ見る",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'ご利用のブラウザではこの動画を再生できません。他のブラウザを使うか、<a href="https://t.co/livevideobrowsers" target="_blank">Cookieの設定を更新してください。</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'ご利用のブラウザではこの動画を再生できません。他のブラウザをお試しいただくか、<a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">Cookieの設定を更新してください。</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'ご利用のブラウザではこの動画を再生できません。他のブラウザを使うか、<a href="https://t.lv.twimg.com/livevideobrowsers">Cookieの設定を更新してください。</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"Cookieの設定が原因でこの動画を再生できません。外部ドメインからのCookieを許可してから、やりなおしてください。"},pt:{"%{viewNum} views":"%{viewNum}  visualizações","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Este navegador não suporta este formato de vídeo, e você não tem o Flash instalado.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Baixar Flash</a></p>","<p>This browser does not support video playback.</p>":"<p>Este navegador não suporta reprodução de vídeo.</p>",Ad:"Anúncio","Ad %{timeRemaining}":"Anúncio %{timeRemaining}","Ad &middot %{timeRemaining}":"Anúncio &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"O bloqueio de anúncios impede que este vídeo seja reproduzido.<br />Desative o bloqueio de anúncios ou tente em um navegador diferente.",Allow:"Permitir","Cannot play video due to cookies being disabled":"Não foi possível reproduzir a mídia, porque o recurso para aceitar cookies está desativado",Follow:"Seguir",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'Para reproduzirmos vídeo em seu navegador, nós precisamos definir os cookies do domínio. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank"> Tudo bem?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'Para reproduzir o vídeo em seu navegador, precisamos definir os cookies do domínio. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Tudo bem?</a>',"More Videos":"Mais vídeos","More videos":"Mais vídeos","Playback is not supported in this environment.":"A reprodução não é compatível neste ambiente.","Playback is not supported on this device.":"A reprodução não é suportada neste aparelho.","Playback is not supported.":"A reprodução não é compatível.",Scrub:"Scrub",Skip:"Pular","Sorry this video is not available in your location.":"Desculpe,\n  mas este vídeo não está mais disponível em sua localização.","The media could not be played on this domain.":"A mídia não pôde ser reproduzida neste domínio.","The media could not be played.":"A mídia não pôde ser reproduzida.","This media cannot be played on this domain":"Esta mídia não pôde ser reproduzida neste domínio",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'Para reproduzir o vídeo, precisamos usar os cookies de outro domínio do Twitter (twimg.com). Clique para permitir que abramos rapidamente uma nova janela e definamos o cookie necessário para exibir o conteúdo. <a href="https://t.co/livevideobrowsers" target="_blank">Saiba mais.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Infelizmente, não há suporte para o Safari agora. Tente um navegador diferente.","Unfortunately, license restrictions prevent video viewing in your location.":"Infelizmente, restrições de licença impedem a visualização do vídeo em sua localização.","Video in %{time}":"Vídeo em %{time}","Visit %{hostname}":"Visitar %{hostname}","Watch now at %{hostname}":"Assistir agora no %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'Não foi possível reproduzir o vídeo neste navegador.Tente outro navegador da Web ou <a href="https://t.co/livevideobrowsers" target="_blank">atualize suas configurações de cookies.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'Não foi possível reproduzir o vídeo neste navegador. Tente outro navegador ou <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">atualize suas configurações de cookies.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'Não foi possível reproduzir o vídeo neste navegador. Tente outro navegador ou <a href="https://t.lv.twimg.com/livevideobrowsers">atualize suas configurações de cookie.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"Não foi possível reproduzir este vídeo devido as configurações dos cookies. Aceite cookies de domínios externos e tente novamente."},ru:{"%{viewNum} views":"Просмотры: %{viewNum}","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Браузер не поддерживает формат данного видео, так как у вас не установлен Flash.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Скачать Flash</a></p>","<p>This browser does not support video playback.</p>":"<p>Воспроизведение видео не поддерживается в этом браузере.</p>",Ad:"Реклама","Ad %{timeRemaining}":"Реклама %{timeRemaining}","Ad &middot %{timeRemaining}":"Реклама &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"Блокировка рекламы предотвращает просмотр видео.<br />Пожалуйста, выключите блокировку рекламы или попробуйте другой браузер.",Allow:"Разрешить","Cannot play video due to cookies being disabled":"Не удается воспроизвести видео из-за отключенных файлов cookie",Follow:"Читать",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'Для того, чтобы воспроизвести видео в вашем браузере, мы должны установить файлы cookies вне домена. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Хорошо?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'Для того, чтобы воспроизвести видео в вашем браузере, мы должны установить файлы cookies вне домена. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Хорошо?</a>',"More Videos":"Больше видео","More videos":"Больше видео","Playback is not supported in this environment.":"Данное программное обеспечение не поддерживает функцию воспроизведения.","Playback is not supported on this device.":"Воспроизведение не поддерживается на этом устройстве.","Playback is not supported.":"Воспроизведение не поддерживается.",Scrub:"Отменить",Skip:"Пропустить","Sorry this video is not available in your location.":"К сожалению, это видео недоступно в вашем регионе.","The media could not be played on this domain.":"Этот медиафайл не может быть воспроизведен на этом домене.","The media could not be played.":"Не удается воспроизвести медиафайл.","This media cannot be played on this domain":"Этот медиафайл не может быть воспроизведен на этом домене",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'Для воспроизведения этого видео мы должны использовать файлы cookies из другого домена Твиттера (twimg.com). Пожалуйста, нажмите кнопку «Разрешить», чтобы позволить нам на некоторое время открыть новое окно и установить файлы cookies, необходимые для просмотра содержимого. <a href="https://t.co/livevideobrowsers" target="_blank">Подробнее.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"К сожалению, браузер Safari в данный момент не поддерживается. Пожалуйста, используйте другой браузер.","Unfortunately, license restrictions prevent video viewing in your location.":"К сожалению, лицензионные ограничения не позволяют просматривать видео в вашем регионе.","Video in %{time}":"Видео в %{time}","Visit %{hostname}":"Посетить %{hostname}","Watch now at %{hostname}":"Смотреть сейчас на %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'Невозможно воспроизвести видео в данном браузере. Пожалуйста, используйте другой браузер или <a href="https://t.co/livevideobrowsers" target="_blank">обновите настройки файлов cookie.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'Невозможно воспроизвести видео в данном браузере. Пожалуйста, воспользуйтесь другим браузером или <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">обновите настройки файлов cookie.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'Невозможно воспроизвести видео в данном браузере. Пожалуйста, используйте другой браузер или <a href="https://t.lv.twimg.com/livevideobrowsers">обновите настройки файлов cookie.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"Мы не можем воспроизвести это видео из-за настроек файлов cookie. Пожалуйста, включите поддержку файлов cookie с внешних доменов и повторите попытку."},id:{"%{viewNum} views":"%{viewNum} penayangan","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Peramban Anda tidak mendukung format video ini, dan Anda tidak memasang Flash.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Unduh Flash</a></p>","<p>This browser does not support video playback.</p>":"<p>Peramban ini tidak mendukung pemutaran video.</p>",Ad:"Iklan","Ad %{timeRemaining}":"Iklan %{timeRemaining}","Ad &middot %{timeRemaining}":"Iklan &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"Pemblokir iklan mencegah diputarnya video.<br />Harap matikan pemblokir iklan atau coba peramban lain.",Allow:"Izinkan","Cannot play video due to cookies being disabled":"Tidak dapat memutar video saat kuki dinonaktifkan",Follow:"Ikuti",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'Untuk memutar video di peramban Anda, kami perlu mengaktifkan kuki domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Setuju?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'Untuk memutar video di peramban Anda, kami perlu mengaktifkan kuki domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Setuju?</a>',"More Videos":"Video Lainnya","More videos":"Video lainnya","Playback is not supported in this environment.":"Lingkungan ini tidak mendukung pemutaran.","Playback is not supported on this device.":"Perangkat ini tidak mendukung pemutaran.","Playback is not supported.":"Tidak mendukung pemutaran.",Scrub:"Gosok",Skip:"Lewati","Sorry this video is not available in your location.":"Maaf, video ini tidak tersedia di lokasi Anda.","The media could not be played on this domain.":"Media ini tidak dapat diputar pada domain ini.","The media could not be played.":"Tidak dapat memutar media.","This media cannot be played on this domain":"Media ini tidak dapat diputar pada domain ini",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'Untuk memutar video, kami harus menggunakan kuki dari domain Twitter lainnya (twimg.com). Klik untuk mengizinkan kami membuka jendela baru dengan singkat dan mengatur kuki yang diperlukan untuk melihat konten. <a href="https://t.co/livevideobrowsers" target="_blank">Pelajari lebih lanjut.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Saat ini Safari belum didukung. Silakan coba peramban lain.","Unfortunately, license restrictions prevent video viewing in your location.":"Sayangnya, peraturan lisensi menyebabkan video tidak dapat ditonton dari lokasi Anda.","Video in %{time}":"Video dalam %{time}","Visit %{hostname}":"Kunjungi %{hostname}","Watch now at %{hostname}":"Tonton sekarang di %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'Kami tidak dapat memutar video di peramban ini. Silakan coba peramban lain atau <a href="https://t.co/livevideobrowsers" target="_blank">perbarui pengaturan kuki Anda.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'Kami tidak dapat memutar video tersebut di peramban ini. Silakan coba peramban web lain atau <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">perbarui pengaturan kuki Anda.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'Kami tidak dapat memutar video di peramban ini. Silakan coba peramban lain atau <a href="https://t.lv.twimg.com/livevideobrowsers">perbarui pengaturan kuki Anda.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"Kami tidak dapat memutar video ini karena pengaturan kuki. Mohon izinkan kuki dari domain eksternal dan coba lagi."},tr:{"%{viewNum} views":"%{viewNum} görüntülenme","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Bu tarayıcı bu video formatını desteklemiyor ve Flash yüklü değil.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Flash'ı indir</a></p>","<p>This browser does not support video playback.</p>":"<p>Bu tarayıcı video oynatmayı desteklemiyor</p>.",Ad:"Reklam","Ad %{timeRemaining}":"Reklam %{timeRemaining}","Ad &middot %{timeRemaining}":"Reklam &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"Reklam engelleyici bu videonun oynatılmasına engel oluyor. <br />Lütfen reklam engelleyiciyi devre dışı bırak veya farklı bir tarayıcı dene.",Allow:"İzin ver","Cannot play video due to cookies being disabled":"Çerezler devre dışı bırakıldığından video oynatılamıyor",Follow:"Takip et",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'Tarayıcında video oynatmak için alan dışındaki çerezleri ayarlamamız gerekiyor. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Onaylıyor musun?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'Tarayıcında video oynatmak için alan dışındaki çerezleri ayarlamamız gerekiyor. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Onaylıyor musun?</a>',"More Videos":"Daha Fazla Video","More videos":"Daha fazla video","Playback is not supported in this environment.":"Yürütme bu ortamda desteklenmiyor.","Playback is not supported on this device.":"Oynatma işlemi bu cihazda desteklenmiyor.","Playback is not supported.":"Yürütme desteklenmiyor.",Scrub:"Sar",Skip:"Atla","Sorry this video is not available in your location.":"Üzgünüz, bu video bölgende oynatılamıyor.","The media could not be played on this domain.":"Medya bu alanda oynatılamadı.","The media could not be played.":"Medya oynatılamadı.","This media cannot be played on this domain":"Bu medya bu alanda oynatılamıyor",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'Video oynatmak için başka bir Twitter alanındaki (twimg.com) çerezleri kullanmamız gerekiyor. Kısa süreyle yeni bir pencere açmamız ve içeriği görüntülemek üzere gereken çerezleri ayarlamamız için bize lütfen izin ver. <a href="https://t.co/livevideobrowsers" target="_blank">Daha fazla bilgi al.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Safari ne yazık ki şu anda desteklenmiyor. Lütfen farklı bir tarayıcı dene.","Unfortunately, license restrictions prevent video viewing in your location.":"Ne yazık ki, lisans kısıtlamaları videonun bulunduğun konumda görüntülenmesine engel oluyor.","Video in %{time}":"Video süresi: %{time}","Visit %{hostname}":"%{hostname} sunucusunu ziyaret et","Watch now at %{hostname}":"%{hostname} üzerinden hemen izle",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'Bu tarayıcıda video oynatamıyoruz. Lütfen farklı bir web tarayıcı dene veya <a href="https://t.co/livevideobrowsers" target="_blank">çerez ayarlarını güncelle.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'Videoyu bu tarayıcıda oynatamıyoruz. Lütfen farklı bir tarayıcı dene veya <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">çerez ayarlarını güncelle.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'Bu tarayıcıda video oynatamıyoruz. Lütfen farklı bir web tarayıcı dene veya <a href="https://t.lv.twimg.com/livevideobrowsers">çerez ayarlarını güncelle.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"Çerez ayarları nedeniyle bu videoyu oynatamıyoruz. Lütfen harici etki alanlarından gelen çerezlere izin ver ve tekrar dene."},he:{"%{viewNum} views":"%{viewNum} צפיות","<p>This browser does not support video playback.</p>":"<p>דפדפן זה אינו תומך בהפעלת סרטונים.</p>",Ad:"מודעה","Ad %{timeRemaining}":"מודעה %{timeRemaining}","Ad &middot %{timeRemaining}":"מודעה &middot‏ %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"חסימת מודעות מונעת את ההפעלה של סרטון זה.<br />השבת את חסימת המודעות או נסה דפדפן אחר.",Allow:"התר","Cannot play video due to cookies being disabled":"אי אפשר להפעיל סרטונים בגלל השבתת קובצי Cookie",Follow:"עקוב",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'כדי להפעיל סרטונים בדפדפן, עלינו להגדיר תחום ללא קובצי Cookie. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">האם זה בסדר?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'כדי להפעיל סרטונים בדפדפן, עלינו להגדיר תחום ללא קובצי Cookie. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">האם זה בסדר?</a>',"More Videos":"עוד סרטונים","More videos":"עוד סרטונים","Playback is not supported in this environment.":"אין תמיכה בנגינה בסביבה זו.","Playback is not supported on this device.":"אין תמיכה בנגינה בהתקן זה.","Playback is not supported.":"אין תמיכה בנגינה.",Scrub:"לבטל",Skip:"דלג","Sorry this video is not available in your location.":"סליחה אך הוידאו הזה לא זמין במיקום שלך.","The media could not be played on this domain.":"לא ניתן להפעיל את המדיה בתחום זה.","The media could not be played.":"לא ניתן לנגן את המדיה.","This media cannot be played on this domain":"לא ניתן להפעיל מדיה זו בתחום זה",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'כדי להפעיל את הסרטון עלינו להשתמש בקובצי Cookie מתחום אחר של טוויטר (twimg.com). לחץ כדי להתיר לנו לפתוח חלון חדש לזמן קצר ולהגדיר את קובץ ה-Cookie הנחוץ להצגת התוכן. <a href="https://t.co/livevideobrowsers" target="_blank">מידע נוסף.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"לצערנו אין תמיכה כרגע ב-Safari. נסה דפדפן אחר.","Unfortunately, license restrictions prevent video viewing in your location.":"מצטערים, אי אפשר להציג את הסרטון במיקום שלך בגלל מגבלות רישוי.",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'לא ניתן להפעיל את הסרטון בדפדפן הזה. נסה דפדפן אינטרנט אחר או <a href="https://t.co/livevideobrowsers" target="_blank">עדכן את הגדרות קובצי ה-Cookie.‏</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'לא ניתן להפעיל את הסרטון בדפדפן הזה. נסה דפדפן אינטרנט אחר או <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">עדכן את הגדרות קובצי ה-Cookie.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'לא ניתן להפעיל את הסרטון בדפדפן הזה. נסה דפדפן אינטרנט אחר או <a href="https://t.lv.twimg.com/livevideobrowsers">עדכן את הגדרות קובצי ה-Cookie.‏</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"אי אפשר להפעיל סרטון זה עקב השבתת קובצי Cookie. אפשר קובצי Cookie מתחומים חיצוניים ונסה שוב."},da:{"%{viewNum} views":"%{viewNum} visninger","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Denne browser understøtter ikke dette videoformat, og du har ikke Flash installeret.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>","<p>This browser does not support video playback.</p>":"<p>Denne browser understøtter ikke videoafspilning.</p>",Ad:"Annonce","Ad %{timeRemaining}":"Annonce %{timeRemaining}","Ad &middot %{timeRemaining}":"Annonce &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"Reklameblokering forhindrer denne video i at afspille.<br />Slå venligst reklameblokering fra eller prøv en anden browser.",Allow:"Tillad","Cannot play video due to cookies being disabled":"Video kan ikke afspilles så længe cookies er slået fra",Follow:"Følg",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'Vi er nødt til at angive cookies uden for domænet for at afspille video i browseren. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Er det i orden?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'For at afspille video i din browser, er vi nødt til at sætte cookies udenfor domænet. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Er det i orden?</a>',"More Videos":"Flere videoer","More videos":"Flere videoer","Playback is not supported in this environment.":"Afspilning er ikke understøttet i dette miljø.","Playback is not supported on this device.":"Afspilning understøttes ikke på denne enhed.","Playback is not supported.":"Afspilning er ikke understøttet.",Scrub:"Skrub",Skip:"Spring over","Sorry this video is not available in your location.":"Beklager, denne video er ikke tilgængelig i dit område.","The media could not be played on this domain.":"Mediet kunne ikke afspilles på dette domæne.","The media could not be played.":"Dette medie kunne ikke afspilles.","This media cannot be played on this domain":"Dette medie kan ikke afspilles på dette domæne",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'For at kunne afspille videoen er vi nødt til at anvende cookies fra et andet Twitter-domæne (twimg.com). Klik for at give os tilladelse til kortvarigt at åbne et nyt vindue og sætte den cookie, der er nødvendig for at vise indholdet. <a href="https://t.co/livevideobrowsers" target="_blank">Lær mere.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Beklageligvis er Safari ikke understøttet her og nu. Prøv venligst en anden browser.","Unfortunately, license restrictions prevent video viewing in your location.":"Beklageligvis forhindrer licensrestriktioner videoafspilning i dit område.","Video in %{time}":"Video om %{time}","Visit %{hostname}":"Besøg %{hostname}","Watch now at %{hostname}":"Se nu på %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'Vi kan ikke afspille videoen i denne browser. Prøv venligst en anden webbrowser eller <a href="https://t.co/livevideobrowsers" target="_blank">opdatér dine cookie-indstillinger</a>.','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'Vi kan ikke afspille videoen i denne browser. Prøv venligst en anden webbrowser eller <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">opdatér dine cookie-indstillinger</a>.','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'Vi kan ikke afspille videoen i denne browser. Prøv venligst en anden webbrowser eller <a href="https://t.lv.twimg.com/livevideobrowsers">opdatér dine cookie-indstillinger</a>.',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"Vi kan ikke afspille denne video grundet cookie-indstillinger. Tillad venligst cookies fra eksterne domænenavne og prøv igen."},no:{"%{viewNum} views":"%{viewNum} visninger","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Denne nettleseren støtter ikke dette videoformatet, og du har ikke Flash installert.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Last ned Flash</a></p>","<p>This browser does not support video playback.</p>":"<p>Denne nettleseren støtter ikke videoavspilling.</p>",Ad:"Reklame","Ad %{timeRemaining}":"Annonse %{timeRemaining}","Ad &middot %{timeRemaining}":"Annonse &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"Annonseblokkering hindrer \ndenne videoen fra å spille.<br />Slå av annonseblokkering eller prøv en annen nettleser.",Allow:"Tillat","Cannot play video due to cookies being disabled":"Kan ikke spille av video fordi informasjonskapsler er slått av",Follow:"Følg",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'For å kunne spille av videoer i\n nettleseren din må vi lagre informasjonskapsler på andre domener. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Godtar du dette?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'For å kunne spille av videoer i nettleseren din må vi skru av informasjonskapsler på dette domenet. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Godtar du dette?</a>',"More Videos":"Flere videoer","More videos":"Flere videoer","Playback is not supported in this environment.":"Avspilling støttes ikke i dette miljøet.","Playback is not supported on this device.":"Avspilling støttes ikke for denne enheten.","Playback is not supported.":"Avspilling støttes ikke.",Scrub:"Skrubb",Skip:"Hopp over","Sorry this video is not available in your location.":"Beklager, denne videoen ikke er tilgjengelig der du befinner deg.","The media could not be played on this domain.":"Mediet kan ikke spilles av på dette domenet.","The media could not be played.":"Mediet kunne ikke avspilles.","This media cannot be played on this domain":"Mediet kan ikke spilles av på dette domenet",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'For å kunne spille videoen må vi bruke informasjonskapsler fra et annet Twitter-domene (twimg.com). Klikk for å gi oss tillatelse til å åpne et annet vindu og lagre informasjonskapslene som er nødvendige for å vise innholdet. <a href="https://t.co/livevideobrowsers" target="_blank">Les mer.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Dessverre støttes ikke Safari akkurat nå. Prøv en annen nettleser.","Unfortunately, license restrictions prevent video viewing in your location.":"På grunn av lisensbegrensninger kan videoen dessverre ikke vises i området ditt.","Video in %{time}":"Video om %{time}","Visit %{hostname}":"Besøk %{hostname}","Watch now at %{hostname}":"Se nå på %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'Vi kan ikke spille av videoen i denne nettleseren. Prøv en annen nettleser eller <a href="https://t.co/livevideobrowsers" target="_blank">oppdater innstillingene for informasjonskapsler.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'Vi kan ikke spille av videoen i denne nettleseren. Prøv en annen nettleser eller <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">oppdater innstillingene for informasjonskapsler.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'Vi kan ikke spille av videoen i denne nettleseren. Vennligst prøv en annen nettleser eller <a href="https://t.lv.twimg.com/livevideobrowsers">oppdater innstillingene for informasjonskapsler.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"Vi kan ikke spille av denne videoen på grunn av innstillingene for informasjonskapsler. Gi tillatelse til bruk av informasjonskapsler fra eksterne domener, og prøv på nytt."},nl:{"%{viewNum} views":"%{viewNum} keer bekenen","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Deze browser ondersteunt dit videoformaat niet en je hebt Flash niet geïnstalleerd.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Flash downloaden</a></p>","<p>This browser does not support video playback.</p>":"<p>Deze browser ondersteunt het afspelen van video's niet.</p>",Ad:"Advertentie","Ad %{timeRemaining}":"Advertentie %{timeRemaining}","Ad &middot %{timeRemaining}":"Advertentie &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"Het blokkeren van advertenties voorkomt dat deze video afgespeeld kan worden.<br />Schakel je adblocker uit of probeer een andere webbrowser.",Allow:"Toestaan","Cannot play video due to cookies being disabled":"Kan video niet afspelen omdat cookies zijn uitgeschakeld",Follow:"Volgen",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'Om deze video in je browser af te spelen moeten we cookies buiten domeinen plaatsen. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is dit oké?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'Om deze video in je browser af te spelen moeten we cookies buiten domeinen plaatsen. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is dit oké?</a>',"More Videos":"Meer video's","More videos":"Meer video's","Playback is not supported in this environment.":"Afspelen niet ondersteund in deze omgeving.","Playback is not supported on this device.":"Afspelen wordt niet ondersteund op dit apparaat.","Playback is not supported.":"Afspelen niet ondersteund.",Scrub:"Vegen",Skip:"Overslaan","Sorry this video is not available in your location.":"Sorry, deze video is niet beschikbaar op jouw locatie.","The media could not be played on this domain.":"Kan media niet afspelen op dit domein.","The media could not be played.":"Kan media niet afspelen.","This media cannot be played on this domain":"Deze media kan niet worden afgespeeld op dit domein",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'Om deze video af te spelen wordt er gebruik gemaakt van cookies van een ander Twitter-domein (twimg.com). Klik hier om een nieuw venster te openen en de cookie in te stellen die nodig is om deze video te bekijken. <a href="https://t.co/livevideobrowsers" target="_blank">Meer informatie.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Helaas wordt Safari op dit moment niet ondersteund. Probeer een andere browser.","Unfortunately, license restrictions prevent video viewing in your location.":"Door licentiebeperkingen is deze video helaas niet beschikbaar op je locatie.","Video in %{time}":"Video over %{time}","Visit %{hostname}":"%{hostname} bezoeken","Watch now at %{hostname}":"Nu kijken op %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'We kunnen de video niet afspelen in deze browser. Probeer een andere webbrowser of <a href="https://t.co/livevideobrowsers" target="_blank">werk je cookie-instellingen bij</a>.','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'We kunnen de video niet afspelen in deze browser. Probeer een andere webbrowser of <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">werk je cookie-instellingen bij</a>.','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'We kunnen de video niet afspelen in deze browser. Probeer een andere webbrowser of <a href="https://t.lv.twimg.com/livevideobrowsers">werk je cookie-instellingen bij</a>.',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"We kunnen deze video niet afspelen vanwege je cookie-instellingen. Sta cookies van externe domeinen toe en probeer het opnieuw."},pl:{"%{viewNum} views":"Wyświetlenia: %{viewNum}","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Ta przeglądarka nie obsługuje tego formatu video, nie masz też zainstalowanego Flasha.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Pobierz Flash</a></p>","<p>This browser does not support video playback.</p>":"<p>Ta przeglądarka nie obsługuje odtwarzania wideo.</p>",Ad:"Reklama","Ad %{timeRemaining}":"Reklama %{timeRemaining}","Ad &middot %{timeRemaining}":"Reklama &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"Blokowanie reklam uniemożliwia odtworzenie tego filmu.<br />Wyłącz blokowanie reklam lub użyj innej przeglądarki.",Allow:"Zezwól","Cannot play video due to cookies being disabled":"Nie można odtworzyć filmu, ponieważ masz wyłączone pliki cookie.",Follow:"Obserwuj",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'Aby odtworzyć film w Twojej przeglądarce, musimy zmienić ustawienia plików cookie. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Czy wyrażasz zgodę?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'Aby odtworzyć film w Twojej przeglądarce, musimy zmienić ustawienia plików cookie. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank"> Czy wyrażasz zgodę?</a>',"More Videos":"Więcej filmów","More videos":"Więcej filmów","Playback is not supported in this environment.":"Odtwarzanie nie jest obsługiwane w tym środowisku.","Playback is not supported on this device.":"To urządzenie nie obsługuje odtwarzania.","Playback is not supported.":"Odtwarzanie nie jest obsługiwane.",Scrub:"Przesuń",Skip:"Pomiń","Sorry this video is not available in your location.":"Przepraszamy, ten film nie jest dostępny w Twojej lokalizacji.","The media could not be played on this domain.":"Multimediów nie można odtworzyć w tej domenie.","The media could not be played.":"Nie udało się odtworzyć multimediów.","This media cannot be played on this domain":"Nie można odtworzyć multimediów w tej domenie",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'Aby odtworzyć film, musimy użyć plików cookie z innej domeny Twittera (twimg.com). Kliknij, aby zezwolić nam na otwarcie nowego okna i ustawienie plików cookie potrzebnych do wyświetlenia tych materiałów. <a href="https://t.co/livevideobrowsers" target="_blank">Dowiedz się więcej.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Przeglądarka Safari nie jest obecnie obsługiwana. Użyj innej przeglądarki.","Unfortunately, license restrictions prevent video viewing in your location.":"Ograniczenia licencyjne uniemożliwiają obejrzenie filmu w Twojej lokalizacji.","Video in %{time}":"Film za %{time}","Visit %{hostname}":"Odwiedź %{hostname}","Watch now at %{hostname}":"Obejrzyj teraz na %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'Nie możemy odtworzyć filmu w tej przeglądarce.  Spróbuj użyć innej przeglądarki lub <a href="https://t.co/livevideobrowsers" target="_blank">uaktualnij ustawienia plików cookie</a>.','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'Nie możemy odtworzyć filmu w tej przeglądarce. Spróbuj użyć innej \nprzeglądarki lub <a href="https://t.lv.twimg.com/3rd_party_cookies" \ntarget="_blank">zaktualizuj ustawienia plików cookie</a>.','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'Nie możemy odtworzyć filmu w tej przeglądarce. Spróbuj użyć innej przeglądarki lub <a href="https://t.lv.twimg.com/livevideobrowsers">uaktualnij ustawienia plików cookie</a>.',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"Nie można odtworzyć filmu ze względu na ustawienia plików cookie. Włącz pliki cookie z domen zewnętrznych i spróbuj ponownie."},sv:{"%{viewNum} views":"%{viewNum} visningar","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Denna webbläsare stödjer inte detta videoformat och du har inte Flash installerad. </p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Ladda ner Flash</a></p>","<p>This browser does not support video playback.</p>":"<p>Denna webbläsare stödjer inte videouppspelning.</p>",Ad:"Annons","Ad %{timeRemaining}":"Annons %{timeRemaining}","Ad &middot %{timeRemaining}":"Annons &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"Annonsblockering hindrar denna video från att spelas upp.<br />Inaktivera annonsblockering eller testa en annan webbläsare.",Allow:"Tillåt","Cannot play video due to cookies being disabled":"Videon kan inte spelas upp eftersom cookies inte tillåts",Follow:"Följ",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'Om vi ska kunna spela upp videor i din webbläsare måste vi spara cookies som inte tillhör den här domänen. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Går du med på det?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'Om vi ska kunna spela upp videor i din webbläsare måste vi spara cookies som inte tillhör den här domänen. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Går du med på det?</a>',"More Videos":"Fler videoklipp","More videos":"Fler videoklipp","Playback is not supported in this environment.":"Uppspelning stöds inte i denna miljö.","Playback is not supported on this device.":"Uppspelning stöds inte på denna enhet. ","Playback is not supported.":"Uppspelning stöds inte.",Scrub:"Scrub",Skip:"Hoppa över","Sorry this video is not available in your location.":"Tyvärr är denna video inte tillgänglig på din nuvarande plats.","The media could not be played on this domain.":"Mediet gick inte att spela upp på denna domän.","The media could not be played.":"Media kunde inte spelas.","This media cannot be played on this domain":"Det här mediet går inte att spela upp på den här domänen",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'Om vi ska kunna spela upp videon måste vi använda cookies från en annan Twitter-domän (twimg.com). Klicka och låt oss helt kort öppna ett nytt fönster så att vi kan spara den cookie som behövs för att visa innehållet. <a href="https://t.co/livevideobrowsers" target="_blank"> Läs mer</a>.',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Tyvärr stöds Safari inte just nu. Använd en annan webbläsare.","Unfortunately, license restrictions prevent video viewing in your location.":"Tyvärr förhindrar licensbegränsningar att videon visas där du befinner dig.","Video in %{time}":"Video i %{time}","Visit %{hostname}":"Besök %{hostname}","Watch now at %{hostname}":"Se nu på %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'Vi kan inte spela upp videon i den här webbläsaren. Försök med en annan webbläsare eller <a href="https://t.co/livevideobrowsers" target="_blank">uppdatera dina cookie-inställningar</a>.','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'Vi kan inte spela upp videon i den här webbläsaren. Försök med en annan webbläsare eller <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">uppdatera dina inställningar för cookies.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'Vi kan inte spela upp videon i den här webbläsaren. Försök med en annan webbläsare eller <a href="https://t.lv.twimg.com/livevideobrowsers">uppdatera dina cookie-inställningar</a>.',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"Vi kan inte spela upp denna video på grund av cookieinställningar. Tillåt cookies från externa domäner och försök igen."},"zh-cn":{"%{viewNum} views":"%{viewNum} 次观看","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>此浏览器不支持该格式的视频，并且你没有安装 Flash。</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>下载 Flash</a></p>","<p>This browser does not support video playback.</p>":"<p>此浏览器不支持视频回放。</p>",Ad:"广告","Ad %{timeRemaining}":"剩余广告时间 %{timeRemaining}","Ad &middot %{timeRemaining}":"广告 &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"广告拦截阻止了此视频播放。<br />请禁用广告拦截或尝试换一个不同的浏览器。",Allow:"允许","Cannot play video due to cookies being disabled":"无法播放视频，因为 cookies 已禁用",Follow:"关注",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'为确保在你的浏览器上播放视频，我们需要在域名上设置 cookies。<a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">这样可以吗？</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'为确保在你的浏览器上播放视频，我们需要在域名上设置 cookies。 <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">这样可以吗？</a>',"More Videos":"更多视频","More videos":"更多视频","Playback is not supported in this environment.":"该环境不支持回放。","Playback is not supported on this device.":"该设备不支持回放。","Playback is not supported.":"不支持回放。",Scrub:"前后移动",Skip:"跳过","Sorry this video is not available in your location.":"对不起，本视频无法在您所在的区域提供播放。","The media could not be played on this domain.":"该媒体无法在此域名上播放。","The media could not be played.":"不能播放该媒体。","This media cannot be played on this domain":"该媒体无法在此域名上播放",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'为播放视频，我们需要使用 Twitter 另一个域名（twing.com）上的 cookies。请点击以允许我们打开窗口，设置观看内容必需的 cookie。<a href="https://t.co/livevideobrowsers" target="_blank">了解更多。</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"很遗憾暂时不支持 Safari。请尝试换用其它浏览器。","Unfortunately, license restrictions prevent video viewing in your location.":"很遗憾，由于许可限制，无法在你所在的区域观看视频。","Video in %{time}":"视频在%{time}","Visit %{hostname}":"访问 %{hostname}","Watch now at %{hostname}":"立即在 %{hostname} 观看",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'我们无法在此浏览器播放视频。请尝试换用其它浏览器或<a href="https://t.co/livevideobrowsers" target="_blank">更新你的cookie设置。</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'我们无法在此浏览器播放视频。请尝试换用其它浏览器或 <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">更新你的 cookie 设置。</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'我们无法在此浏览器播放视频。请尝试换用其它浏览器或<a href="https://t.lv.twimg.com/livevideobrowsers">更新你的cookie设置。</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"由于 cookies 设置，我们无法播放此视频。请允许来自外部域的 cookies，然后重试。"},"zh-tw":{"%{viewNum} views":"%{viewNum} 次觀看","<p>This browser does not support video playback.</p>":"<p>這個瀏覽器不支援播放影片。</p>",Ad:"廣告","Ad %{timeRemaining}":"廣告 %{timeRemaining}","Ad &middot %{timeRemaining}":"廣告 &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"廣告封鎖功能導致此影片無法播放。<br />請停用廣告封鎖功能，或嘗試使用其他瀏覽器。",Allow:"允許","Cannot play video due to cookies being disabled":"由於 Cookie 已停用，無法播放影片",Follow:"跟隨",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'為了在你的瀏覽器中播放視訊，我們必須將 Cookie 設定至網域外。<a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">你同意嗎？</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'為了在你的瀏覽器中播放視訊，我們需要將 Cookie 設定至網域外。<a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">請問你同意嗎？</a>',"More Videos":"其他影片","More videos":"其他影片","Playback is not supported in this environment.":"此環境不支援重播功能。","Playback is not supported on this device.":"此裝置不支援重播功能。","Playback is not supported.":"不支援重播功能。",Scrub:"刷",Skip:"跳過","Sorry this video is not available in your location.":"抱歉，你所在的位置無法取得此影片。","The media could not be played on this domain.":"此媒體無法在這個網域播放。","The media could not be played.":"無法播放媒體。","This media cannot be played on this domain":"此媒體無法在此網域播放",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'為了播放視訊，我們必須使用來自另一個 Twitter 網域 (twimg.com) 的 Cookie。請點擊以允許我們短暫開啟新視窗，並設定觀看內容所需的 Cookie。<a href="https://t.co/livevideobrowsers" target="_blank">了解更多</a>。',"Unfortunately Safari isn't supported now.  Please try a different browser.":"很抱歉，Safari 現在已不受支援。請嘗試使用其他的瀏覽器。","Unfortunately, license restrictions prevent video viewing in your location.":"很遺憾，授權限制導致你所在的地區無法觀看視訊。",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'我們無法在此瀏覽器中播放視訊。請嘗試使用其他的網頁瀏覽器或<a href="https://t.co/livevideobrowsers" target="_blank">更新 Cookie 設定</a>。','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'我們無法在此瀏覽器中播放視訊。請嘗試使用其他的網頁瀏覽器或<a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">更新 Cookie 設定</a>。','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'我們無法在此瀏覽器中播放視訊。請嘗試使用其他的網頁瀏覽器或<a href="https://t.lv.twimg.com/livevideobrowsers">更新 Cookie 設定</a>。',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"由於 Cookie 設定的緣故，無法播放此影片。請允許外部網域的 Cookie，並再試一次。"},fil:{"%{viewNum} views":"%{viewNum} (na) pagtingin","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Hindi suportado ng browser ang format ng video na ito, at walang naka-install na Flash.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>I-download ang Flash</a></p>","<p>This browser does not support video playback.</p>":"<p>Hindi suportado ng browser ang pag-playback ng video.</p>",Ad:"Ad","Ad %{timeRemaining}":"Ad %{timeRemaining}","Ad &middot %{timeRemaining}":"Ad &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"Hindi pinahihintulutan ng ad blocking ang pag-play ng video na ito.<br />Mangyaring i-disable ang ad blocking o subukan ang ibang browser.",Allow:"Payagan","Cannot play video due to cookies being disabled":"Hindi mai-play ang video dahil sa naka-disable ang mga cookie",Follow:"Sundan",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'Kailangan naming i-set ang mga cookie sa labas ng domain para mai-play ang video sa browser mo. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Ok ba ito?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'Kailangan naming i-set ang mga cookie sa labas ng domain para mai-play ang video sa browser mo. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Ok ba ito?</a>',"More Videos":"Higit pang mga Video","More videos":"Higit pang mga video","Playback is not supported in this environment.":"Hindi suportado ang playback sa kapaligirang ito.","Playback is not supported on this device.":"Ang playback ay hindi suportado sa device na ito.","Playback is not supported.":"Hindi suportado ang playback.",Scrub:"Kuskusin",Skip:"Laktawan","Sorry this video is not available in your location.":"Paumanhin, hindi available itong video sa lokasyon mo.","The media could not be played on this domain.":"Hindi mai-play ang media sa domain na ito.","The media could not be played.":"Hindi mapagana ang media.","This media cannot be played on this domain":"Hindi mai-play itong media sa domain na ito",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'Kailangan naming gumamit ng mga cookie mula sa ibang Twitter domain (twimg.com) para mai-play ang video. Mangyaring i-click para payagan kaming mabuksan nang panandalian ang bagong window at i-set ang cookie na kinakailangan para makita ang nilalaman. <a href="https://t.co/livevideobrowsers" target="_blank">Matuto pa.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Sa kasamaang palad, hindi suportado ngayon ang Safari. Mangyaring gumamit ng ibang browser.","Unfortunately, license restrictions prevent video viewing in your location.":"Sa kasamaang-palad, hindi pinahihintulutan ng mga restriksiyon sa lisensiya ang pagpapalabas ng video sa lokasyon mo.","Video in %{time}":"Video sa %{time}","Visit %{hostname}":"Bisitahin ang/si %{hostname}","Watch now at %{hostname}":"Panoorin ngayon sa %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'Hindi namin mai-play ang video sa browser na ito. Mangyaring gumamit ng ibang web browser o <a href="https://t.co/livevideobrowsers" target="_blank">i-update ang iyong mga setting ng cookie.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'Hindi namin mai-play ang video sa browser na ito. Mangyaring gumamit ng ibang web browser o <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">i-update ang iyong mga setting ng cookie.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'Hindi namin mai-play ang video sa browser na ito. Mangyaring gumamit ng ibang web browser o <a href="https://t.lv.twimg.com/livevideobrowsers">i-update ang iyong mga setting ng cookie.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"Hindi namin mai-play ang video na ito dahil sa cookie settings. Mangyaring payagan ang mga cookie mula sa mga external domain at subukang muli."},msa:{"%{viewNum} views":"%{viewNum} tontonan","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Pelayar ini tidak menyokong format video ini, dan anda tidak mempunyai Flash yang dipasang.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Muat Turun Flash</a></p>","<p>This browser does not support video playback.</p>":"<p>Pelayar ini tidak menyokong ulang main video.</p>",Ad:"Iklan","Ad %{timeRemaining}":"Ad %{timeRemaining}","Ad &middot %{timeRemaining}":"Iklan &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"Penyekatan iklan menghalang video ini daripada dimainkan.<br />Sila lumpuhkan penyekatan iklan atau cuba pelayar yang berbeza.",Allow:"Benarkan","Cannot play video due to cookies being disabled":"Tidak dapat memainkan video kerana kuki dilumpuhkan",Follow:"Ikut",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'Untuk memainkan video pada pelayar anda kami perlu menetapkan kuki dimatikan daripada domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Adakah itu ok? </a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'Untuk memainkan video pada pelayar anda kami perlu menetapkan kuki dimatikan daripada domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Adakah itu ok?</a>',"More Videos":"Lagi Video","More videos":"Video lagi","Playback is not supported in this environment.":"Ulang main tidak disokong dalam persekitaran ini.","Playback is not supported on this device.":"Ulang main tidak disokong pada peranti ini.","Playback is not supported.":"Ulang main tidak disokong.",Scrub:"Gosok",Skip:"Langkau","Sorry this video is not available in your location.":"Maaf video ini tidak tersedia di lokasi anda.","The media could not be played on this domain.":"Media tidak dapat dimainkan pada domain ini.","The media could not be played.":"Media tidak dapat dimainkan.","This media cannot be played on this domain":"Media ini tidak dapat dimainkan pada domain ini",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'Untuk memainkan video, kami perlu menggunakan kuki daripada domain Twitter yang lain (twimg.com). Sila klik untuk membenarkan kami  membuka tetingkap baharu sebentar dan menetapkan kuki yang diperlukan untuk melihat kandungan. <a href="https://t.co/livevideobrowsers" target="_blank">Ketahui lebih lanjut.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Malangnya Safari tidak disokong pada masa sekarang. Sila cuba pelayar yang berbeza.","Unfortunately, license restrictions prevent video viewing in your location.":"Malangnya, sekatan lesen menghalang tontonan video di lokasi anda.","Video in %{time}":"Video dalam %{time} ","Visit %{hostname}":"Lawati %{hostname}","Watch now at %{hostname}":"Tonton sekarang di %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'Kami tidak dapat memainkan video dalam pelayar ini. Sila cuba pelayar web yang berbeza atau <a href="https://t.co/livevideobrowsers" target="_blank">kemas kini seting kuki anda.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'Kami tidak dapat memainkan video dalam pelayar ini. Sila cuba pelayar web yang berbeza atau <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">kemas kini seting kuki anda.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'Kami tidak dapat memainkan video dalam pelayar ini. Sila cuba pelayar web yang berbeza atau <a href="https://t.lv.twimg.com/livevideobrowsers">kemas kini seting kuki anda.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"Kami tidak dapat memainkan video ini disebabkan oleh seting kuki. Sila benarkan kuki dari domain luaran dan cuba lagi."},hi:{"%{viewNum} views":"%{viewNum} व्यूज़","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>यह ब्राउज़र इस वीडियो फोर्मेट को सपोर्ट नहीं करता, और आपने फ़्लैश इनस्टॉल नहीं किया है.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>फ्लैश डाउनलोड करें</a></p>","<p>This browser does not support video playback.</p>":"<p>यह ब्राउज़र वीडियो चलाने का समर्थन नहीं करता.</p>",Ad:"विज्ञापन","Ad %{timeRemaining}":"विज्ञापन %{timeRemaining}","Ad &middot %{timeRemaining}":"विज्ञापन &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"एड ब्लोकिंग इस वीडियो को चलने से रोक रहा है.<br />कृपया एड ब्लोकिंग को निष्क्रिय करें या किसी अन्य ब्राउज़र को आजमाएं.",Allow:"अनुमति दें","Cannot play video due to cookies being disabled":"कुकीज़ अक्षम होने के कारण वीडियो नहीं चलाया जा सकता",Follow:"फ़ॉलो",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'वीडियो को आपके ब्राउज़र पर चलाने के लिए हमें कुकीज़ को डोमेन से सेट करना होगा. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">क्या आप इसकी स्वीकृति देते हैं?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'इस वीडियो को आपके ब्राउज़र पर चलाने के लिए हमें कुकीज़ को डोमेन से सेट करना होगा. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">क्या आप इसकी स्वीकृति देते हैं?</a>',"More Videos":"और वीडियो","More videos":"और वीडियो","Playback is not supported in this environment.":"इस परिवेश में प्लेबैक समर्थित नहीं है.","Playback is not supported on this device.":"इस डिवाइस पर प्लेबैक समर्थित नहीं है.","Playback is not supported.":"प्लेबैक समर्थित नहीं है.",Scrub:"स्क्रब",Skip:"स्किप","Sorry this video is not available in your location.":"क्षमा करें, यह वीडियो आपके स्थान के लिए उपलब्ध नहीं है.","The media could not be played on this domain.":"मीडिया को इस डोमेन पर नहीं चलाया जा सकता.","The media could not be played.":"मीडिया चलाया नहीं जा सका.","This media cannot be played on this domain":"इस मीडिया को इस डोमेन पर नहीं चलाया जा सकता",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'वीडियो चलाने के लिए हमें दूसरे Twitter डोमेन (twimg.com) से कुकीज़ का उपयोग करना होगा. कृपया क्लिक करके, हमें कुछ देर के लिए एक नई विंडो खोलकर सामग्री देखने के लिए आवश्यक कुकी सेट करने की अनुमति दें. <a href="https://t.co/livevideobrowsers" target="_blank">अधिक जानें.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"दुर्भाग्य से सफारी अभी समर्थित नहीं है. कृपया किसी अलग ब्राउज़र को आजमाएं.","Unfortunately, license restrictions prevent video viewing in your location.":"क्षमा करें, लाइसेंस प्रतिबंधों के कारण इस वीडियो को आपके स्थान पर नहीं देखा जा सकता.","Video in %{time}":"%{time} में वीडियो","Visit %{hostname}":"%{hostname} पर जाएं","Watch now at %{hostname}":"अभी %{hostname} पर देखें",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'हम इस ब्राउज़र में वीडियो को नहीं चला सकते. कृपया अन्य वेब ब्राउज़र का उपयोग करें या <a href="https://t.co/livevideobrowsers" target="_blank"> अपनी कुकी सेटिंग्स अपडेट करें.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'हम इस ब्राउज़र में वीडियो को नहीं चला सकते. कृपया अन्य वेब ब्राउज़र का उपयोग करें या <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">अपनी कुकी सेटिंग्स अपडेट करें.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'हम इस ब्राउज़र में वीडियो को नहीं चला सकते. कृपया अन्य वेब ब्राउज़र का उपयोग करें या <a href="https://t.lv.twimg.com/livevideobrowsers">अपनी कुकी सेटिंग्स अपडेट करें.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"कुकी सेटिंग्स के कारण हम इस वीडियो को नहीं चला सकते. कृपया बाहरी डोमेन की कुकीज़ को अनुमति दें और फिर से कोशिश करें."},hu:{"%{viewNum} views":"%{viewNum} megtekintés","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Ez a böngésző nem támogatja ezt a videóformátumot, Flash pedig nincsen telepítve.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Flash letöltése</a></p>","<p>This browser does not support video playback.</p>":"<p>Ez a böngésző nem támogatja a videólejátszást.</p>",Ad:"Reklám","Ad %{timeRemaining}":"Hirdetés %{timeRemaining}","Ad &middot %{timeRemaining}":"Hirdetés &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"A hirdetésblokkoló nem engedélyezi a videó lejátszását.<br />Kérjük, engedélyezd a reklámok megjelenítését vagy próbálj meg egy másik böngészőt.",Allow:"Engedélyezd","Cannot play video due to cookies being disabled":"A videó nem lejátszható, mert a cookie-k (sütik) le vannak tiltva a böngészőben",Follow:"Követés",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'A videó lejátszásához ebben a böngészőben cookie-kat (sütiket) használunk. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Engedélyezed?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'A videó lejátszásához ebben a böngészőben cookie-kat (sütiket) használunk. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Engedélyezed?</a>',"More Videos":"További videók","More videos":"További videók","Playback is not supported in this environment.":"A visszajátszás nem támogatott ebben a környezetben.","Playback is not supported on this device.":"A lejátszás nem támogatott ezen az eszközön.","Playback is not supported.":"A visszajátszás nem támogatott.",Scrub:"Mozgatás",Skip:"Kihagy","Sorry this video is not available in your location.":"Sajnáljuk, ez a videó nem érhető el a tartózkodási helyeden.","The media could not be played on this domain.":"Ez a médiafájl nem játszható le az ezen tartomány alatti oldalakon.","The media could not be played.":"Ez a tartalom nem játszható le.","This media cannot be played on this domain":"Ez a médiafájl nem játszható le az ezen tartomány alatti oldalakon.",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'A videó lejátszásához ebben a böngészőben más Twitter-domain (twimg.com) cookie-jait (sütijeit) használjuk. Kérjük, kattints a lenti gombra, hogy a megnyíló új ablakban engedélyezd a cookie-k használatát a tartalom megtekintéséhez. <a href="https://t.co/livevideobrowsers" target="_blank">Tudj meg többet.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Sajnáljuk, a Safari jelenleg nem támogatott. Kérjük, próbálj meg egy másik böngészőt.","Unfortunately, license restrictions prevent video viewing in your location.":"Sajnáljuk, a licenckorlátozás nem teszi lehetővé a videó megtekintését a tartózkodási helyeden.","Video in %{time}":"Videó lejátszása indul: %{time}","Visit %{hostname}":"%{hostname} meglátogatása","Watch now at %{hostname}":"Nézd meg most itt: %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'A videó nem játszható le ebben a böngészőben. Kérjük, próbálj meg egy másik böngészőt vagy <a href="https://t.co/livevideobrowsers" target="_blank">frissítsd a cookie-k (sütik) használatára vonatkozó beállításaidat.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'A videó nem játszható le ebben a böngészőben. Kérjük, próbálj meg egy másik böngészőt vagy <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">frissítsd a cookie-k (sütik) használatára vonatkozó beállításaidat.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'A videó nem játszható le ebben a böngészőben. Kérjük, próbálj meg egy másik böngészőt vagy <a href="https://t.lv.twimg.com/livevideobrowsers">frissítsd a cookie-k (sütik) használatára vonatkozó beállításaidat.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"A videó nem lejátszható, mert a cookie-k (sütik) le vannak tiltva a böngészőben. Kérjük, engedélyezd a sütik külső domainek általi használatát és próbáld meg újra."},fi:{"%{viewNum} views":"%{viewNum} katselua","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Tämä selain ei tue tätä videomuotoa, ja sinulla ei ole Flash asennettuna.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Lataa Flash</a></p>","<p>This browser does not support video playback.</p>":"<p>Tämä selain ei tue videotoistoa.</p>",Ad:"Mainos","Ad %{timeRemaining}":"Mainos %{timeRemaining}","Ad &middot %{timeRemaining}":"Mainos &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"Mainostenesto estää toistamasta tätä videota.<br />Poista mainostenesto käytöstä tai kokeile toista selainta.",Allow:"Salli","Cannot play video due to cookies being disabled":"Videota ei voi toistaa, sillä evästeet eivät ole käytössä",Follow:"Seuraa",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'Jotta voit toistaa videota selaimessasi, meidän on tallennettava evästeitä laitteellesi. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Onko tämä ok?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'Jotta voit toistaa videota selaimessasi, meidän on asetettava evästeet toiselle sivustolle. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Onko tämä ok?</a>',"More Videos":"Lisää videoita","More videos":"Lisää videoita","Playback is not supported in this environment.":"Toistoa ei tueta tässä ympäristössä.","Playback is not supported on this device.":"Toistoa ei tueta tällä laitteella.","Playback is not supported.":"Toistoa ei tueta.",Scrub:"Hinkkaa",Skip:"Ohita","Sorry this video is not available in your location.":"Valitettavasti tämä video ei ole saatavilla sijainnissasi.","The media could not be played on this domain.":"Mediaa ei voitu toistaa tällä verkkotunnuksella.","The media could not be played.":"Mediaa ei voitu toistaa.","This media cannot be played on this domain":"Tätä mediaa ei voida toistaa tässä verkkotunnuksessa",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'Jotta voit toistaa videota selaimessasi, meidän on käytettävä evästeitä toiselta Twitterin sivustolta (twimg.com). Napsauta hyväksyäksesi väliaikaisen selainikkunan avaamisen ja sisällön katselemista varten tarvittavien evästeiden asettamisen. <a href="https://t.co/livevideobrowsers" target="_blank">Lue lisää.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Valitettavasti Safaria ei tueta tällä hetkellä. Kokeile toista selainta.","Unfortunately, license restrictions prevent video viewing in your location.":"Valitettavasti käyttöoikeusrajoitukset estävät videon katselun sijainnissasi.","Video in %{time}":"Video alkuun %{time}","Visit %{hostname}":"Vieraile kohteessa %{hostname}","Watch now at %{hostname}":"Katso nyt kohteessa %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'Videota ei voi toistaa tässä selaimessa. Kokeile toista selainta tai <a href="https://t.co/livevideobrowsers" target="_blank">muuta evästeasetuksiasi.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'Videota ei voi toistaa tässä selaimessa. Kokeile toista selainta tai <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">muuta evästeasetuksiasi.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'Videota ei voi toistaa tässä selaimessa. Kokeile toista selainta tai <a href="https://t.lv.twimg.com/livevideobrowsers">muuta evästeasetuksiasi.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"Videota ei voi toistaa evästeasetusten takia. Salli evästeet ulkoisilta verkkotunnuksilta ja yritä uudelleen."},ar:{"%{viewNum} views":"%{viewNum} مشاهدات","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>هذا المتصفح لا يدعم صيغة هذا الفيديو، وليس لديك برنامج فلاش مثبّت.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>تحميل برنامج فلاش</a></p>","<p>This browser does not support video playback.</p>":"<p>هذا المتصفح لا يدعم إعادة تشغيل الفيديو.</p>",Ad:"إعلان","Ad %{timeRemaining}":"إعلان %{timeRemaining}","Ad &middot %{timeRemaining}":"إعلان &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"حجب الإعلان يمنع هذا الفيديو من التشغيل<br />الرجاء إزالة حجب الإعلانات او تجربة متصفح آخر",Allow:"السماح","Cannot play video due to cookies being disabled":"لا يمكن تشغيل الفيديو بسبب تعطيل ملفات تعريف الارتباط (الكوكيز)",Follow:"تابِع",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'لتشغيل الفيديو على المتصفّح الخاصّ بك نحتاج لتعطيل ملفات تعريف الارتباط لهذا النطاق. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">هل ذلك مقبول؟</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'لتشغيل هذا الفيديو على متصفحك نحتاج لإغلاق ملف تعريف الارتباط  لهذا النطاق. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">هل انت موافق؟</a>',"More Videos":"المزيد من مقاطع الفيديو","More videos":"المزيد من مقاطع الفيديو","Playback is not supported in this environment.":"إعادة التشغيل غير مدعوم في هذه البيئة.","Playback is not supported on this device.":"إعادة التشغيل غير مدعوم على هذا الجهاز.","Playback is not supported.":"إعادة التشغيل غير مدعوم.",Scrub:"تحريك",Skip:"تخطّي","Sorry this video is not available in your location.":"عذرًا هذا الفيديو غير متاح في موقعك .","The media could not be played on this domain.":"لا يمكن تشغيل الوسائط على هذا النطاق.","The media could not be played.":"لا يمكن تشغيل هذا الملف.","This media cannot be played on this domain":"لا يمكن تشغيل هذه الوسائط على هذا النطاق",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'لتشغيل الفيديو نحتاج لاستخدام ملفات تعريف ارتباط من نطاق آخر تابع لتويتر (twimg.com). يُرجى النقر لتمكيننا من فتح نافذة جديدة لضبط ملف الارتباط الضروري لعرض المحتوى. <a href="https://t.co/livevideobrowsers" target="_blank">معرفة المزيد.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"للأسف متصفح سفاري غير مدعوم الآن. الرجاء إعادة المحاولة من متصفح آخر.","Unfortunately, license restrictions prevent video viewing in your location.":"للأسف، قيود الترخيص تمنع مشاهدة الفيديو في موقعك.","Video in %{time}":"الفيديو في %{time}","Visit %{hostname}":"قم بزيارة %{hostname}","Watch now at %{hostname}":"شاهِد الآن على %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'لا يمكن تشغيل الفيديو في هذا المتصفح. يرجى تجربة متصفح ويب آخر أو<a href="https://t.co/livevideobrowsers" target="_blank">قم بتحديث إعدادات ملف تعريف الارتباط الخاص بك.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'لا يمكننا تشغيل الفيديو في هذا المتصفّح. يُرجى تجربة متصفّح آخر أو <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank"> قُم بتحديث إعدادات ملفات تعريف الارتباط لديك.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'لا يمكن تشغيل الفيديو في هذا المتصفح. يرجى تجربة متصفح ويب آخر أو<a href="https://t.lv.twimg.com/livevideobrowsers">قم بتحديث إعدادات ملف تعريف الارتباط الخاص بك.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"لا يمكن تشغيل الفيديو بسبب إعدادات ملف تعريف الارتباط (كوكيز). الرجاء السماح لإعدادات تعريف الارتباط (كوكيز) بالعمل من مصادر خارجية والمحاولة مرة أخرى."},ur:{"%{viewNum} views":"%{viewNum} بار دیکھا","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>یہ براؤزر اس ویڈیو فارمیٹ کو سپورٹ نہیں کرتا، اور آپ نے فلیش کو انسٹال نہیں کیا ہوا ہے۔</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>فلیش ڈاؤن لوڈ کریں</a> </p>","<p>This browser does not support video playback.</p>":"<p>یہ براؤزر اس ویڈیو پلے بیک کو سپورٹ نہیں کرتا۔</p>",Ad:"اشتہار","Ad %{timeRemaining}":"اشتہار %{timeRemaining}","Ad &middot %{timeRemaining}":"اشتہار &middot %{timeRemaining}",Allow:"اجازت دیں","Cannot play video due to cookies being disabled":"کوکیز غیر فعال ہونے کی وجہ سے ویڈیو کو چلایا نہیں جا سکتا",Follow:"فالو کریں","More Videos":"مزید ویڈیوز","More videos":"مزید ویڈیوز","Playback is not supported in this environment.":"اس ماحول میں پلے بیک کی معاونت نہیں کی جاتی ہے۔","Playback is not supported on this device.":"اس ڈیوائس پر پلے بیک کی سہولت موجود نہیں ہے۔","Playback is not supported.":"پلے بیک کی معاونت نہیں کی جاتی ہے",Scrub:"مَنسُوخ کریں",Skip:"چھوڑیں","Sorry this video is not available in your location.":"معاف کیجیے گا یہ ویڈیو آپ کے مقام میں دستیاب نہیں ہے۔","The media could not be played on this domain.":"میڈیا اس ڈومین پر نہیں چلایا جا سکتا۔","The media could not be played.":"میڈیا نہیں چلایا جا سکتا۔","This media cannot be played on this domain":"میڈیا اس ڈومین پر نہیں چلایا جا سکتا","Unfortunately, license restrictions prevent video viewing in your location.":"بد قسمتی سے ،لائسنس کی پابندیاں آپ کے مقام پر ویڈیو دیکھنے سے روک رہی ہیں۔","Video in %{time}":"%{time} کی ویڈیو","Visit %{hostname}":"%{hostname} پر جائیں","Watch now at %{hostname}":"%{hostname} پر ابھی دیکھیں"},th:{"%{viewNum} views":"ผู้เข้าชม %{viewNum} คน","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>เบราว์เซอร์นี้ไม่รองรับรูปแบบวิดีโอชนิดนี้ และคุณยังไม่ได้ติดตั้ง Flash</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>ดาว์นโหลด Flash</a></p>","<p>This browser does not support video playback.</p>":"<p>เบราว์เซอร์นี้ไม่รองรับการเล่นวิดีโอ</p>",Ad:"โฆษณา","Ad %{timeRemaining}":"โฆษณา %{timeRemaining}","Ad &middot %{timeRemaining}":"โฆษณา &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"การบล็อกโฆษณาจะป้องกันไม่ให้วิดิโอนี้เล่น<br />โปรดปิดการใช้งานการบล็อกโฆษณาหรือลองใช้เบราเซอร์อื่น",Allow:"อนุญาต","Cannot play video due to cookies being disabled":"ไม่สามารถเล่นวิดิโอนี้ได้เนื่องจากคุกกี้ถูกปิดอยู่",Follow:"ติดตาม",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'เพื่อให้เล่นวิดีโอในเบราเซอร์ของคุณได้ เราจำเป็นต้องปิดคุกกี้จากโดเมน <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">ตกลงไหม</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'ในการที่จะเล่นวิดีโอในเบราเซอร์ของคุณได้ เราจำเป็นต้องปิดคุกกี้จากโดเมน<a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">ตกลงไหม</a>',"More Videos":"วิดีโอเพิ่มเติม","More videos":"วิดีโอเพิ่มเติม","Playback is not supported in this environment.":"ไม่สนับสนุนการเล่นในสภาพแวดล้อมนี้","Playback is not supported on this device.":"ไม่สนับสนุนการเล่นบนเครื่องนี้","Playback is not supported.":"ไม่สนับสนุนการเล่น",Scrub:"ขัด",Skip:"ข้าม","Sorry this video is not available in your location.":"ขออภัย วิดีโอนี้ไม่สามารถดูได้ในตำแหน่งของคุณ","The media could not be played on this domain.":"ไม่สามารถเล่นสื่อนี้บนโดเมนนี้ได้","The media could not be played.":"ไม่สามารถเล่นสื่อนี้ได้","This media cannot be played on this domain":"ไม่สามารถเล่นสื่อนี้บนโดเมนนี้ได้",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'เราต้องใช้คุกกี้จากอีกโดเมนหนึ่งของทวิตเตอร์ (twimg.com) ในการเล่นวิดีโอ โปรดคลิกเพื่ออนุญาตให้เราเปิดหน้าต่างใหม่ขึ้นมาและกำหนดค่าคุกกี้ที่จำเป็นต่อการชมเนื้อหาดังกล่าว <a href="https://t.co/livevideobrowsers" target="_blank">เรียนรู้เพิ่มเติม</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"ขออภัยค่ะ ระบบยังไม่รองรับซาฟารี กรุณาลองเบราว์เซอร์อื่น","Unfortunately, license restrictions prevent video viewing in your location.":"ขออภัย ข้อจำกัดในใบอนุญาตทำให้ไม่สามารถดูวิดีโอนี้ในตำแหน่งของคุณได้","Video in %{time}":"วิดีโอใน %{time}","Visit %{hostname}":"ไปที่ %{hostname}","Watch now at %{hostname}":"ดูตอนนี้ที่ %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'เราไม่สามารถเล่นวิดีโอในเบราเซอร์นี้ได้ โปรดลองเว็บเบราเซอร์อื่นหรือ<a href="https://t.co/livevideobrowsers" target="_blank">อัพเดทการตั้งค่าคุกกี้ของคุณ</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'เราไม่สามารถเล่นวิดีโอในเบราเซอร์นี้ได้ โปรดลองเว็บเบราเซอร์อื่นหรือ<a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">อัพเดทการตั้งค่าคุกกี้ของคุณ</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'เราไม่สามารถเล่นวิดีโอในเบราเซอร์นี้ได้ โปรดลองเว็บเบราเซอร์อื่นหรือ<a href="https://t.lv.twimg.com/livevideobrowsers">อัพเดทการตั้งค่าคุกกี้ของคุณ</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"เราไม่สามารถเล่นวิดีโอนี้ได้เนื่องจากการตั้งค่าคุกกี้ กรุณายอมรับคุกกี้จากโดเมนภายนอกและลองเล่นวิดีโอนี้อีกครั้ง"},fa:{"%{viewNum} views":"%{viewNum} بازدید","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>این مرورگر از این قالب ویدیو پشتیبانی نمی‌کند و شما برنامه فلش را نصب نکرده‌اید.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>دریافت فلش Flash</a></p>","<p>This browser does not support video playback.</p>":"<p>این مرورگر پخش ویدئو را پشتیبانی نمی‌کند.</p>",Ad:"تبلیغ","Ad %{timeRemaining}":"تبلیغ %{timeRemaining}","Ad &middot %{timeRemaining}":"تبلیغ &middot‏ %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"مسدودسازی تبلیغات مانع از پخش این ویدئو می‌شود.<br />لطفا انسداد تبلیغات را غیرفعال کرده یا مرورگر دیگری را امتحان کنید.",Allow:"اجازه‌ دادن","Cannot play video due to cookies being disabled":"تا زمانی که کوکی‌ها غیرفعال باشند، ویدئو نمی‌تواند پخش شود.",Follow:"دنبال کردن",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'به منظور پخش ویدئو در مرورگر شما، ناگزیر به غیرفعال کردن کوکی‌های دامنه هستیم. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">موافقید؟</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'به منظور پخش ویدئو در مرورگر شما، ناگزیر به غیرفعال کردن کوکی‌های دامنه هستیم. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">موافقید؟</a>',"More Videos":"ویدئوهای بیشتر","More videos":"ویدیوهای بیشتر","Playback is not supported in this environment.":"پخش در این محیط پشتیبانی نمی‌شود.","Playback is not supported on this device.":"پخش در این  دستگاه پشتیبانی نمی‌شود.","Playback is not supported.":"پخش پشتیبانی نمی‌شود.",Scrub:"جابجایی",Skip:"رد کردن","Sorry this video is not available in your location.":"متاسفیم، این ویدیو در موقعیت جغرافیایی شما قابل دسترسی نمی‌باشد.","The media could not be played on this domain.":"این رسانه نمی‌تواند در این دامنه پخش شود.","The media could not be played.":"رسانه قابل پخش‌ نیست.","This media cannot be played on this domain":"این رسانه در این دامنه پخش نمی‌شود",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'به منظور پخش ویدئو، ناگزیر به استفاده کوکی‌ها از دامنه‌ی دیگر توییتر (twimg.com) هستیم. لطفا برای اجازه دادن به ما جهت بازکردن یک پنجره جدید و تنظیم ملزومات کوکی برای نمایش محتوای ویدیو، کلیک کنید. <a href="https://t.co/livevideobrowsers" target="_blank">بیشتر بدانید.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"متاسفانه فعلا از مرورگر Safari پشتیبانی نمی‌شود. لطفا مرورگر دیگری را امتحان کنید.","Unfortunately, license restrictions prevent video viewing in your location.":"متاسفانه، محدودیت‌های مجوز مانع از مشاهده ویدئو در موقعیت جغرافیایی شما می‌شود.","Video in %{time}":"ویدئو در %{time}","Visit %{hostname}":"مشاهده %{hostname}","Watch now at %{hostname}":"هم اکنون در %{hostname} ببینید.",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'نمی‌توانیم ویدئو را با این مرورگر پخش کنیم. لطفاً مرورگر دیگری را امتحان کرده، یا <a href="https://t.co/livevideobrowsers" target="_blank">تنظیمات کوکی خود را به‌روزرسانی کنید.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'نمی‌توانیم ویدئو را با این مرورگر پخش کنیم. لطفاً مرورگر دیگری را امتحان کرده، یا <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">تنظیمات کوکی خود را به‌روزرسانی کنید.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'نمی‌توانیم ویدئو را با این مرورگر پخش کنیم. لطفاً مرورگر دیگری را امتحان کرده، یا <a href="https://t.lv.twimg.com/livevideobrowsers">تنظیمات کوکی خود را به‌روزرسانی کنید.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"تا زمانی که کوکی‌ها غیرفعال باشند، نمی‌توانیم این ویدئو را پخش کنیم. لطفا اجازه استفاده از کوکی‌ها را در دامنه‌های خارجی بدهید و دوباره تلاش کنید."},cs:{"%{viewNum} views":"%{viewNum} shlédnutí","<p>This browser does not support video playback.</p>":"<p>Tento prohlížeč nepodporuje přehrávání videa.</p>",Ad:"Reklama","Ad %{timeRemaining}":"Reklama – %{timeRemaining}","Ad &middot %{timeRemaining}":"Reklama &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"Blokování reklam znemožňuje přehrání tohoto videa.<br />Zrušte, prosím, blokování reklam nebo zkuste použít jiný prohlížeč.",Allow:"Povolit","Cannot play video due to cookies being disabled":"Video nelze přehrát, neboť jsou zakázány soubory cookies",Follow:"Sledovat",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'Abychom mohli přehrát video ve vašem prohlížeči, musíme nastavit soubory cookies mimo doménu. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Je to v pořádku?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'Abychom mohli přehrávat video ve vašem\n  prohlížeči, musíme nastavit cookies mimo doménu. <a\n  href="https://t.lv.twimg.com/live_video_cookies"\n  target="_blank">Je to v pořádku?</a>',"More Videos":"Další videa","More videos":"Další videa",Scrub:"Přetočit",Skip:"Přeskočit","Sorry this video is not available in your location.":"Je nám líto, ale toto video není ve vaší zemi dostupné.","The media could not be played on this domain.":"Na této doméně toto médium nelze přehrát.","This media cannot be played on this domain":"Na této doméně toto médium nelze přehrát",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'Ke spuštění videa je potřeba použít soubory cookies z jiné Twitter domény (twimg.com). Klikněte prosím a dovolte nám na okamžik otevřít nové okno a nastavit soubory cookies nutné k zobrazení obsahu <a href="https://t.co/livevideobrowsers" target="_blank"> Zjistit více.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Prohlížeč Safari není v současné době podporován. Použijte prosím jiný prohlížeč.","Unfortunately, license restrictions prevent video viewing in your location.":"Bohužel, licenční omezení zabraňují přehrávání videa ve vaší zemi.","Video in %{time}":"Video v %{time}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'Video nelze přehrát v tomto prohlížeči. Zkuste jiný prohlížeč nebo <a href="https://t.co/livevideobrowsers" target="_blank">aktualizujte nastavení souborů cookies.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'Video nelze přehrát v tomto prohlížeči. Zkuste jiný prohlížeč nebo <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">aktualizujte nastavení souborů cookies.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'Video nelze přehrát v tomto prohlížeči. Zkuste jiný prohlížeč nebo <a href="https://t.lv.twimg.com/livevideobrowsers">aktualizujte nastavení souborů cookies.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"Toto video nelze přehrát kvůli nastavení souborů cookies. Povolte prosím soubory cookies z externích domén a zkuste to znovu."},uk:{"%{viewNum} views":"Переглядів: %{viewNum}","<p>This browser does not support video playback.</p>":"<p>Цей браузер не підтримує відтворення відео.</p>",Ad:"Реклама","Ad %{timeRemaining}":"Реклама %{timeRemaining}","Ad &middot %{timeRemaining}":"Реклама &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"Неможливо відтворити відео через блокування реклами.<br />Вимкніть блокування реклами або спробуйте інший браузер.",Allow:"Дозволити","Cannot play video due to cookies being disabled":"Неможливо відтворити відео, оскільки файли cookie вимкнуто",Follow:"Читати",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'Щоб відтворити відео у вашому браузері, ми маємо встановити сторонні файли cookie. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Ви не проти?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'Щоб відтворити відео у вашому браузері, ми маємо встановити сторонні файли cookies. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Ви не проти?</a>',"More Videos":"Більше відео","More videos":"Більше відео",Scrub:"Тягніть",Skip:"Пропустити","Sorry this video is not available in your location.":"На жаль, це відео недоступне у вашому регіоні.","The media could not be played on this domain.":"Медіафайл неможливо відтворити на цьому домені.","This media cannot be played on this domain":"Цей медіафайл неможливо відтворити на цьому домені",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'Щоб відтворити відео, ми маємо скористатися файлами cookie з іншого домену Твіттера (twimg.com). Натисніть кнопку, щоб дозволити нам відкрити нове вікно та налаштувати файл cookie, потрібний для перегляду цього вмісту. <a href="https://t.co/livevideobrowsers" target="_blank">Детальніше</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"На жаль, Safari зараз не підтримується. Спробуйте скористатись іншим браузером","Unfortunately, license restrictions prevent video viewing in your location.":"На жаль, ліцензійні обмеження не дозволяють переглядати відео у вашому регіоні.",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'Ми не можемо відтворити відео в цьому браузері. Спробуйте скористатись іншим браузером або <a href="https://t.co/livevideobrowsers" target="_blank">оновіть налаштування файлів cookie.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'Ми не можемо відтворити відео в цьому браузері. Спробуйте скористатись іншим браузером або <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">оновіть налаштування файлів cookie.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'Ми не можемо відтворити відео в цьому браузері. Спробуйте скористатись іншим браузером або <a href="https://t.lv.twimg.com/livevideobrowsers">оновіть налаштування файлів cookie.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"Ми не можемо відтворити це відео через налаштування файлів cookie. Дозвольте використовувати файли сookie із зовнішніх доменів і спробуйте знову."},vi:{"%{viewNum} views":"%{viewNum} lượt xem","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>Trình duyệt không hỗ trợ định dạng video này, và bạn chưa cài đặt Flash.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Tải Flash</a></p>","<p>This browser does not support video playback.</p>":"<p>Trình duyệt này không hỗ trợ phát lại video.</p>",Ad:"Quảng cáo","Ad %{timeRemaining}":"Quảng cáo %{timeRemaining}","Ad &middot %{timeRemaining}":"Quảng cáo &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"Chặn quảng cáo ngăn phát video này.<br />Vui lòng tắt chặn quảng cáo hoặc thử một trình duyệt khác.",Allow:"Cho phép","Cannot play video due to cookies being disabled":"Không thể phát video do các cookie đang bị vô hiệu hoá",Follow:"Theo dõi",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'Để phát video trên trình duyệt của bạn, chúng ta cần tắt cookie trên miền.<a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Được không bạn?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'Để phát video trên trình duyệt của bạn, chúng ta cần tắt cookie trên miền. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Được không bạn?</a>',"More Videos":"Thêm Video","More videos":"Thêm video","Playback is not supported in this environment.":"Không hỗ trợ phát lại trong môi trường này.","Playback is not supported on this device.":"Không hỗ trợ phát lại trên thiết bị này.","Playback is not supported.":"Không hỗ trợ phát lại.",Scrub:"Chà",Skip:"Bỏ qua","Sorry this video is not available in your location.":"Rất tiếc video này không có ở vị trí của bạn.","The media could not be played on this domain.":"Không thể phát tập tin đa phương tiện này trên miền này.","The media could not be played.":"Không thể chạy tập tin đa phương tiện.","This media cannot be played on this domain":"Không thể phát tập tin đa phương tiện này trên miền này",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'Để phát video chúng tôi cần sử dụng cookie từ một miền Twitter khác (twimg.com). Vui lòng nhấp để cho phép chúng tôi mở nhanh một cửa sổ mới và đặt cookie cần thiết để xem nội dung. <a href="https://t.co/livevideobrowsers" target="_blank">Tìm hiểu thêm.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Thật không may, Safari hiện không được hỗ trợ. Vui lòng thử một trình duyệt khác.","Unfortunately, license restrictions prevent video viewing in your location.":"Rất tiếc, vì giới hạn bản quyền nên video không xem được ở vị trí của bạn.","Video in %{time}":"Video trong %{time}","Visit %{hostname}":"Truy cập %{hostname}","Watch now at %{hostname}":"Xem ngay tại %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'Chúng tôi không thể phát video trên trình duyệt này. Vui lòng thử một trình duyệt web khác hoặc <a href="https://t.co/livevideobrowsers" target="_blank">cập nhật cài đặt cookie của bạn.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'Chúng tôi không thể phát video trên trình duyệt này. Vui lòng thử một trình duyệt web khác hoặc <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank"> cập nhật cài đặt cookie của bạn.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'Chúng tôi không thể phát video trên trình duyệt này. Vui lòng thử một trình duyệt web khác hoặc <a href="https://t.lv.twimg.com/livevideobrowsers">cập nhật cài đặt cookie của bạn.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"Chúng tôi không thể phát video này do cài đặt cookie. Vui lòng cho phép cookie từ các miền bên ngoài và thử lại."},ro:{"%{viewNum} views":"%{viewNum} vizualizări","<p>This browser does not support video playback.</p>":"<p>Acest browser nu acceptă redarea videoclipurilor.</p>",Ad:"Reclamă","Ad %{timeRemaining}":"Reclamă %{timeRemaining}","Ad &middot %{timeRemaining}":"Reclamă &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"Blocarea reclamelor previne redarea acestui videoclip.<br />Dezactivează blocarea reclamelor sau încearcă un alt browser.",Allow:"Permite","Cannot play video due to cookies being disabled":"Videoclipul nu poate fi redat, deoarece modulele cookie sunt dezactivate",Follow:"Urmărește",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'Pentru a reda videoclipul în browserul tău, trebuie să setăm modulele cookie în afara domeniului. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Ești de acord?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'Pentru a reda videoclipul în browserul tău, trebuie să setăm modulele cookie în afara domeniului.\n <a href="https://t.lv.twimg.com/live_video_cookies" \ntarget="_blank">Ești de acord?</a>',"More Videos":"Mai multe videoclipuri","More videos":"Mai multe videoclipuri",Scrub:"Freacă",Skip:"Omite","Sorry this video is not available in your location.":"Ne pare rău, acest videoclip nu este disponibil în locația ta.","The media could not be played on this domain.":"Conținutul media nu a putut fi redat pe acest domeniu.","This media cannot be played on this domain":"Acest conținut media nu poate fi redat în acest domeniu",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'Pentru a reda videoclipul trebuie să folosim module cookie de la un alt domeniu Twitter (twimg.com). Fă clic pentru a ne permite să deschidem scurt timp o fereastră nouă și să setăm modulele cookie necesare pentru a vizualiza conținutul. <a href="https://t.co/livevideobrowsers" target="_blank">Află mai multe.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Din păcate, Safari nu este acceptat momentan. Încearcă un alt browser.","Unfortunately, license restrictions prevent video viewing in your location.":"Din păcate, restricțiile de licență împiedică vizionarea video în locația ta.",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'Nu putem reda videoclipul în acest browser. Încearcă un alt browser sau <a href="https://t.co/livevideobrowsers" \ntarget="_blank">actualizează-ți setările cookie</a>.','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'Nu putem reda videoclipul în acest browser. Încearcă un alt browser sau <a \nhref="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">actualizează \nsetările pentru cookie</a>.','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'Nu putem reda videoclipul în acest browser. Încearcă un alt browser sau <a \nhref="https://t.lv.twimg.com/livevideobrowsers">actualizează-ți \nsetările cookie</a>.',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"Videoclipul nu poate fi redat din cauza setărilor modulelor cookie. Activează modulele cookie din domeniile externe și încearcă din nou."},bn:{"%{viewNum} views":"%{viewNum} বার দেখা হয়েছে","<p>This browser does not support video playback.</p>":"<p>এই ব্রাউজার ভিডিও প্লেব্যাক সমর্থন করে না।</p>",Ad:"বিজ্ঞাপন","Ad %{timeRemaining}":"বিজ্ঞাপন %{timeRemaining}","Ad &middot %{timeRemaining}":"বিজ্ঞাপন &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"বিজ্ঞাপন অবরোধ এই ভিডিওটিকে চালানোতে বাধা দিচ্ছে।<br />দয়া করে বিজ্ঞাপন অবরোধ বন্ধ করুন অথবা কোনো আলাদা ব্রাউজার ব্যবহার করে দেখুন।",Allow:"অনুমতি দিন","Cannot play video due to cookies being disabled":"কুকিজ নিষ্ক্রিয় হওয়ার জন্য ভিডিও চালানো যাবে না",Follow:"অনুসরণ করুন",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'আপনার ব্রাউজারে ভিডিও চালাতে হলে আমাদের ডোমেন থেকে কুকিজ শুরু করতে হবে। <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">এটা কি ঠিক আছে?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'আপনার ব্রাউজারে ভিডিও চালাতে হলে আমাদের ডোমেন থেকে কুকিজ শুরু করতে হবে। <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">এটা কি ঠিক আছে?</a>',"More Videos":"আরো ভিডিও","More videos":"আরও ভিডিও",Scrub:"মাজা",Skip:"এড়িয়ে যান","Sorry this video is not available in your location.":"দুঃখিত, এই ভিডিওটি আপনার অবস্থানে উপলভ্য নেই।","The media could not be played on this domain.":"এই ডোমেনে মিডিয়াটিকে প্লে করা যাবে না।","This media cannot be played on this domain":"এই মিডিয়াটিকে এই ডোমেনে প্লে করা যাবে না",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'ভিডিও প্লে করার জন্য আমাদের অন্য টুইটার ডোমেন (twimg.com) থেকে কুকিজ ব্যবহার করতে হবে। সংক্ষিপ্ত সময়ের জন্য একটি নতুন উইন্ডো খুলতে এবং সামগ্রী দেখার জন্য আবশ্যক কুকি সেট করতে আমাদের অনুমতি দেওয়ার জন্য দয়া করে ক্লিক করুন। <a href="https://t.co/livevideobrowsers" target="_blank">আরও জানুন।</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"দূর্ভাগ্যবশত Safari এখন সমর্থিত নয়।  অনুগ্রহ করে অন্য একটি ব্রাউজারে চেষ্টা করুন।","Unfortunately, license restrictions prevent video viewing in your location.":"দুর্ভাগ্যবশত, লাইসেন্স সীমাবদ্ধতাগুলি আপনার অবস্থানে ভিডিও দেখা থেকে আটকাচ্ছে।",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'আমরা এই ব্রাউজারে ভিডিওটি প্লে করতে পারছি না। দয়া করে একটি ভিন্ন ওয়েব ব্রাউজার ব্যবহার করে দেখুন বা <a href="https://t.co/livevideobrowsers" target="_blank">আপনার কুকি সেটিংস আপডেট করুন।</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'আমরা এই ব্রাউজারে ভিডিওটি প্লে করতে পারছি না। দয়া করে একটি ভিন্ন ওয়েব ব্রাউজার ব্যবহার করে দেখুন বা <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">আপনার কুকি সেটিংস আপডেট করুন।</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'আমরা এই ব্রাউজারে ভিডিওটি প্লে করতে পারছি না। দয়া করে একটি ভিন্ন ওয়েব ব্রাউজার ব্যবহার করে দেখুন বা <a href="https://t.lv.twimg.com/livevideobrowsers">আপনার কুকি সেটিংস আপডেট করুন।</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"কুকিজের সেটিংয়ের কারণে আমরা ভিডিও চালাতে পারব না।  বাইরের ডোমেনের জন্য কুকিজে অনুমতি দিন এবং আবার চেষ্টা করুন।"},"en-gb":{"%{viewNum} views":"%{viewNum} views","<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>":"<p>This browser does not support this video format, and you do not have Flash installed.</p><p><a target='_blank' href='http://get.adobe.com/flashplayer'>Download Flash</a></p>","<p>This browser does not support video playback.</p>":"<p> This browser does not support video playback. </p>",Ad:"Ad","Ad %{timeRemaining}":"Ad %{timeRemaining}","Ad &middot %{timeRemaining}":"Ad &middot %{timeRemaining}","Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.":"Ad blocking prevents this video from playing. <br /> Please disable ad blocking or try a different browser.",Allow:"Allow","Cannot play video due to cookies being disabled":"Can't play video while cookies are disabled.",Follow:"Follow",'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>':'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" class="cookie-link" target="_blank">Is that ok?</a>','In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>':'In order to play video on your browser we need to set cookies off domain. <a href="https://t.lv.twimg.com/live_video_cookies" target="_blank">Is that ok?</a>',"More Videos":"More Videos","More videos":"More videos","Playback is not supported in this environment.":"Playback is not supported in this environment.","Playback is not supported on this device.":"Playback is not supported on this device.","Playback is not supported.":"Playback is not supported.",Scrub:"Scrub",Skip:"Skip","Sorry this video is not available in your location.":"Sorry this video is not available in your location.","The media could not be played on this domain.":"The media could not be played on this domain.","The media could not be played.":"The media could not be played.","This media cannot be played on this domain":"This media cannot be played on this domain",'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>':'To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>',"Unfortunately Safari isn't supported now.  Please try a different browser.":"Unfortunately Safari isn't currently supported.  Please try a different browser.","Unfortunately, license restrictions prevent video viewing in your location.":"Unfortunately, license restrictions prevent video viewing in your location.","Video in %{time}":"Video in %{time}","Visit %{hostname}":"Visit %{hostname}","Watch now at %{hostname}":"Watch now at %{hostname}",'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>':'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>':'We cannot play the video in this browser. Please try a different web browser or <a href="https://t.lv.twimg.com/3rd_party_cookies" target="_blank">update your cookie settings.</a>','We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>':'We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.lv.twimg.com/livevideobrowsers">update your cookie settings.</a>',"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again.":"We cannot play this video due to cookie settings. Please allow cookies from external domains and try again."}}}),define("utils/i18n",["require","translations","utils/utils"],function(e){var t=e("translations"),n=e("utils/utils"),r=function(){return r.translate.apply(r,arguments)};return r.translate=function(e,r){var i=n.getLanguageCode(),s=i.split("-"),o;for(var u=0;u<s.length;u++){o=s.slice(0,s.length-u).join("-");if(t[o]&&t[o][e]){e=t[o][e];break}}if(r)for(var a in r){var f=new RegExp("%{"+a+"}","g");e=e.replace(f,r[a])}return e},r}),define("ui/controls/call_to_action",["require","flight/lib/component","utils/utils","utils/i18n"],function(e){function i(){this.attributes({textNodeSelector:".call-to-action"}),this.callToActionClicked=function(){this.type&&this.ctaLink&&(this.trigger("uiCtaClicked",{id:this.id,type:this.type,url:this.ctaLink}),this.trigger("uiPause"))},this.updateCallToAction=function(e,t){var i=this.select("textNodeSelector");i.html("");if(t&&t.url&&t.type){this.id=t.id,this.type=t.type,this.ctaLink=t.url;var s,o=n.getUrlMetadata(this.ctaLink),u=o.hostname;u.indexOf("www.")===0&&(u=u.substr(4)),t.type==="visit"?s=r("Visit %{hostname}",{hostname:u}):s=r("Watch now at %{hostname}",{hostname:u});var a=$("<a target='_blank'></a>");a.attr("href",this.ctaLink),a.text(s),i.append(a),this.$node.css("display","block")}else this.$node.css("display","none")},this.callToActionShown=function(){this.$node.is(":visible")&&this.trigger("uiCtaImpression",{id:this.id,type:this.type,url:this.ctaLink})},this.after("initialize",function(){this.on(document,"dataShowCta",this.updateCallToAction),this.on("click",this.callToActionClicked),this.on(document,"uiReportControlsShown uiReportPlay",this.callToActionShown)})}var t=e("flight/lib/component"),n=e("utils/utils"),r=e("utils/i18n");return t(i)}),define("ui/controls/captions_button",["require","flight/lib/component"],function(e){var t=e("flight/lib/component");return t(function(){this.onClick=function(){this.isEnabled&&(this.isOn=!this.isOn,this.trigger(this.isOn?"uiEnableCaptions":"uiDisableCaptions"),this.updateDOM())},this.enableCaptionsButton=function(){this.isEnabled||(this.isEnabled=!0,this.updateDOM())},this.updateDOM=function(){this.$node.toggleClass("captions-enabled",this.isEnabled).toggleClass("captions-on",this.isOn)},this.after("initialize",function(){this.isEnabled=!1,this.isOn=!1,this.on(document,"dataEnableCaptionsButton",this.enableCaptionsButton),this.on("click",this.onClick)})})}),define("ui/controls/full_screen_button",["require","flight/lib/component"],function(e){function n(){this.fullScreenClicked=function(){this.$node.hasClass("expand")?this.trigger("uiEnterFullScreen"):this.trigger("uiExitFullScreen")},this.enterFullScreen=function(){this.$node.removeClass("expand").addClass("shrink")},this.exitFullScreen=function(){this.$node.removeClass("shrink").addClass("expand")},this.after("initialize",function(){this.on("click",this.fullScreenClicked),this.on(document,"dataEnterFullScreen",this.enterFullScreen),this.on(document,"dataExitFullScreen",this.exitFullScreen)})}var t=e("flight/lib/component");return t(n)}),define("ui/with_formatters",[],function(){return function(){this.formatMinutesSeconds=function(e){e=Math.round(e);var t=e%60,n=(e-t)/60;return t=t<10?"0"+t:t,n+":"+t}}}),define("ui/controls/with_timer",["require","flight/lib/compose","ui/with_formatters","utils/with_states"],function(e){function i(){t.mixin(this,[n,r]),this.attributes({progressSelector:".time-display-progress",isLiveVideo:!1}),this.updateTime=function(e,t){if(this.isAdPlaying()||!this.attr.isLiveVideo)this.progressDisplay.text(this.formatMinutesSeconds(t.currentTime)+" / "+this.formatMinutesSeconds(t.duration)),this.progressDisplay.addClass("time-display-populated")},this.trackStart=function(){this.progressDisplay.removeClass("time-display-populated"),this.progressDisplay.text("")},this.after("initialize",function(){this.progressDisplay=this.select("progressSelector"),this.on(document,"uiTimeUpdate",this.updateTime),this.on(document,"dataPlayVideo dataPreviewVideo",this.trackStart)})}var t=e("flight/lib/compose"),n=e("ui/with_formatters"),r=e("utils/with_states");return i}),define("ui/controls/player_controls",["require","flight/lib/component","ui/controls/with_timer","utils/with_states"],function(e){function i(){this.attributes({twitterButtonSelector:".twitter-button",controlHideDelay:2e3,hideStatus:!1,isLiveVideo:!1,hoverControlHideDelay:2e3,status:undefined,user:undefined,minPreviewWidth:300}),this.showControls=function(e,t){if(this.isPreview()&&this.$node.width()<=this.attr.minPreviewWidth)return;clearTimeout(this.hideControlsTimeout),typeof t!="undefined"&&(this.pinned=t),!this.pinned&&typeof e!="undefined"&&(this.hideControlsTimeout=setTimeout(this.hideControls.bind(this),e)),this.$node.hasClass("visible-controls")||(this.$node.addClass("visible-controls"),this.trigger("uiReportControlsShown"))},this.onTrackStart=function(){this.showFadingControls()},this.onPlay=function(){this.isPreview()||this.showFadingControls()},this.onPause=function(){this.isPreview()||this.showPersistentControls()},this.hideControls=function(){clearTimeout(this.hideControlsTimeout),!this.pinned&&this.$node.hasClass("visible-controls")&&(this.$node.removeClass("visible-controls"),this.trigger("uiReportControlsHidden"))},this.disable=function(){this.$node.hide()},this.enable=function(){this.$node.css("display","block")},this.render=function(){var e=this.attr.status,t=this.attr.user;if(!e||!t)return;var n="https://twitter.com/"+t.screen_name+"/status/"+e.id_str;this.select("twitterButtonSelector").attr("href",n)},this.onClickTwitterButton=function(e){this.attr.hideStatus?this.trigger("uiPause"):(e.preventDefault(),this.trigger("uiShowEmbeddedTweet"))},this.showPersistentControls=function(){this.showControls(undefined,!0)},this.showFadingControls=function(){this.showControls(this.attr.controlHideDelay,!1)},this.after("initialize",function(){this.on("click",{twitterButtonSelector:this.onClickTwitterButton}),this.on("mouseover mousemove",this.showControls.bind(this,this.attr.hoverControlHideDelay,undefined)),this.on(document,"uiHoverSkipBadge",this.showControls.bind(this,this.attr.hoverControlHideDelay,undefined)),this.on(document,"dataStepForward dataStepBackward dataPlaylistEnd dataPause",this.showPersistentControls),this.on(document,"dataContinue",this.onPlay),this.on(document,"dataPlayVideo",this.onTrackStart),this.on(document,"uiReportPause",this.onPause),this.on(document,"uiReportEmbeddedTweetHidden",this.enable),this.on(document,"uiReportEmbeddedTweetShown",this.disable),this.on(document,"uiMouseOutPlayer",this.hideControls),this.render(),this.enable()})}var t=e("flight/lib/component"),n=e("ui/controls/with_timer"),r=e("utils/with_states");return t(i,n,r)}),define("ui/controls/play_pause_button",["require","flight/lib/component"],function(e){function n(){this.playPauseClicked=function(){this.$node.hasClass("play")?this.trigger("uiPlay"):this.trigger("uiPause")},this.play=function(){this.show(),this.$node.removeClass("play").addClass("pause")},this.pause=function(){this.show(),this.$node.addClass("play").removeClass("pause")},this.playlistEnd=function(){this.hide(),this.$node.addClass("play").removeClass("pause")},this.hide=function(){this.$node.hide()},this.show=function(){this.$node.css("display","block")},this.timeUpdate=function(e,t){t.currentTime!==t.duration&&this.show()},this.after("initialize",function(){this.on("click",this.playPauseClicked),this.on(document,"uiReportStartPlay",this.play),this.on(document,"uiReportPause",this.pause),this.on(document,"dataPlaylistEnd",this.playlistEnd),this.on(document,"uiTimeUpdate",this.timeUpdate)})}var t=e("flight/lib/component");return t(n)}),define("ui/controls/replay_button",["require","flight/lib/component"],function(e){function n(){this.replayButtonClicked=function(){this.trigger("uiReplay")},this.show=function(){this.$node.show()},this.hide=function(){this.$node.hide()},this.timeUpdate=function(e,t){t.currentTime!==t.duration&&this.hide()},this.after("initialize",function(){this.on("click",this.replayButtonClicked),this.on(document,"dataPlaylistEnd",this.show),this.on(document,"dataDidReplay",this.hide),this.on(document,"uiTimeUpdate",this.timeUpdate)})}var t=e("flight/lib/component");return t(n)}),define("ui/controls/scrubber",["require","flight/lib/component"],function(e){function n(){this.attributes({scrubberThumbSelector:".scrubber-thumb",scrubberTrackPlayedSelector:".scrubber-track-played",scrubberTrackSelector:".scrubber-track"}),this.getProgressFromEvent=function(e){var t=e.pageX-this.getElementOffset();return Math.max(Math.min(t/this.getElementWidth(),1),0)||0},this.getElementOffset=function(){return this.hasNonsensicalFullscreenWidths()?Math.round(this.$node.get(0).getBoundingClientRect().left*100):this.$node.offset().left},this.getElementWidth=function(){return this.hasNonsensicalFullscreenWidths()?Math.round(this.$node.get(0).getBoundingClientRect().width*100):this.$node.width()},this.hasNonsensicalFullscreenWidths=function(){return window.self!==window.top&&this.$node.get(0)&&this.$node.get(0).offsetWidth<this.$node.get(0).clientWidth},this.mouseDown=function(e){this.scrubberGrab(e)},this.mouseOver=function(){var e=this.select("scrubberTrackSelector"),t=this.select("scrubberTrackPlayedSelector"),n=this.select("scrubberThumbSelector");e.addClass("scrubber-track-mouseover"),t.addClass("scrubber-track-played-mouseover"),n.addClass("scrubber-thumb-mouseover")},this.mouseOut=function(){var e=this.select("scrubberTrackSelector"),t=this.select("scrubberTrackPlayedSelector"),n=this.select("scrubberThumbSelector");e.removeClass("scrubber-track-mouseover"),t.removeClass("scrubber-track-played-mouseover"),n.removeClass("scrubber-thumb-mouseover")},this.resetScrubber=function(){this.off(document,"mousemove"),this.off(document,"mouseup"),this.setProgress(0)},this.scrubberGrab=function(e){this.off("mouseout",this.mouseOut),this.on(document,"mousemove",this.scrubberMove),this.on(document,"mouseup",this.scrubberRelease),this.trigger("uiScrubStart"),this.scrubberMove(e)},this.scrubberMove=function(e){var t=this.getProgressFromEvent(e);this.setProgress(t),this.trigger("uiScrub",{percentage:t})},this.scrubberRelease=function(){this.on("mouseout",this.mouseOut),this.off(document,"mousemove"),this.off(document,"mouseup"),this.trigger("uiScrubEnd")},this.setProgress=function(e){var t=e*100+"%",n=Math.max(Math.min(e,.99),.01)*100+"%",r=this.select("scrubberTrackPlayedSelector"),i=this.select("scrubberThumbSelector");r.width(t),this.fullscreen?i.css("left",t):i.css("left",n)},this.timeUpdate=function(e,t){this.setProgress(t.currentTime/t.duration)},this.trackStart=function(e,t){this.resetScrubber(t?t.trackType:undefined);if(t&&t.currentTime!==undefined){var n=t.duration?t.duration:this.attr.duration;n!==undefined&&this.setProgress(t.currentTime/t.duration)}},this.onEnterFullScreen=function(){this.fullscreen=!0},this.onExitFullScreen=function(){this.fullscreen=!1},this.showScrubber=function(){this.$node.removeClass("scrubber-background-hidden")},this.hideScrubber=function(){this.$node.addClass("scrubber-background-hidden")},this.after("initialize",function(){this.on("mousedown",this.mouseDown),this.on("mouseover",this.mouseOver),this.on("mouseout",this.mouseOut),this.on(document,"uiTimeUpdate",this.timeUpdate),this.on(document,"uiReportVideoShown",this.trackStart),this.on(document,"uiReportEnterFullScreen",this.onEnterFullScreen),this.on(document,"uiReportExitFullScreen",this.onExitFullScreen),this.on(document,"uiMouseEnterSoundControls",this.hideScrubber),this.on(document,"uiMouseLeaveSoundControls",this.showScrubber)})}var t=e("flight/lib/component");return t(n)}),define("ui/controls/skip_button",["require","flight/lib/component","utils/i18n"],function(e){function r(){this.attributes({textNodeSelector:".skip-label"}),this.skipButtonClicked=function(){this.trigger("uiReportAdSkip")},this.after("initialize",function(){this.skipLabel=this.select("textNodeSelector"),this.skipLabel.text(n("Skip")),this.on("click",this.skipButtonClicked)})}var t=e("flight/lib/component"),n=e("utils/i18n");return t(r)}),define("ui/controls/view_counts",["require","flight/lib/component","utils/i18n","utils/with_states"],function(e){function i(){this.attributes({viewCountsSelector:".view-counts-display",viewCounts:undefined}),this.setViewCountsText=function(e){var t=n("%{viewNum} views",{viewNum:e});this.$node.html(t)},this.showViewCountsText=function(){this.$node.show()},this.hideViewCountsText=function(){this.$node.hide()},this.onStateUpdate=function(e,t){if(!t||!t.state)return;switch(t.state){case"PREVIEW_CONTENT_LAST_PLAYING":case"PREVIEW_CONTENT_PLAYING":case"CONTENT_PLAYING":case"READY_TO_REPLAY":!this.contentViewCounts||typeof this.contentViewCounts!="number"&&typeof this.contentViewCounts!="string"?(this.hideViewCountsText(),this.$node.css("visibility","hidden")):(this.showViewCountsText(),this.$node.css("visibility","visible"));break;case"PREVIEW_PREROLL_PLAYING":case"PREROLL_PLAYING":case"READY_TO_PLAY":this.hideViewCountsText(),this.$node.css("visibility","hidden")}},this.after("initialize",function(){this.contentViewCounts=this.attr.viewCounts,!this.contentViewCounts||typeof this.contentViewCounts!="number"&&typeof this.contentViewCounts!="string"?this.$node.css("visibility","hidden"):(this.setViewCountsText(this.contentViewCounts),this.showViewCountsText(),this.$node.css("visibility","visible")),this.$node.css("display","block"),this.on(document,"dataVideoStateUpdated",this.onStateUpdate)})}var t=e("flight/lib/component"),n=e("utils/i18n"),r=e("utils/with_states");return t(i,r)}),define("ui/controls/mute_button",["require","flight/lib/component"],function(e){function n(){this.muteButtonClicked=function(){this.$node.hasClass("sound-on")?this.trigger("uiMute"):this.trigger("uiUnmute")},this.mouseEnter=function(){this.trigger("uiMouseEnterMuteButton")},this.setMute=function(e,t){t&&t.muted?this.muted():this.unmuted()},this.muted=function(){this.$node.removeClass("sound-on").addClass("sound-off")},this.unmuted=function(){this.$node.removeClass("sound-off").addClass("sound-on")},this.onScrubStart=function(){this.off("mouseenter",this.mouseEnter)},this.onScrubEnd=function(){this.on("mouseenter",this.mouseEnter)},this.after("initialize",function(){this.on("click",this.muteButtonClicked),this.on("mouseenter",this.mouseEnter),this.on(document,"uiReportCurrentMute",this.setMute),this.on(document,"uiReportMute",this.muted),this.on(document,"uiReportUnmute uiAutoPlayPreviewEnd",this.unmuted),this.on(document,"uiScrubStart",this.onScrubStart),this.on(document,"uiScrubEnd",this.onScrubEnd)})}var t=e("flight/lib/component");return t(n)}),define("ui/controls/volume_slider",["require","flight/lib/component","utils/with_states"],function(e){function r(){this.attributes({volumeSliderTrackSelector:".volume-slider-track",volumeSliderTrackMovedSelector:".volume-slider-track-moved",volumeSliderThumbSelector:".volume-slider-thumb"}),this.sliderGrab=function(e){this.on(document,"mousemove",this.sliderMove),this.on(document,"mouseup",this.sliderRelease),this.sliderMove(e)},this.sliderMove=function(e){this.volume=1-this.getInverseVolumeFromEvent(e),this.setVolume(this.volume)},this.sliderRelease=function(){this.putVolumeInLocalStorage(this.volume),this.resetSlider()},this.setVolume=function(e){this.muted&&e>0?this.trigger("uiUnmute"):e===0&&(this.trigger("uiMute"),this.muted=!0),this.updateSliderPosition(e),this.trigger("uiVolumeSlide",{percentage:e})},this.putVolumeInLocalStorage=function(e){try{e>0&&(localStorage.webPlayerVolume=e)}catch(t){}},this.getVolumeFromLocalStorage=function(){var e;try{e=parseFloat(localStorage.webPlayerVolume)||1}catch(t){e=1}return e},this.updateSliderPosition=function(e){var t=1-e,n=t*100+"%",r=Math.max(t,.03)*100+"%",i=e*100+"%",s=this.select("volumeSliderTrackMovedSelector"),o=this.select("volumeSliderThumbSelector");s.height(i),s.css("top",n),o.css("top",r)},this.getInverseVolumeFromEvent=function(e){var t=e.pageY-this.getElementOffset();return Math.max(Math.min(t/this.getElementHeight(),1),0)||0},this.getElementOffset=function(){var e=this.select("volumeSliderTrackSelector");return this.hasNonsensicalFullscreenHeights()?Math.round(e.get(0).getBoundingClientRect().top*100):e.offset().top},this.getElementHeight=function(){var e=this.select("volumeSliderTrackSelector");return this.hasNonsensicalFullscreenHeights()?Math.round(e.get(0).getBoundingClientRect().height*100):e.height()},this.hasNonsensicalFullscreenHeights=function(){var e=this.select("volumeSliderTrackSelector");return window.self!==window.top&&e.get(0)&&e.get(0).offsetHeight<e.get(0).clientHeight},this.resetSlider=function(){this.off(document,"mousemove"),this.off(document,"mouseup")},this.show=function(){this.$node.addClass("volume-slider-background-mouseover")},this.hide=function(){this.$node.removeClass("volume-slider-background-mouseover"),this.resetSlider()},this.onStateUpdate=function(e,t){if(!t||!t.state)return;switch(t.state){case"PREVIEW_CONTENT_LAST_PLAYING":case"PREVIEW_CONTENT_PLAYING":case"PREVIEW_PREROLL_PLAYING":this.updateSliderPosition(0);break;case"CONTENT_PLAYING":case"PREROLL_PLAYING":this.setVolume(this.volume),this.on(document,"uiReportMute",this.onMute),this.on(document,"uiReportUnmute",this.onUnmute)}},this.onMute=function(){this.updateSliderPosition(0),this.trigger("uiVolumeSlide",{percentage:0}),this.muted=!0},this.onUnmute=function(){this.volume=this.getVolumeFromLocalStorage(),this.updateSliderPosition(this.volume),this.trigger("uiVolumeSlide",{percentage:this.volume}),this.muted=!1},this.after("initialize",function(){this.muted=!1,this.volume=this.getVolumeFromLocalStorage(),this.on("mousedown",this.sliderGrab),this.on(document,"uiMouseEnterSoundControls",this.show),this.on(document,"uiMouseLeaveSoundControls",this.hide),this.on(document,"uiMouseEnterMuteButton",this.show),this.on(document,"dataVideoStateUpdated",this.onStateUpdate),this.on(document,"uiReportVideoShown",this.resetSlider)})}var t=e("flight/lib/component"),n=e("utils/with_states");return t(r,n)}),define("ui/controls/sound_controls_container",["require","flight/lib/component","ui/controls/mute_button","ui/controls/volume_slider"],function(e){function i(){this.attributes({muteButtonSelector:".sound-button",volumeSliderSelector:".volume-slider"}),this.mouseEnter=function(){this.$node.addClass("volume-control-container-expanded"),this.trigger("uiMouseEnterSoundControls")},this.mouseLeave=function(){this.$node.removeClass("volume-control-container-expanded"),this.trigger("uiMouseLeaveSoundControls"),this.off("mouseenter",this.mouseEnter)},this.mouseEnterMuteButton=function(){this.on("mouseenter",this.mouseEnter)},this.after("initialize",function(){n.attachTo(this.select("muteButtonSelector")),r.attachTo(this.select("volumeSliderSelector")),this.on("mouseleave",this.mouseLeave),this.on(document,"uiMouseEnterMuteButton",this.mouseEnterMuteButton)})}var t=e("flight/lib/component"),n=e("ui/controls/mute_button"),r=e("ui/controls/volume_slider");return t(i)}),define("ui/controls/controls_boot",["require","flight/lib/component","utils/i18n","ui/controls/call_to_action","ui/controls/captions_button","ui/controls/full_screen_button","ui/controls/player_controls","ui/controls/play_pause_button","ui/controls/replay_button","ui/controls/scrubber","ui/controls/skip_button","ui/controls/with_timer","ui/controls/view_counts","ui/controls/sound_controls_container"],function(e){function d(){this.attributes({adLabelSelector:".track-label",callToActionSelector:".call-to-action-container",captionsButtonSelector:".captions-button",fullScreenButtonSelector:".full-screen-button",playPauseButtonSelector:".play-button",replayButtonSelector:".replay-button",scrubberSelector:".scrubber",skipButtonSelector:".skip-button",viewCountsDisplaySelector:".view-counts-display",tweetDetailsSelector:".video-details",twitterButtonSelector:".twitter-button",soundControlsContainerSelector:".volume-control-container",hideStatus:!1,isLiveVideo:!1,hideStopButton:!1,status:undefined,user:undefined,viewCounts:undefined}),this.after("initialize",function(){o.attachTo(this.$node,{hideStatus:this.attr.hideStatus,isLiveVideo:this.attr.isLiveVideo,status:this.attr.status,user:this.attr.user}),r.attachTo(this.select("callToActionSelector")),i.attachTo(this.select("captionsButtonSelector")),s.attachTo(this.select("fullScreenButtonSelector"));var e=this.select("playPauseButtonSelector");this.attr.hideStopButton?e.hide():(u.attachTo(e),a.attachTo(this.select("replayButtonSelector"))),f.attachTo(this.select("scrubberSelector")),l.attachTo(this.select("skipButtonSelector")),this.attr.isLiveVideo||h.attachTo(this.select("viewCountsDisplaySelector"),{viewCounts:this.attr.viewCounts}),p.attachTo(this.select("soundControlsContainerSelector")),this.select("adLabelSelector").text(n("Ad"))})}var t=e("flight/lib/component"),n=e("utils/i18n"),r=e("ui/controls/call_to_action"),i=e("ui/controls/captions_button"),s=e("ui/controls/full_screen_button"),o=e("ui/controls/player_controls"),u=e("ui/controls/play_pause_button"),a=e("ui/controls/replay_button"),f=e("ui/controls/scrubber"),l=e("ui/controls/skip_button"),c=e("ui/controls/with_timer"),h=e("ui/controls/view_counts"),p=e("ui/controls/sound_controls_container");return t(d,c)}),define("ui/playback/duration_badge",["require","flight/lib/component","utils/i18n","ui/with_formatters","utils/with_states"],function(e){function s(){this.attributes({durationSelector:".duration",equalizerSelector:".equalizer",hidden:!1,duration:undefined,viewCounts:undefined,sourceType:undefined}),this.setDurationText=function(e){this.select("durationSelector").html(e)},this.getDurationText=function(e){var t=parseFloat(e);return t>0&&isFinite(t)?this.formatMinutesSeconds(t):undefined},this.toSeconds=function(e){return parseFloat(e)/1e3},this.showDurationText=function(){this.select("durationSelector").show()},this.hideDurationText=function(){this.select("durationSelector").hide()},this.showEqualizer=function(){this.select("equalizerSelector").css("display","inline-block")},this.hideEqualizer=function(){this.select("equalizerSelector").hide()},this.onTimeUpdate=function(e,t){if(t.paused)return;var r=this.getDurationText(parseFloat(t.duration)-parseFloat(t.currentTime)),i;t.id==="content"?(this.isPreview()&&this.attr.sourceType!=="live"&&(!this.contentDuration||typeof this.contentDuration!="number"||typeof this.contentDuration!="string")&&(this.contentDuration=t.duration,this.trigger("uiDurationBadgeShown"),this.showDurationText(),this.showEqualizer(),this.$node.css("visibility","visible")),i=r):(this.isPreview()&&!this.adDuration&&(this.adDuration=t.duration,this.trigger("uiDurationBadgeShown"),this.showDurationText(),this.showEqualizer(),this.$node.css("visibility","visible")),i=n("Ad &middot %{timeRemaining}",{timeRemaining:r})),this.setDurationText(i)},this.onStateUpdate=function(e,t){if(!t||!t.state)return;switch(t.state){case"PREVIEW_CONTENT_LAST_PLAYING":case"PREVIEW_CONTENT_PLAYING":this.attr.sourceType==="live"||!this.contentDuration||typeof this.contentDuration!="number"&&typeof this.contentDuration!="string"?(this.hideDurationText(),this.hideEqualizer(),this.$node.css("visibility","hidden")):(this.showDurationText(),this.showEqualizer(),this.$node.css("visibility","visible"));break;case"READY_TO_PLAY":!this.contentDuration||typeof this.contentDuration!="number"&&typeof this.contentDuration!="string"?(this.hideDurationText(),this.hideEqualizer(),this.$node.css("visibility","hidden")):(this.showDurationText(),this.hideEqualizer(),this.$node.css("visibility","visible"));break;case"PREVIEW_PREROLL_PLAYING":case"CONTENT_PLAYING":case"PREROLL_PLAYING":case"READY_TO_REPLAY":case"ERROR":this.hideDurationText(),this.hideEqualizer(),this.$node.css("visibility","hidden")}},this.onControlsShown=function(){this.$node.hide()},this.onControlsHidden=function(){this.$node.show()},this.onVideoFinished=function(){this.setDurationText(this.getDurationText(this.contentDuration))},this.disable=function(){this.off(document,"uiTimeUpdate",this.onTimeUpdate),this.off(document,"dataVideoStateUpdated",this.onStateUpdate),this.off(document,"uiReportControlsShown",this.onControlsShown),this.off(document,"uiReportControlsHidden",this.onControlsHidden),this.off(document,"uiReportVideoFinished",this.onVideoFinished),this.off(document,"dataPausePreview",this.hideEqualizer),this.off(document,"dataContinue",this.showEqualizer)},this.enable=function(){this.on(document,"uiTimeUpdate",this.onTimeUpdate),this.on(document,"dataVideoStateUpdated",this.onStateUpdate),this.on(document,"uiReportControlsShown",this.onControlsShown),this.on(document,"uiReportControlsHidden",this.onControlsHidden),this.on(document,"uiReportVideoFinished",this.onVideoFinished),this.on(document,"dataPausePreview",this.hideEqualizer),this.on(document,"dataContinue",this.showEqualizer)},this.after("initialize",function(){this.contentDuration=this.toSeconds(this.attr.duration),this.contentViewCounts=this.attr.viewCounts,!this.contentDuration||typeof this.contentDuration!="number"&&typeof this.contentDuration!="string"?this.$node.css("visibility","hidden"):(this.setDurationText(this.getDurationText(this.contentDuration)),this.showDurationText(),this.hideEqualizer(),this.$node.css("visibility","visible")),this.$node.css("display","block"),(!this.contentViewCounts||typeof this.contentViewCounts!="number"&&typeof this.contentViewCounts!="string")&&this.$node.addClass("duration-badge-without-view-counts"),this.on(document,"uiTimeUpdate",this.onTimeUpdate),this.on(document,"dataVideoStateUpdated",this.onStateUpdate),this.on(document,"uiReportControlsShown",this.onControlsShown),this.on(document,"uiReportControlsHidden",this.onControlsHidden),this.on(document,"uiReportVideoFinished",this.onVideoFinished),this.on(document,"dataPausePreview",this.hideEqualizer),this.on(document,"dataContinue",this.showEqualizer),this.on(document,"uiReportEmbeddedTweetHidden",this.enable),this.on(document,"uiReportEmbeddedTweetShown",this.disable)})}var t=e("flight/lib/component"),n=e("utils/i18n"),r=e("ui/with_formatters"),i=e("utils/with_states");return t(s,r,i)}),define("ui/playback/view_counts_badge",["require","flight/lib/component","utils/i18n","utils/with_states"],function(e){function i(){this.attributes({viewCountsSelector:".view-counts",viewCounts:undefined,duration:undefined}),this.setViewCountsText=function(e){var t=n("%{viewNum} views",{viewNum:e});this.select("viewCountsSelector").html(t)},this.showViewCountsText=function(){this.select("viewCountsSelector").show()},this.hideViewCountsText=function(){this.select("viewCountsSelector").hide()},this.moveBadgeToLeft=function(){this.$node.removeClass("view-counts-badge-playing")},this.moveBadgeToRight=function(){this.$node.addClass("view-counts-badge-playing")},this.onControlsShown=function(){this.$node.hide()},this.onControlsHidden=function(){this.$node.show()},this.onDurationAvailable=function(){this.$node.removeClass("view-counts-badge-without-duration")},this.onStateUpdate=function(e,t){if(!t||!t.state)return;switch(t.state){case"PREVIEW_CONTENT_LAST_PLAYING":case"PREVIEW_CONTENT_PLAYING":!this.contentViewCounts||typeof this.contentViewCounts!="number"&&typeof this.contentViewCounts!="string"?(this.hideViewCountsText(),this.moveBadgeToRight(),this.$node.css("visibility","hidden")):(this.showViewCountsText(),this.moveBadgeToRight(),this.$node.css("visibility","visible"));break;case"READY_TO_PLAY":!this.contentViewCounts||typeof this.contentViewCounts!="number"&&typeof this.contentViewCounts!="string"?(this.hideViewCountsText(),this.moveBadgeToLeft(),this.$node.css("visibility","hidden")):(this.showViewCountsText(),this.moveBadgeToLeft(),this.$node.css("visibility","visible"));break;case"PREVIEW_PREROLL_PLAYING":case"PREROLL_PLAYING":case"CONTENT_PLAYING":case"READY_TO_REPLAY":case"ERROR":this.hideViewCountsText(),this.moveBadgeToLeft(),this.$node.css("visibility","hidden")}},this.disable=function(){this.off(document,"dataVideoStateUpdated",this.onStateUpdate),this.off(document,"uiReportControlsShown",this.onControlsShown),this.off(document,"uiReportControlsHidden",this.onControlsHidden),this.off(document,"dataPausePreview",this.moveBadgeToLeft),this.off(document,"dataContinue",this.moveBadgeToRight),this.off(document,"uiDurationBadgeShown",this.onDurationAvailable)},this.enable=function(){this.on(document,"dataVideoStateUpdated",this.onStateUpdate),this.on(document,"uiReportControlsShown",this.onControlsShown),this.on(document,"uiReportControlsHidden",this.onControlsHidden),this.on(document,"dataPausePreview",this.moveBadgeToLeft),this.on(document,"dataContinue",this.moveBadgeToRight),this.on(document,"uiDurationBadgeShown",this.onDurationAvailable)},this.after("initialize",function(){this.contentViewCounts=this.attr.viewCounts,this.contentDuration=this.attr.duration,!this.contentViewCounts||typeof this.contentViewCounts!="number"&&typeof this.contentViewCounts!="string"?this.$node.css("visibility","hidden"):(this.setViewCountsText(this.contentViewCounts),this.showViewCountsText(),this.$node.css("visibility","visible")),this.$node.css("display","block"),(!this.contentDuration||typeof this.contentDuration!="number"&&typeof this.contentDuration!="string")&&this.$node.addClass("view-counts-badge-without-duration"),this.on(document,"dataVideoStateUpdated",this.onStateUpdate),this.on(document,"uiReportControlsShown",this.onControlsShown),this.on(document,"uiReportControlsHidden",this.onControlsHidden),this.on(document,"dataPausePreview",this.moveBadgeToLeft),this.on(document,"dataContinue",this.moveBadgeToRight),this.on(document,"uiDurationBadgeShown",this.onDurationAvailable),this.on(document,"uiReportEmbeddedTweetHidden",this.enable),this.on(document,"uiReportEmbeddedTweetShown",this.disable)})}var t=e("flight/lib/component"),n=e("utils/i18n"),r=e("utils/with_states");return t(i,r)}),define("ui/playback/error_message",["require","utils/i18n","utils/utils","flight/lib/component"],function(e){function i(){this.attributes({msgSelector:".error-msg",retryButtonSelector:".retry-button",hasRetryButtonClass:"has-retry-button",showRetryButton:!1,hasTriedCookieOverrideName:"htc",cookieLinkSelector:".allow-cookies-button",showCookieOverrideEn:!1,showCookieOverrideAll:!1}),this.geoblockError=function(){var e=t("Unfortunately, license restrictions prevent video viewing in your location.");this.error(e)},this.playbackError=function(){this.showRetryButton();var e=t("The media could not be played.");this.error(e)},this.environmentError=function(){var e=t("Playback is not supported on this device.");this.error(e)},this.cookieOverrideLinkClicked=function(){document.cookie=this.attr.hasTriedCookieOverrideName+"=true",setTimeout(function(){location.reload()},2e3)},this.hasTriedCookieOverride=function(){return n.getCookieValue(this.attr.hasTriedCookieOverrideName)},this.noCookiesError=function(){var e=n.getLanguageCode().split("-")[0],r=this.attr.showCookieOverrideAll||this.attr.showCookieOverrideEn&&e==="en";n.isEnvironmentSafari()&&!this.hasTriedCookieOverride()&&r?(this.error(t('To play the video we need to use cookies from another Twitter domain (twimg.com). Please click to allow us to briefly open a new window and set the cookie necessary to view the content. <a href="https://t.co/livevideobrowsers" target="_blank">Learn more.</a>')),this.allowCookiesButton.css("display","block")):this.error(t('We cannot play the video in this browser.  Please try a different web browser or <a href="https://t.co/livevideobrowsers" target="_blank">update your cookie settings.</a>'))},this.error=function(e){this.select("msgSelector").html(e),this.$node.css("display","table")},this.onRetryButtonClick=function(){this.select("retryButtonSelector").addClass(this.attr.retryAnimationClassname),this.reloadPage()},this.reloadPage=function(){location.reload(!0)},this.hideRetryButton=function(){this.$node.removeClass(this.attr.hasRetryButtonClass)},this.showRetryButton=function(){this.attr.showRetryButton&&this.$node.addClass(this.attr.hasRetryButtonClass)},this.after("initialize",function(){this.hideRetryButton(),this.on("click",{retryButtonSelector:this.onRetryButtonClick}),this.allowCookiesButton=this.select("cookieLinkSelector"),this.allowCookiesButton.on("click",this.cookieOverrideLinkClicked.bind(this)),this.allowCookiesButton.text(t("Allow")),this.on(document,"dataGeoblockError",this.geoblockError),this.on(document,"dataPlaybackError",this.playbackError),this.on(document,"dataEnvironmentError",this.environmentError),this.on(document,"dataNoCookiesError",this.noCookiesError)})}var t=e("utils/i18n"),n=e("utils/utils"),r=e("flight/lib/component");return r(i)}),define("ui/with_poster_image_loader",[],function(){return function(){this.attributes({imageContainerSelector:".poster-image",posterImageUrl:"https://pbs.twimg.com/cards/player-placeholder.png"}),this.loadPosterImage=function(){this.select("imageContainerSelector").css({backgroundImage:'url("'+this.attr.posterImageUrl+'")'})},this.after("initialize",function(){this.loadPosterImage()})}}),define("ui/playback/poster_image",["require","flight/lib/component","ui/with_poster_image_loader","utils/with_states"],function(e){function i(){this.attributes({badge:".poster-badge",embeddedInfo:".embedded-info",playIcon:".poster-play-icon",posterImage:".poster-image",publisherLink:".embedded-publisher-link",twitterButton:".twitter-button",hideStatus:!1,sourceType:undefined,disableEmbed:!1,tweetId:undefined}),this.posterClicked=function(){this.trigger("uiPlay")},this.hide=function(){this.$node.css("display","none"),this.trigger("uiHidePoster")},this.show=function(){this.$node.css("display","block")},this.disableAndHide=function(){this.off("click"),this.hide()},this.onClickTwitterButton=function(e){e.stopPropagation(),this.attr.hideStatus||(e.preventDefault(),this.trigger("uiShowEmbeddedTweet"))},this.hideOverlayElements=function(){this.select("embeddedInfo").hide(),this.select("playIcon").hide()},this.showOverlayElements=function(){this.select("embeddedInfo").css("display","block"),this.select("playIcon").css("display","block")},this.onPreviewPause=function(){this.isPreview()&&(this.select("posterImage").hide(),this.show())},this.showPosterImage=function(){this.select("posterImage").show(),this.show()},this.redirectToPermalink=function(){var e="https://twitter.com/twitter/statuses/"+this.attr.tweetId;window.open(e)},this.after("initialize",function(){this.loadPosterImage();if(this.attr.disableEmbed&&this.attr.tweetId){this.showPosterImage(),this.on("click",this.redirectToPermalink);return}this.on("click",this.posterClicked),this.on(document,"dataPlaybackError",this.disableAndHide),this.on(document,"dataPausePreview",this.onPreviewPause),this.on(document,"dataShowVideo",this.showPosterImage),this.on(this.select("publisherLink"),"click",function(e){e.stopPropagation()}),this.on(this.select("twitterButton"),"click",this.onClickTwitterButton),this.on(document,"uiReportEmbeddedTweetShown",this.hideOverlayElements),this.on(document,"uiReportEmbeddedTweetHidden",this.showOverlayElements);var e=this.attr.sourceType==="vine"?"uiReportStartPlay":"dataPlayVideo dataPreviewVideo dataContinue dataStepForward dataStepBackward";this.on(document,e,this.hide),this.show()})}var t=e("flight/lib/component"),n=e("ui/with_poster_image_loader"),r=e("utils/with_states");return t(i,n,r)}),define("ui/playback/with_snap_reel",[],function(){return function(){this.attributes({easingAcceleration:.5,FPS:20,snapReelHintSelector:".snap-reel-hint"}),this.mouseEnter=function(){this.scribeTimeout=setTimeout(function(){this.interactionLogged||(this.trigger("uiSnapReelInteraction"),this.interactionLogged=!0)}.bind(this),3e3),this.start()},this.mouseLeave=function(){clearTimeout(this.scribeTimeout),this.trigger("uiPlay"),this.stop(),this.scribeTimeout=undefined,this.targetPosition=undefined},this.mouseMove=function(e){this.targetPosition=e.pageX},this.start=function(){this.running=!0,this.trigger("uiPause"),this.tick()},this.stop=function(){this.running=!1},this.tick=function(){if(this.running){var e=1e3/this.attr.FPS;setTimeout(function(){this.tick(),this.update()}.bind(this),e)}},this.update=function(){if(this.targetPosition){if(Math.abs(this.targetPosition-this.currentPosition)<1)return;this.currentPosition+=(this.targetPosition-this.currentPosition)*this.attr.easingAcceleration;var e=this.currentPosition/this.$node.width();this.trigger("dataScrub",{percentage:e})}},this.after("initialize",function(){this.eventScribed={},this.currentPosition=0,this.$node.closest("[data-source-type=snap-reel]").length>0&&(this.on(document,"mouseenter",this.mouseEnter),this.on(document,"mouseleave",this.mouseLeave),this.on(document,"mousemove",this.mouseMove))})}}),define("ui/playback/with_player_state_introspection",[],function(){return function(){this.attributes({checkHasStalledIntervalInMilliseconds:100}),this.currentVideoTime=function(){return this.videoElement.currentTime},this.isPaused=function(){return this.videoElement.paused},this.startIntrospection=function(){this.stopIntrospection(),this.lastObservedTime=this.currentVideoTime(),this.wasStalled=!1,this.checkHasStalledInterval=setInterval(this.checkHasStalled.bind(this),this.attr.checkHasStalledIntervalInMilliseconds)},this.stopIntrospection=function(){this.checkHasStalledInterval&&clearInterval(this.checkHasStalledInterval)},this.setPlayerStateBuffering=function(){this.showLoadingIndicator(),this.trigger("uiPlayerStateIntrospectionBuffering")},this.setPlayerStatePlaying=function(){this.hideLoadingIndicator(),this.trigger("uiPlayerStateIntrospectionPlaying")},this.checkHasStalled=function(){var e=this.currentVideoTime()<=this.lastObservedTime;if(!this.hasReportedInitialState||e!==this.wasStalled)e?this.setPlayerStateBuffering():this.setPlayerStatePlaying();this.hasReportedInitialState=!0,this.wasStalled=e,this.lastObservedTime=this.currentVideoTime()},this.after("videoEnded",this.stopIntrospection),this.after("pause",this.stopIntrospection),this.after("scrubStart",this.stopIntrospection),this.after("scrubEnd",function(){this.isPaused()||this.startIntrospection()}),this.after("play",function(){this.hasReportedInitialState=!1,this.startIntrospection()}),this.before("adSkip",this.stopIntrospection),this.before("teardown",this.stopIntrospection),this.after("initialize",function(){this.on(document,"dataPlaybackError",function(){this.stopIntrospection(),this.hideLoadingIndicator()})})}}),define("ui/playback/video_display",["require","flight/lib/component","hlsjs","ui/playback/with_snap_reel","ui/playback/with_player_state_introspection","utils/utils"],function(e){function o(){this.attributes({posterImageUrl:undefined,source:undefined,videos:undefined,duration:0,type:"video/mp4",first:"content",isSinglePlayer:!1,minimumPlaybackLapseMs:1e4,videoSelector:"video",sourceType:undefined,videoLoadingTimeout:3e4,loopingEnabled:!1}),this.mute=function(){this.videoElement.muted||(this.videoElement.muted=!0,this.muted=!0,this.reportEvent("uiReportMute"))},this.unmute=function(){this.videoElement.muted&&(this.videoElement.muted=!1,this.muted=!1,this.reportEvent("uiReportUnmute"))},this.reportInitialMuteState=function(){var e=this.videoElement.muted?"dataMute":"dataUnmute";this.trigger(e,{id:this.getId()})},this.pause=function(){this.playPromise?this.playPromise.then(this.internalPause.bind(this)):this.internalPause()},this.internalPause=function(){this.videoElement.paused||(this.videoElement.pause(),$(this.videoElement).removeClass("playing").addClass("paused"),this.reportEvent("uiReportPause"))},this.continue=function(){this.play()},this.scrubToEnd=function(){if(!this.videoElement.paused){var e=this.videoElement.duration;isFinite(e)&&this.scrub(undefined,{percentage:1})}},this.stepForward=function(){this.videoElement.pause(),this.stepRelative(.5)},this.stepBackward=function(){this.videoElement.pause(),this.stepRelative(-0.5)},this.scrub=function(e,t){var n=this.videoElement.duration*t.percentage;n=Math.min(n,this.videoElement.duration-.5),this.videoElement.currentTime=n},this.scrubEnd=function(){this.videoElement.currentTime<this.positionWhenScrubbingBegan&&this.reportEvent("uiRewind"),this.wasPlayingBeforeScrubStart&&this.videoElement.play(),$(this.videoElement).on("timeupdate",this.timeUpdate.bind(this))},this.scrubStart=function(){this.wasPlayingBeforeScrubStart=!this.videoElement.paused,this.positionWhenScrubbingBegan=this.videoElement.currentTime,this.videoElement.pause(),$(this.videoElement).off("timeupdate",this.timeUpdate.bind(this))},this.showEmbeddedTweet=function(){this.videoElement.paused?this.playingBeforeEmbeddedTweet=!1:(this.videoElement.pause(),$(this.videoElement).removeClass("playing").addClass("paused"),this.playingBeforeEmbeddedTweet=!0)},this.hideEmbeddedTweet=function(){this.playingBeforeEmbeddedTweet&&this.play()},this.volumeSlide=function(e,t){this.videoElement.volume=t.percentage},this.adSkip=function(){this.isActive()&&(this.trigger("dataNotifyAdSkip",{id:this.getId(),currentTime:this.videoElement.currentTime,duration:this.videoElement.duration,trackType:this.getId(),paused:this.videoElement.paused,muted:this.videoElement.muted}),this.trigger("dataAdSkip"))},this.triggerPlaybackErrorWithMessage=function(e){var t={id:this.getId(),error:e};this.reportFatalError(t)},this.triggerPlaybackError=function(e,t){var r={id:this.getId()};this.videoElement&&this.videoElement.error?r.error=this.videoElement.error.code:r.errorData=t,t&&typeof t.fatal!="undefined"&&!t.fatal?(t.type!==n.ErrorTypes.OTHER_ERROR||t.details!==n.ErrorDetails.INTERNAL_EXCEPTION)&&this.trigger("uiReportNonFatalError",r):this.reportFatalError(r)},this.reportFatalError=function(e){this.pause(),this.hls&&this.hls.destroy(),this.trigger("uiReportError",e)},this.videoEnded=function(){this.videoElement.pause(),$(this.videoElement).removeClass("playing").addClass("paused"),this.attr.loopingEnabled&&this.on(document,"dataVideoStateUpdated",this.onStateUpdate),this.trigger("uiReportVideoFinished",{id:this.getId()})},this.onStateUpdate=function(e,t){var n=this.getId(),r=this.attr.videos[n],i=r.contentType&&r.contentType.indexOf("video/mp4")===0||typeof r.contentType===undefined||r.contentType==null,s=this.attr.sourceType==="consumer",o=this.attr.sourceType==="amplify",u=this.videoElement.duration<=6.5&&(s||o&&i),a=t&&t.state&&(t.state==="READY_TO_REPLAY"||t.state==="READY_TO_PLAY");this.off(document,"dataVideoStateUpdated"),u&&a&&(this.trigger("dataDidLoop"),this.wasPreview?this.trigger("dataVideoStateUpdated",{state:"PLAY_PREVIEW_CONTENT_LAST"}):this.trigger("dataPlay"))},this.timeUpdate=function(){var e=this.videoElement.currentTime,t=this.videoElement.duration,n;this.playPromise=undefined;if(typeof this.dateTimeAnchor=="undefined"&&typeof this.videoElement.getStartDate!="undefined"){var r=this.videoElement.getStartDate();r&&(this.dateTimeAnchor={streamTime:0,absoluteTime:r.getTime()/1e3})}typeof this.dateTimeAnchor!="undefined"&&(n=e-this.dateTimeAnchor.streamTime+this.dateTimeAnchor.absoluteTime);if(!t||t<0||t<e)return;this.trigger("uiTimeUpdate",{id:this.getId(),currentTime:e,absoluteTime:n,duration:t,trackType:this.getId(),paused:this.videoElement.paused,muted:this.videoElement.muted}),this.hasReportedPlay||(this.hasReportedPlay=!0,this.trigger("uiReportPlay",{id:this.getId(),isMuted:this.videoElement.muted})),this.attr.sourceType==="live"&&!this.captionsButtonEnabled&&this.hasCaptions()&&(this.captionsButtonEnabled=!0,this.trigger("dataEnableCaptionsButton"))},this.liveAdDomainRegex=/t.lv.twimg.com$|ton.twitter.com$/,this.xhrSetup=function(e,t,r){var i=s.getUrlMetadata(t),o=i&&i.hostname&&this.liveAdDomainRegex.test(i.hostname),u=r===n.ResourceTypes.KEY;if(o||u)e.withCredentials=!0;this.attr.sourceType==="live"&&(e.onreadystatechange=this.maybeTriggerGeoBlockError.bind(this,e))},this.maybeTriggerGeoBlockError=function(e){if(e.readyState===XMLHttpRequest.HEADERS_RECEIVED&&e.status===403){var t={error:"geoBlock"};this.reportFatalError(t)}},this.loadVideo=function(){var e=this.select("videoSelector");e.on("error",this.triggerPlaybackError.bind(this)),this.id=e.data("id");var t=this.getId();typeof t=="undefined"&&(t=this.attr.first);var r=this.attr.videos[t];this.videoElement=e.get(0),e.attr("data-type",r.type),this.captionsButtonEnabled=!1;if(n.isSupported()&&r.contentType&&r.contentType.indexOf("application/x-mpegURL")===0&&!s.isEnvironmentSafari()){var i=new n({autoStartLoad:!1,xhrSetup:this.xhrSetup.bind(this),manifestLoadingTimeOut:2e4,manifestLoadingMaxRetry:4,levelLoadingTimeOut:2e4,levelLoadingMaxRetry:4,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:500,capLevelToPlayerSize:!0});i.startLevel=-1,i.attachMedia(this.videoElement),i.on(n.Events.MEDIA_ATTACHED,function(){i.loadSource(r.source)}),i.on(n.Events.MANIFEST_PARSED,this.onManifestParsed.bind(this)),this.manifestParsed=!1,i.on(n.Events.ERROR,this.triggerPlaybackError.bind(this)),i.on(n.Events.LEVEL_SWITCH,this.onLevelSwitch.bind(this)),i.on(n.Events.FRAG_LOADING,this.onFragmentLoading.bind(this)),i.on(n.Events.FRAG_PARSING_INIT_SEGMENT,this.onParsedInitSegment.bind(this)),this.hls=i}else e.attr({src:r.source,type:r.contentType||this.attr.contentType});this.currentSource=r.source,e.css({width:"100%",height:"100%"}),this.$node.css("display","none")},this.onManifestParsed=function(){this.manifestParsed=!0},this.onLevelSwitch=function(e,t){var n=this.hls.levels[t.level].bitrate;n!==undefined&&this.trigger("uiReportBitrateSwitch",{bitrate:n})},this.onFragmentLoading=function(e,t){typeof t!="undefined"&&typeof t.frag!="undefined"&&t.frag.programDateTime&&(this.dateTimeAnchor={streamTime:t.frag.start,absoluteTime:t.frag.programDateTime.getTime()/1e3})},this.onParsedInitSegment=function(){if(this.hls&&this.hls.levels&&this.hls.levels[0]&&this.hls.levels[0].details&&this.hls.levels[0].details.fragments&&this.hls.levels[0].details.fragments[0]&&this.hls.levels[0].details.fragments[0].programDateTime){var e=this.hls.levels[0].details.fragments[0];this.dateTimeAnchor={streamTime:e.start,absoluteTime:e.programDateTime.getTime()/1e3}}},this.showLoadingIndicator=function(){clearTimeout(this.playbackErrorTimeout);if(this.attr.videoLoadingTimeout>0){var e="bufferingTimeout";this.playbackErrorTimeout=setTimeout(this.triggerPlaybackErrorWithMessage.bind(this,e),this.attr.videoLoadingTimeout)}this.$node.parent().addClass("buffering")},this.hideLoadingIndicator=function(){clearTimeout(this.playbackErrorTimeout),this.$node.parent().removeClass("buffering")},this.showVideo=function(e,t){this.updateCurrent(t),this.isActive()?this.show():this.hide()},this.playVideo=function(e,t){this.wasPreview=!1,this.updateCurrent(t),this.isActive()?(this.syncMute(),this.show(),this.play()):this.hide()},this.previewVideo=function(e,t){this.wasPreview=!0,this.updateCurrent(t),this.muteForPreview(),this.isActive()?(this.show(),this.play()):this.hide()},this.muteForPreview=function(){if(!this.videoElement.muted||this.videoElement.volume!==0)this.videoElement.muted=!0,this.isActive()&&this.reportEvent("uiReportMute")},this.reportEvent=function(e){this.isActive()&&this.trigger(e,{id:this.getId()})},this.isActive=function(){return this.attr.isSinglePlayer?!0:this.id===this.currentId},this.syncMute=function(){this.videoElement.muted!==this.muted&&(this.videoElement.muted=this.muted,this.trigger("uiReportCurrentMute",{muted:this.muted}))},this.updateSource=function(){if(this.currentSource===this.attr.videos[this.getId()].source)return;this.hls&&(this.hls.destroy(),this.hls=undefined),this.loadVideo(),this.$node.css("display","block")},this.show=function(){if(this.shown){this.attr.isSinglePlayer&&this.updateSource();return}this.attr.isSinglePlayer&&this.mobileShow();var e=$(this.videoElement);e.on("ended",this.videoEnded.bind(this)),e.on("timeupdate",this.timeUpdate.bind(this)),e.on("seeking",this.showLoadingIndicator.bind(this)),e.on("seeked",this.hideLoadingIndicator.bind(this)),e.on("waiting",this.showLoadingIndicator.bind(this)),e.on("playing",this.hideLoadingIndicator.bind(this)),this.$node.css("display","block"),e.addClass("visible"),this.subscribeToUiEvents(),this.trigger("uiReportVideoShown",{id:this.getId(),trackType:this.getId(),currentTime:this.videoElement.currentTime,duration:this.attr.duration}),this.shown=!0},this.play=function(){if(this.hls&&!this.manifestParsed){this.hls.on(n.Events.MANIFEST_PARSED,this.play.bind(this));return}this.hasReportedPlay=!1,this.hls&&this.hls.startLoad(-1),this.playPromise=this.videoElement.play(),$(this.videoElement).addClass("playing").removeClass("paused"),this.trigger("uiReportStartPlay",{id:this.getId()})},this.hasCaptions=function(){if(this.videoElement.textTracks&&this.videoElement.textTracks.length>0){var e=this.videoElement.textTracks[0];return e.mode==="disabled"&&(e.mode="hidden"),e.cues&&e.cues.length>0}return!1},this.enableCaptions=function(){this.hasCaptions()&&(this.videoElement.textTracks[0].mode="showing")},this.disableCaptions=function(){this.hasCaptions()&&(this.videoElement.textTracks[0].mode="hidden")},this.mobilePlay=function(){this.trigger("uiPlay")},this.mobileShow=function(){this.updateSource(),$(this.videoElement).one("play",this.mobilePlay.bind(this))},this.getId=function(){return this.attr.isSinglePlayer?this.currentId:this.id},this.hide=function(){this.videoElement.pause(),$(this.videoElement).removeClass("playing").addClass("paused"),$(this.videoElement).off("ended"),$(this.videoElement).off("timeupdate"),$(this.videoElement).off("play"),$(this.videoElement).off("seeking"),$(this.videoElement).off("seeked"),$(this.videoElement).off("waiting"),$(this.videoElement).off("playing"),this.$node.css("display","none"),$(this.videoElement).removeClass("visible"),this.unsubscribeToUiEvents(),this.shown=!1},this.stepRelative=function(e){var t=this.videoElement.currentTime,n=this.videoElement.duration,r=t+e;r=Math.max(0,r),r=Math.min(r,n),this.videoElement.currentTime=r},this.updateCurrent=function(e){if(!e||!e.id||e.id===this.currentId)return;this.currentId=e.id==="first"?this.attr.first:e.id,this.id===this.currentId&&this.trigger("uiReportCurrentVideo",{id:this.currentId})},this.subscribeToUiEvents=function(){this.on(document,"dataContinue",this.continue),this.on(document,"dataScrubToEnd",this.scrubToEnd),this.on(document,"dataStepForward",this.stepForward),this.on(document,"dataStepBackward",this.stepBackward),this.on(document,"dataScrub",this.scrub),this.on(document,"dataScrubStart",this.scrubStart),this.on(document,"dataScrubEnd",this.scrubEnd),this.on(document,"uiReportEmbeddedTweetShown",this.showEmbeddedTweet),this.on(document,"uiReportEmbeddedTweetHidden",this.hideEmbeddedTweet),this.on(document,"dataVolumeSlide",this.volumeSlide)},this.unsubscribeToUiEvents=function(){this.off(document,"dataContinue",this.continue),this.off(document,"dataScrubToEnd",this.scrubToEnd),this.off(document,"dataStepForward",this.stepForward),this.off(document,"dataStepBackward",this.stepBackward),this.off(document,"dataScrub",this.scrub),this.off(document,"dataScrubStart",this.scrubStart),this.off(document,"dataScrubEnd",this.scrubEnd),this.off(document,"uiReportEmbeddedTweetShown",this.showEmbeddedTweet),this.off(document,"uiReportEmbeddedTweetHidden",this.hideEmbeddedTweet),this.off(document,"dataVolumeSlide",this.volumeSlide)},this.after("initialize",function(){this.muted=!1,this.shown=!1,this.wasPreview=!1,this.on(document,"dataDisplayPausedVideo dataShowVideo",this.showVideo),this.on(document,"dataPlayVideo",this.playVideo),this.on(document,"dataPreviewVideo",this.previewVideo),this.on(document,"dataMute",this.mute),this.on(document,"dataUnmute",this.unmute),this.on(document,"dataEnableCaptions",this.enableCaptions),this.on(document,"dataDisableCaptions",this.disableCaptions),this.on(document,"dataPause dataPausePreview dataPauseFromPreview",this.pause),this.on(document,"uiReportAdSkip",this.adSkip),this.loadVideo(),this.reportInitialMuteState()})}var t=e("flight/lib/component"),n=e("hlsjs"),r=e("ui/playback/with_snap_reel"),i=e("ui/playback/with_player_state_introspection"),s=e("utils/utils");return t(o,r,i)}),define("ui/playback/video_display_controller",["require","flight/lib/component","utils/utils","ui/playback/video_display"],function(e){function i(){this.attributes({defaultContentType:"video/mp4",posterImageUrl:undefined,videoLoadingTimeout:undefined,sourceType:undefined,loopingEnabled:!1}),this.playlistLoaded=function(e,t){if(!t||!t.tracks||!t.tracks.ad&&!t.tracks.content)return;this.hasAd=!!t.tracks.ad;var i=$("<video data-id='content'></video>"),s={posterImageUrl:this.attr.posterImageUrl,videos:t.tracks,first:this.hasAd?"ad":"content",videoLoadingTimeout:this.attr.videoLoadingTimeout,sourceType:this.attr.sourceType,loopingEnabled:this.attr.loopingEnabled},o=$("<div class='video-display'></div>");o.append(i);if(n.isEnvironmentSupportedMobile())s.isSinglePlayer=!0,i.attr({controls:"true","data-setup":'{"nativeControlsForTouch": true}',poster:this.attr.posterImageUrl}),this.$node.append(o);else{this.$node.append(o);if(this.hasAd){var u=$("<video preload='auto' data-id='ad'></video>"),a=$("<div class='video-display'></div>");a.append(u),this.$node.append(a)}s.isSinglePlayer=!1}r.attachTo(".video-display",s),this.trigger("uiReportPlaylistLoaded",{tracks:t.tracks}),this.on(document,"uiReportStartPlay",function(){this.$node.addClass("first-play-reported")})},this.after("initialize",function(){this.on(document,"dataPlaylistLoaded",this.playlistLoaded)})}var t=e("flight/lib/component"),n=e("utils/utils"),r=e("ui/playback/video_display");return t(i)}),define("ui/playback/web_intent",["require","flight/lib/component"],function(e){function n(){this.getWindow=function(){return window},this.handleWebIntent=function(e,t){var n=this.getWindow(),r=Math.min(550,n.screen.width),i=Math.min(520,n.screen.height),s=["width="+r,"height="+i,"left="+Math.round((n.screen.width-r)/2),"top="+Math.round((n.screen.height-i)/2),"personalbar=0","toolbar=0","location=1","scrollbars=1","resizable=1"].join(","),o=n.open(t.url,"twitter_video_intent",s);o.focus()},this.after("initialize",function(){this.on(document,"uiWebIntent",this.handleWebIntent)})}var t=e("flight/lib/component");return t(n)}),define("ui/playback/with_is_paused",[],function(){return function(){this.onPause=function(){this.isPaused=!0},this.onContinue=function(){this.isPaused=!1},this.after("initialize",function(){this.isPaused=!1,this.on(document,"dataPause dataPausePreview dataPauseFromPreview uiReportVideoFinished",this.onPause),this.on(document,"dataDidPlay dataPlay dataPlayFromPreview dataContinue",this.onContinue)})}}),define("ui/playback/player_container",["require","flight/lib/component","utils/video_type_utils","ui/playback/with_is_paused","utils/with_states"],function(e){function s(){this.attributes({backgroundPlayPauseSelector:".bg-play-pause",gifBgPlayPauseSelector:".gif-play-pause",gifBadgeSelector:".gif-badge",sourceType:undefined,minimumSkipDurationSeconds:7}),this.enterFullScreen=function(){var e=this.$node.get(0);e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},this.exitFullScreen=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},this.fullScreenEnabled=function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled},this.reportFullScreenChange=function(){var e=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;e?(this.$node.addClass("full-screen"),this.trigger("uiReportEnterFullScreen")):(this.$node.removeClass("full-screen"),this.trigger("uiReportExitFullScreen"))},this.handleSpaceBar=function(e){e.which===32&&(e.stopPropagation(),e.preventDefault(),this.togglePlayPause())},this.onBackgroundPlayPauseClick=function(e){$(e.target).is(this.attr.backgroundPlayPauseSelector)&&this.mouseDownInPlayPauseSelector&&this.togglePlayPause()},this.togglePlayPause=function(){this.isPreview()&&this.attr.sourceType!=="gif"&&this.attr.sourceType!=="snap-reel"||this.isPaused?this.trigger("uiPlay"):this.trigger("uiPause")},this.mouseDown=function(e){this.mouseDownInPlayPauseSelector=$(e.target).is(this.attr.backgroundPlayPauseSelector)},this.mouseOut=function(){this.trigger("uiMouseOutPlayer")},this.onPlayVideo=function(){this.$node.addClass("video-played")},this.onTimeUpdate=function(e,t){t.id===n.adType&&t.duration>this.attr.minimumSkipDurationSeconds?this.$node.addClass("skippable"):this.$node.removeClass("skippable")},this.onControlsShown=function(){this.$node.addClass("showing-controls")},this.onControlsHidden=function(){this.$node.removeClass("showing-controls")},this.onStateUpdate=function(){this.isAdPlaying()?this.$node.addClass("track-type-ad"):this.$node.removeClass("track-type-ad"),this.isPreview()||this.isPlaying()?this.$node.addClass("video-playing"):this.$node.removeClass("video-playing")},this.after("initialize",function(){(this.attr.sourceType==="gif"||this.attr.sourceType==="snap-reel")&&this.select("gifBgPlayPauseSelector").css("display","block"),this.on("mousedown",this.mouseDown),this.on("mouseout",this.mouseOut),this.on("click",this.onBackgroundPlayPauseClick),this.on(document,"keydown",this.handleSpaceBar),this.attr.sourceType==="live"&&this.$node.addClass("live-video-player"),this.fullScreenEnabled()&&this.$node.addClass("full-screen-enabled"),this.on(document,"dataPlayVideo",this.onPlayVideo),this.on(document,"dataEnterFullScreen",this.enterFullScreen),this.on(document,"dataExitFullScreen",this.exitFullScreen),this.on(document,"webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",this.reportFullScreenChange),this.on(document,"uiTimeUpdate",this.onTimeUpdate),this.on(document,"uiReportControlsShown",this.onControlsShown),this.on(document,"uiReportControlsHidden",this.onControlsHidden),this.on(document,"dataVideoStateUpdated",this.onStateUpdate)})}var t=e("flight/lib/component"),n=e("utils/video_type_utils"),r=e("ui/playback/with_is_paused"),i=e("utils/with_states");return t(i,s,r)}),define("ui/playback/skip_badge",["require","flight/lib/component","ui/controls/skip_button"],function(e){function r(){this.attributes({skipButtonSelector:".skip-button"}),this.onMouseover=function(){this.trigger("uiHoverSkipBadge")},this.after("initialize",function(){n.attachTo(this.select("skipButtonSelector")),this.on("mouseover",this.onMouseover)})}var t=e("flight/lib/component"),n=e("ui/controls/skip_button");return t(r)}),define("ui/playback/display_boot",["require","flight/lib/component","utils/utils","ui/playback/duration_badge","ui/playback/view_counts_badge","ui/playback/error_message","ui/playback/poster_image","ui/playback/video_display_controller","ui/playback/web_intent","ui/playback/player_container","ui/playback/skip_badge","utils/i18n"],function(e){function h(){this.attributes({durationBadgeSelector:".duration-badge",viewCountsBadgeSelector:".view-counts-badge",errorMessageSelector:".error-msg-container",playerWrapperSelector:".player-wrapper",posterImageSelector:".poster-image-container",snapReelHintSelector:".snap-reel-hint-text",skipBadgeSelector:".skip-badge",autoPlay:!1,hideStatus:!1,posterImageUrl:undefined,duration:undefined,sourceType:undefined,hideControls:!1,viewCounts:undefined,showCookieOverrideEn:!1,showCookieOverrideAll:!1,videoLoadingTimeout:undefined,loopingEnabled:!1}),this.after("initialize",function(){a.attachTo(document),f.attachTo("#playerContainer",{sourceType:this.attr.sourceType,hideControls:this.attr.hideControls}),s.attachTo(this.select("errorMessageSelector"),{showRetryButton:this.attr.sourceType==="live",showCookieOverrideEn:this.attr.showCookieOverrideEn,showCookieOverrideAll:this.attr.showCookieOverrideAll});if(n.isEnvironmentUnsupportedMobile())return;n.isEnvironmentSupportedMobile()?u.attachTo(this.select("playerWrapperSelector"),{posterImageUrl:this.attr.posterImageUrl,videoLoadingTimeout:this.attr.videoLoadingTimeout,sourceType:this.attr.sourceType,loopingEnabled:this.attr.loopingEnabled}):(this.attr.autoPlay||o.attachTo(this.select("posterImageSelector"),{hideStatus:this.attr.hideStatus,posterImageUrl:this.attr.posterImageUrl,hideControls:this.attr.hideControls}),u.attachTo(this.select("playerWrapperSelector"),{videoLoadingTimeout:this.attr.videoLoadingTimeout,sourceType:this.attr.sourceType,loopingEnabled:this.attr.loopingEnabled}),!this.attr.hideControls&&this.attr.sourceType!=="gif"&&this.attr.sourceType!=="snap-reel"&&(this.attr.sourceType!=="live"&&i.attachTo(this.select("viewCountsBadgeSelector"),{viewCounts:this.attr.viewCounts,duration:this.attr.duration}),r.attachTo(this.select("durationBadgeSelector"),{sourceType:this.attr.sourceType,duration:this.attr.duration,hidden:this.attr.autoPlay,viewCounts:this.attr.viewCounts}),l.attachTo(this.select("skipBadgeSelector")))),this.attr.sourceType==="snap-reel"&&this.select("snapReelHintSelector").text(c("Scrub"))})}var t=e("flight/lib/component"),n=e("utils/utils"),r=e("ui/playback/duration_badge"),i=e("ui/playback/view_counts_badge"),s=e("ui/playback/error_message"),o=e("ui/playback/poster_image"),u=e("ui/playback/video_display_controller"),a=e("ui/playback/web_intent"),f=e("ui/playback/player_container"),l=e("ui/playback/skip_badge"),c=e("utils/i18n");return t(h)}),define("ui/playback/vine_display",["require","flight/lib/component","utils/utils"],function(e){function r(){this.attributes({playerUrl:undefined,hideControls:!1}),this.$frame=undefined,this.loadVideo=function(){var e=n.getValidatedHttpUrl(this.attr.playerUrl);if(!e)return;var t={api:1};this.attr.hideControls&&(t.hideControls=1),e=n.appendUrlParams(e,t),this.$frame=$('<iframe id="vine-frame" frameborder="0" scrolling="no" allowtransparency="true"></iframe>'),this.$frame.attr("src",e),this.$node.append(this.$frame),this.$frame.on("load",this.onVineFrameLoad.bind(this))},this.onVineFrameLoad=function(){this.playing||this.pause()},this.callPlayerMethod=function(e){if(!this.$frame)return;this.$frame.get(0).contentWindow.postMessage(JSON.stringify({context:"player.js",version:"0.0.11",method:e}),"*")},this.mute=function(){this.callPlayerMethod("mute"),this.muted=!0},this.unmute=function(){this.callPlayerMethod("unmute"),this.muted=!1},this.unmuteIfNotSpecified=function(){this.muted||this.callPlayerMethod("unmute")},this.play=function(){this.playing=!0,this.callPlayerMethod("play"),this.trigger("uiReportStartPlay")},this.pause=function(){this.playing=!1,this.callPlayerMethod("pause")},this.after("initialize",function(){this.on(document,"dataPlayVideo",this.unmuteIfNotSpecified),this.on(document,"dataPreviewVideo dataPlayVideo dataContinue dataPlay",this.play),this.on(document,"dataMute",this.mute),this.on(document,"dataUnmute dataPlayFromPreview",this.unmute),this.on(document,"dataPause dataPausePreview",this.pause),this.loadVideo()})}var t=e("flight/lib/component"),n=e("utils/utils");return t(r)}),define("ui/playback/vine_display_boot",["require","flight/lib/component","ui/playback/poster_image","ui/playback/vine_display"],function(e){function i(){this.attributes({playerWrapperSelector:".player-wrapper",posterImageSelector:".poster-image-container",autoPlay:!1,posterImageUrl:undefined,playerUrl:undefined,sourceType:undefined,hideControls:!1}),this.after("initialize",function(){this.attr.sourceType==="vine"&&(this.attr.autoPlay||n.attachTo(this.select("posterImageSelector"),{posterImageUrl:this.attr.posterImageUrl,sourceType:this.attr.sourceType,hideControls:this.attr.hideControls}),r.attachTo(this.select("playerWrapperSelector"),{autoPlay:this.attr.autoPlay,playerUrl:this.attr.playerUrl,hideControls:this.attr.hideControls}))})}var t=e("flight/lib/component"),n=e("ui/playback/poster_image"),r=e("ui/playback/vine_display");return t(i)}),define("ui/embedded/embedded_info",["require","flight/lib/component"],function(e){function n(){this.attributes({publisherLink:".embedded-publisher-link",publisherName:".embedded-publisher-name",publisherProfileImage:".embedded-publisher-profile-image",publisherScreenName:".embedded-publisher-screen-name",tweetPermalink:".embedded-tweet-permalink",videoTitle:".embedded-video-title",status:null,user:null,videoInfo:null}),this.render=function(){var e=this.attr.videoInfo,t=this.attr.status,n=this.attr.user;if(!e||!t||!n)return;this.select("publisherLink").attr("href","https://twitter.com/"+e.publisher.screen_name),this.select("publisherName").text(e.publisher.name),this.select("publisherProfileImage").attr("src",e.publisher.profile_image_url),this.select("publisherScreenName").text("@"+e.publisher.screen_name),this.select("tweetPermalink").attr("href","https://twitter.com/"+n.screen_name+"/status/"+t.id_str),e.title?this.select("videoTitle").text(e.title):this.select("videoTitle").remove(),this.$node.addClass("embedded-info-loaded")},this.show=function(){this.$node.addClass("embedded-info-visible")},this.hide=function(){this.$node.removeClass("embedded-info-visible")},this.after("initialize",function(){this.render(),this.on(document,"dataPreviewVideo uiReportStartPlay",this.hide),this.on(document,"dataPlaylistEnd uiReportPause",this.show)})}var t=e("flight/lib/component");return t(n)}),function(){function n(t,n){return n=n||"",typeof t!="string"&&(t.global&&n.indexOf("g")<0&&(n+="g"),t.ignoreCase&&n.indexOf("i")<0&&(n+="i"),t.multiline&&n.indexOf("m")<0&&(n+="m"),t=t.source),new RegExp(t.replace(/#\{(\w+)\}/g,function(t,n){var r=e.txt.regexen[n]||"";return typeof r!="string"&&(r=r.source),r}),n)}function r(e,t){return e.replace(/#\{(\w+)\}/g,function(e,n){return t[n]||""})}function i(e,t,n){var r=String.fromCharCode(t);return n!==t&&(r+="-"+String.fromCharCode(n)),e.push(r),e}function y(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function S(e,t,n){return n?!e||e.match(t)&&RegExp["$&"]===e:typeof e=="string"&&e.match(t)&&RegExp["$&"]===e}if(typeof e=="undefined"||e===null)var e={};e.txt={},e.txt.regexen={};var t={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};e.txt.htmlEscape=function(e){return e&&e.replace(/[&"'><]/g,function(e){return t[e]})},e.txt.regexSupplant=n,e.txt.stringSupplant=r,e.txt.addCharsToCharClass=i;var s=String.fromCharCode,o=[s(32),s(133),s(160),s(5760),s(6158),s(8232),s(8233),s(8239),s(8287),s(12288)];i(o,9,13),i(o,8192,8202);var u=[s(65534),s(65279),s(65535)];i(u,8234,8238),e.txt.regexen.spaces_group=n(o.join("")),e.txt.regexen.spaces=n("["+o.join("")+"]"),e.txt.regexen.invalid_chars_group=n(u.join("")),e.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,e.txt.regexen.rtl_chars=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/mg,e.txt.regexen.non_bmp_code_pairs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/mg;var a=[];i(a,192,214),i(a,216,246),i(a,248,255),i(a,256,591),i(a,595,596),i(a,598,599),i(a,601,601),i(a,603,603),i(a,611,611),i(a,616,616),i(a,623,623),i(a,626,626),i(a,649,649),i(a,651,651),i(a,699,699),i(a,768,879),i(a,7680,7935),e.txt.regexen.latinAccentChars=n(a.join(""));var f=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D/.source,l=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,c=/_\u200c\u200d\ua67e\u05be\u05f3\u05f4\uff5e\u301c\u309b\u309c\u30a0\u30fb\u3003\u0f0b\u0f0c\u00b7/.source;e.txt.regexen.hashSigns=/[#＃]/,e.txt.regexen.hashtagAlpha=new RegExp("["+f+"]"),e.txt.regexen.hashtagAlphaNumeric=new RegExp("["+f+l+c+"]"),e.txt.regexen.endHashtagMatch=n(/^(?:#{hashSigns}|:\/\/)/),e.txt.regexen.hashtagBoundary=new RegExp("(?:^|$|[^&"+f+l+c+"])"),e.txt.regexen.validHashtag=n(/(#{hashtagBoundary})(#{hashSigns})(?!\ufe0f|\u20e3)(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi),e.txt.regexen.validMentionPrecedingChars=/(?:^|[^a-zA-Z0-9_!#$%&*@＠]|(?:^|[^a-zA-Z0-9_+~.-])(?:rt|RT|rT|Rt):?)/,e.txt.regexen.atSigns=/[@＠]/,e.txt.regexen.validMentionOrList=n("(#{validMentionPrecedingChars})(#{atSigns})([a-zA-Z0-9_]{1,20})(/[a-zA-Z][a-zA-Z0-9_-]{0,24})?","g"),e.txt.regexen.validReply=n(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/),e.txt.regexen.endMentionMatch=n(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/),e.txt.regexen.validUrlPrecedingChars=n(/(?:[^A-Za-z0-9@＠$#＃#{invalid_chars_group}]|^)/),e.txt.regexen.invalidUrlWithoutProtocolPrecedingChars=/[-_.\/]$/,e.txt.regexen.invalidDomainChars=r("#{punct}#{spaces_group}#{invalid_chars_group}",e.txt.regexen),e.txt.regexen.validDomainChars=n(/[^#{invalidDomainChars}]/),e.txt.regexen.validSubdomain=n(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),e.txt.regexen.validDomainName=n(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),e.txt.regexen.validGTLD=n(RegExp("(?:(?:abb|abbott|abogado|academy|accenture|accountant|accountants|aco|active|actor|ads|adult|aeg|aero|afl|agency|aig|airforce|airtel|allfinanz|alsace|amsterdam|android|apartments|app|aquarelle|archi|army|arpa|asia|associates|attorney|auction|audio|auto|autos|axa|azure|band|bank|bar|barcelona|barclaycard|barclays|bargains|bauhaus|bayern|bbc|bbva|bcn|beer|bentley|berlin|best|bet|bharti|bible|bid|bike|bing|bingo|bio|biz|black|blackfriday|bloomberg|blue|bmw|bnl|bnpparibas|boats|bond|boo|boots|boutique|bradesco|bridgestone|broker|brother|brussels|budapest|build|builders|business|buzz|bzh|cab|cafe|cal|camera|camp|cancerresearch|canon|capetown|capital|caravan|cards|care|career|careers|cars|cartier|casa|cash|casino|cat|catering|cba|cbn|ceb|center|ceo|cern|cfa|cfd|chanel|channel|chat|cheap|chloe|christmas|chrome|church|cisco|citic|city|claims|cleaning|click|clinic|clothing|cloud|club|coach|codes|coffee|college|cologne|com|commbank|community|company|computer|condos|construction|consulting|contractors|cooking|cool|coop|corsica|country|coupons|courses|credit|creditcard|cricket|crown|crs|cruises|cuisinella|cymru|cyou|dabur|dad|dance|date|dating|datsun|day|dclk|deals|degree|delivery|delta|democrat|dental|dentist|desi|design|dev|diamonds|diet|digital|direct|directory|discount|dnp|docs|dog|doha|domains|doosan|download|drive|durban|dvag|earth|eat|edu|education|email|emerck|energy|engineer|engineering|enterprises|epson|equipment|erni|esq|estate|eurovision|eus|events|everbank|exchange|expert|exposed|express|fage|fail|faith|family|fan|fans|farm|fashion|feedback|film|finance|financial|firmdale|fish|fishing|fit|fitness|flights|florist|flowers|flsmidth|fly|foo|football|forex|forsale|forum|foundation|frl|frogans|fund|furniture|futbol|fyi|gal|gallery|game|garden|gbiz|gdn|gent|genting|ggee|gift|gifts|gives|giving|glass|gle|global|globo|gmail|gmo|gmx|gold|goldpoint|golf|goo|goog|google|gop|gov|graphics|gratis|green|gripe|group|guge|guide|guitars|guru|hamburg|hangout|haus|healthcare|help|here|hermes|hiphop|hitachi|hiv|hockey|holdings|holiday|homedepot|homes|honda|horse|host|hosting|hoteles|hotmail|house|how|hsbc|ibm|icbc|ice|icu|ifm|iinet|immo|immobilien|industries|infiniti|info|ing|ink|institute|insure|int|international|investments|ipiranga|irish|ist|istanbul|itau|iwc|java|jcb|jetzt|jewelry|jlc|jll|jobs|joburg|jprs|juegos|kaufen|kddi|kim|kitchen|kiwi|koeln|komatsu|krd|kred|kyoto|lacaixa|lancaster|land|lasalle|lat|latrobe|law|lawyer|lds|lease|leclerc|legal|lexus|lgbt|liaison|lidl|life|lighting|limited|limo|link|live|lixil|loan|loans|lol|london|lotte|lotto|love|ltda|lupin|luxe|luxury|madrid|maif|maison|man|management|mango|market|marketing|markets|marriott|mba|media|meet|melbourne|meme|memorial|men|menu|miami|microsoft|mil|mini|mma|mobi|moda|moe|mom|monash|money|montblanc|mormon|mortgage|moscow|motorcycles|mov|movie|movistar|mtn|mtpc|museum|nadex|nagoya|name|navy|nec|net|netbank|network|neustar|new|news|nexus|ngo|nhk|nico|ninja|nissan|nokia|nra|nrw|ntt|nyc|office|okinawa|omega|one|ong|onl|online|ooo|oracle|orange|org|organic|osaka|otsuka|ovh|page|panerai|paris|partners|parts|party|pet|pharmacy|philips|photo|photography|photos|physio|piaget|pics|pictet|pictures|pink|pizza|place|play|plumbing|plus|pohl|poker|porn|post|praxi|press|pro|prod|productions|prof|properties|property|pub|qpon|quebec|racing|realtor|realty|recipes|red|redstone|rehab|reise|reisen|reit|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rich|ricoh|rio|rip|rocks|rodeo|rsvp|ruhr|run|ryukyu|saarland|sakura|sale|samsung|sandvik|sandvikcoromant|sanofi|sap|sarl|saxo|sca|scb|schmidt|scholarships|school|schule|schwarz|science|scor|scot|seat|seek|sener|services|sew|sex|sexy|shiksha|shoes|show|shriram|singles|site|ski|sky|skype|sncf|soccer|social|software|sohu|solar|solutions|sony|soy|space|spiegel|spreadbetting|srl|starhub|statoil|studio|study|style|sucks|supplies|supply|support|surf|surgery|suzuki|swatch|swiss|sydney|systems|taipei|tatamotors|tatar|tattoo|tax|taxi|team|tech|technology|tel|telefonica|temasek|tennis|thd|theater|tickets|tienda|tips|tires|tirol|today|tokyo|tools|top|toray|toshiba|tours|town|toyota|toys|trade|trading|training|travel|trust|tui|ubs|university|uno|uol|vacations|vegas|ventures|vermögensberater|vermögensberatung|versicherung|vet|viajes|video|villas|vin|vision|vista|vistaprint|vlaanderen|vodka|vote|voting|voto|voyage|wales|walter|wang|watch|webcam|website|wed|wedding|weir|whoswho|wien|wiki|williamhill|win|windows|wine|wme|work|works|world|wtc|wtf|xbox|xerox|xin|xperia|xxx|xyz|yachts|yandex|yodobashi|yoga|yokohama|youtube|zip|zone|zuerich|дети|ком|москва|онлайн|орг|рус|сайт|קום|بازار|شبكة|كوم|موقع|कॉम|नेट|संगठन|คอม|みんな|グーグル|コム|世界|中信|中文网|企业|佛山|信息|健康|八卦|公司|公益|商城|商店|商标|在线|大拿|娱乐|工行|广东|慈善|我爱你|手机|政务|政府|新闻|时尚|机构|淡马锡|游戏|点看|移动|组织机构|网址|网店|网络|谷歌|集团|飞利浦|餐厅|닷넷|닷컴|삼성|onion)(?=[^0-9a-zA-Z@]|$))")),e.txt.regexen.validCCTLD=n(RegExp("(?:(?:ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bl|bm|bn|bo|bq|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mf|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|бел|мкд|мон|рф|срб|укр|қаз|հայ|الاردن|الجزائر|السعودية|المغرب|امارات|ایران|بھارت|تونس|سودان|سورية|عراق|عمان|فلسطين|قطر|مصر|مليسيا|پاکستان|भारत|বাংলা|ভারত|ਭਾਰਤ|ભારત|இந்தியா|இலங்கை|சிங்கப்பூர்|భారత్|ලංකා|ไทย|გე|中国|中國|台湾|台灣|新加坡|澳門|香港|한국)(?=[^0-9a-zA-Z@]|$))")),e.txt.regexen.validPunycode=n(/(?:xn--[0-9a-z]+)/),e.txt.regexen.validSpecialCCTLD=n(RegExp("(?:(?:co|tv)(?=[^0-9a-zA-Z@]|$))")),e.txt.regexen.validDomain=n(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),e.txt.regexen.validAsciiDomain=n(/(?:(?:[\-a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),e.txt.regexen.invalidShortDomain=n(/^#{validDomainName}#{validCCTLD}$/i),e.txt.regexen.validSpecialShortDomain=n(/^#{validDomainName}#{validSpecialCCTLD}$/i),e.txt.regexen.validPortNumber=n(/[0-9]+/),e.txt.regexen.cyrillicLettersAndMarks=n(/\u0400-\u04FF/),e.txt.regexen.validGeneralUrlPathChars=n(/[a-z#{cyrillicLettersAndMarks}0-9!\*';:=\+,\.\$\/%#\[\]\-_~@\|&#{latinAccentChars}]/i),e.txt.regexen.validUrlBalancedParens=n("\\((?:#{validGeneralUrlPathChars}+|(?:#{validGeneralUrlPathChars}*\\(#{validGeneralUrlPathChars}+\\)#{validGeneralUrlPathChars}*))\\)","i"),e.txt.regexen.validUrlPathEndingChars=n(/[\+\-a-z#{cyrillicLettersAndMarks}0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),e.txt.regexen.validUrlPath=n("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),e.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,e.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,e.txt.regexen.extractUrl=n("((#{validUrlPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),e.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i,e.txt.regexen.urlHasProtocol=/^https?:\/\//i,e.txt.regexen.urlHasHttps=/^https:\/\//i,e.txt.regexen.cashtag=/[a-z]{1,6}(?:[._][a-z]{1,2})?/i,e.txt.regexen.validCashtag=n("(^|#{spaces})(\\$)(#{cashtag})(?=$|\\s|[#{punct}])","gi"),e.txt.regexen.validateUrlUnreserved=/[a-z\u0400-\u04FF0-9\-._~]/i,e.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i,e.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i,e.txt.regexen.validateUrlPchar=n("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i"),e.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i,e.txt.regexen.validateUrlUserinfo=n("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i"),e.txt.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i,e.txt.regexen.validateUrlIpv4=n(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i),e.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i,e.txt.regexen.validateUrlIp=n("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i"),e.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i,e.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i,e.txt.regexen.validateUrlDomainTld=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i,e.txt.regexen.validateUrlDomain=n(/(?:(?:#{validateUrlSubDomainSegment]}\.)*(?:#{validateUrlDomainSegment]}\.)#{validateUrlDomainTld})/i),e.txt.regexen.validateUrlHost=n("(?:#{validateUrlIp}|#{validateUrlDomain})","i"),e.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,e.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,e.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,e.txt.regexen.validateUrlUnicodeDomain=n(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i),e.txt.regexen.validateUrlUnicodeHost=n("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i"),e.txt.regexen.validateUrlPort=/[0-9]{1,5}/,e.txt.regexen.validateUrlUnicodeAuthority=n("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i"),e.txt.regexen.validateUrlAuthority=n("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i"),e.txt.regexen.validateUrlPath=n(/(\/#{validateUrlPchar}*)*/i),e.txt.regexen.validateUrlQuery=n(/(#{validateUrlPchar}|\/|\?)*/i),e.txt.regexen.validateUrlFragment=n(/(#{validateUrlPchar}|\/|\?)*/i),e.txt.regexen.validateUrlUnencoded=n("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i");var h="tweet-url list-slug",p="tweet-url username",d="tweet-url hashtag",v="tweet-url cashtag",m={urlClass:!0,listClass:!0,usernameClass:!0,hashtagClass:!0,cashtagClass:!0,usernameUrlBase:!0,listUrlBase:!0,hashtagUrlBase:!0,cashtagUrlBase:!0,usernameUrlBlock:!0,listUrlBlock:!0,hashtagUrlBlock:!0,linkUrlBlock:!0,usernameIncludeSymbol:!0,suppressLists:!0,suppressNoFollow:!0,targetBlank:!0,suppressDataScreenName:!0,urlEntities:!0,symbolTag:!0,textWithSymbolTag:!0,urlTarget:!0,invisibleTagAttrs:!0,linkAttributeBlock:!0,linkTextBlock:!0,htmlEscapeNonEntities:!0},g={disabled:!0,readonly:!0,multiple:!0,checked:!0};e.txt.tagAttrs=function(t){var n="";for(var r in t){var i=t[r];g[r]&&(i=i?r:null);if(i==null)continue;n+=" "+e.txt.htmlEscape(r)+'="'+e.txt.htmlEscape(i.toString())+'"'}return n},e.txt.linkToText=function(t,n,i,s){s.suppressNoFollow||(i.rel="nofollow"),s.linkAttributeBlock&&s.linkAttributeBlock(t,i),s.linkTextBlock&&(n=s.linkTextBlock(t,n));var o={text:n,attr:e.txt.tagAttrs(i)};return r("<a#{attr}>#{text}</a>",o)},e.txt.linkToTextWithSymbol=function(t,n,r,i,s){var o=s.symbolTag?"<"+s.symbolTag+">"+n+"</"+s.symbolTag+">":n;r=e.txt.htmlEscape(r);var u=s.textWithSymbolTag?"<"+s.textWithSymbolTag+">"+r+"</"+s.textWithSymbolTag+">":r;return s.usernameIncludeSymbol||!n.match(e.txt.regexen.atSigns)?e.txt.linkToText(t,o+u,i,s):o+e.txt.linkToText(t,u,i,s)},e.txt.linkToHashtag=function(t,n,r){var i=n.substring(t.indices[0],t.indices[0]+1),s=e.txt.htmlEscape(t.hashtag),o=y(r.htmlAttrs||{});return o.href=r.hashtagUrlBase+s,o.title="#"+s,o["class"]=r.hashtagClass,s.charAt(0).match(e.txt.regexen.rtl_chars)&&(o["class"]+=" rtl"),r.targetBlank&&(o.target="_blank"),e.txt.linkToTextWithSymbol(t,i,s,o,r)},e.txt.linkToCashtag=function(t,n,r){var i=e.txt.htmlEscape(t.cashtag),s=y(r.htmlAttrs||{});return s.href=r.cashtagUrlBase+i,s.title="$"+i,s["class"]=r.cashtagClass,r.targetBlank&&(s.target="_blank"),e.txt.linkToTextWithSymbol(t,"$",i,s,r)},e.txt.linkToMentionAndList=function(t,n,r){var i=n.substring(t.indices[0],t.indices[0]+1),s=e.txt.htmlEscape(t.screenName),o=e.txt.htmlEscape(t.listSlug),u=t.listSlug&&!r.suppressLists,a=y(r.htmlAttrs||{});return a["class"]=u?r.listClass:r.usernameClass,a.href=u?r.listUrlBase+s+o:r.usernameUrlBase+s,!u&&!r.suppressDataScreenName&&(a["data-screen-name"]=s),r.targetBlank&&(a.target="_blank"),e.txt.linkToTextWithSymbol(t,i,u?s+o:s,a,r)},e.txt.linkToUrl=function(t,n,r){var i=t.url,s=i,o=e.txt.htmlEscape(s),u=r.urlEntities&&r.urlEntities[i]||t;u.display_url&&(o=e.txt.linkTextWithEntity(u,r));var a=y(r.htmlAttrs||{});return i.match(e.txt.regexen.urlHasProtocol)||(i="http://"+i),a.href=i,r.targetBlank&&(a.target="_blank"),r.urlClass&&(a["class"]=r.urlClass),r.urlTarget&&(a.target=r.urlTarget),!r.title&&u.display_url&&(a.title=u.expanded_url),e.txt.linkToText(t,o,a,r)},e.txt.linkTextWithEntity=function(t,n){var i=t.display_url,s=t.expanded_url,o=i.replace(/…/g,"");if(s.indexOf(o)!=-1){var u=s.indexOf(o),a={displayUrlSansEllipses:o,beforeDisplayUrl:s.substr(0,u),afterDisplayUrl:s.substr(u+o.length),precedingEllipsis:i.match(/^…/)?"…":"",followingEllipsis:i.match(/…$/)?"…":""};for(var f in a)a.hasOwnProperty(f)&&(a[f]=e.txt.htmlEscape(a[f]));return a.invisible=n.invisibleTagAttrs,r("<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>",a)}return i},e.txt.autoLinkEntities=function(t,n,r){r=y(r||{}),r.hashtagClass=r.hashtagClass||d,r.hashtagUrlBase=r.hashtagUrlBase||"https://twitter.com/#!/search?q=%23",r.cashtagClass=r.cashtagClass||v,r.cashtagUrlBase=r.cashtagUrlBase||"https://twitter.com/#!/search?q=%24",r.listClass=r.listClass||h,r.usernameClass=r.usernameClass||p,r.usernameUrlBase=r.usernameUrlBase||"https://twitter.com/",r.listUrlBase=r.listUrlBase||"https://twitter.com/",r.htmlAttrs=e.txt.extractHtmlAttrsFromOptions(r),r.invisibleTagAttrs=r.invisibleTagAttrs||"style='position:absolute;left:-9999px;'";var i,s,o;if(r.urlEntities){i={};for(s=0,o=r.urlEntities.length;s<o;s++)i[r.urlEntities[s].url]=r.urlEntities[s];r.urlEntities=i}var u="",a=0;n.sort(function(e,t){return e.indices[0]-t.indices[0]});var f=r.htmlEscapeNonEntities?e.txt.htmlEscape:function(e){return e};for(var s=0;s<n.length;s++){var l=n[s];u+=f(t.substring(a,l.indices[0])),l.url?u+=e.txt.linkToUrl(l,t,r):l.hashtag?u+=e.txt.linkToHashtag(l,t,r):l.screenName?u+=e.txt.linkToMentionAndList(l,t,r):l.cashtag&&(u+=e.txt.linkToCashtag(l,t,r)),a=l.indices[1]}return u+=f(t.substring(a,t.length)),u},e.txt.autoLinkWithJSON=function(t,n,r){if(n.user_mentions)for(var i=0;i<n.user_mentions.length;i++)n.user_mentions[i].screenName=n.user_mentions[i].screen_name;if(n.hashtags)for(var i=0;i<n.hashtags.length;i++)n.hashtags[i].hashtag=n.hashtags[i].text;if(n.symbols)for(var i=0;i<n.symbols.length;i++)n.symbols[i].cashtag=n.symbols[i].text;var s=[];for(var o in n)s=s.concat(n[o]);return e.txt.modifyIndicesFromUnicodeToUTF16(t,s),e.txt.autoLinkEntities(t,s,r)},e.txt.extractHtmlAttrsFromOptions=function(e){var t={};for(var n in e){var r=e[n];if(m[n])continue;g[n]&&(r=r?n:null);if(r==null)continue;t[n]=r}return t},e.txt.autoLink=function(t,n){var r=e.txt.extractEntitiesWithIndices(t,{extractUrlsWithoutProtocol:!1});return e.txt.autoLinkEntities(t,r,n)},e.txt.autoLinkUsernamesOrLists=function(t,n){var r=e.txt.extractMentionsOrListsWithIndices(t);return e.txt.autoLinkEntities(t,r,n)},e.txt.autoLinkHashtags=function(t,n){var r=e.txt.extractHashtagsWithIndices(t);return e.txt.autoLinkEntities(t,r,n)},e.txt.autoLinkCashtags=function(t,n){var r=e.txt.extractCashtagsWithIndices(t);return e.txt.autoLinkEntities(t,r,n)},e.txt.autoLinkUrlsCustom=function(t,n){var r=e.txt.extractUrlsWithIndices(t,{extractUrlsWithoutProtocol:!1});return e.txt.autoLinkEntities(t,r,n)},e.txt.removeOverlappingEntities=function(e){e.sort(function(e,t){return e.indices[0]-t.indices[0]});var t=e[0];for(var n=1;n<e.length;n++)t.indices[1]>e[n].indices[0]?(e.splice(n,1),n--):t=e[n]},e.txt.extractEntitiesWithIndices=function(t,n){var r=e.txt.extractUrlsWithIndices(t,n).concat(e.txt.extractMentionsOrListsWithIndices(t)).concat(e.txt.extractHashtagsWithIndices(t,{checkUrlOverlap:!1})).concat(e.txt.extractCashtagsWithIndices(t));return r.length==0?[]:(e.txt.removeOverlappingEntities(r),r)},e.txt.extractMentions=function(t){var n=[],r=e.txt.extractMentionsWithIndices(t);for(var i=0;i<r.length;i++){var s=r[i].screenName;n.push(s)}return n},e.txt.extractMentionsWithIndices=function(t){var n=[],r,i=e.txt.extractMentionsOrListsWithIndices(t);for(var s=0;s<i.length;s++)r=i[s],r.listSlug==""&&n.push({screenName:r.screenName,indices:r.indices});return n},e.txt.extractMentionsOrListsWithIndices=function(t){if(!t||!t.match(e.txt.regexen.atSigns))return[];var n=[],r;return t.replace(e.txt.regexen.validMentionOrList,function(t,r,i,s,o,u,a){var f=a.slice(u+t.length);if(!f.match(e.txt.regexen.endMentionMatch)){o=o||"";var l=u+r.length,c=l+s.length+o.length+1;n.push({screenName:s,listSlug:o,indices:[l,c]})}}),n},e.txt.extractReplies=function(t){if(!t)return null;var n=t.match(e.txt.regexen.validReply);return!n||RegExp.rightContext.match(e.txt.regexen.endMentionMatch)?null:n[1]},e.txt.extractUrls=function(t,n){var r=[],i=e.txt.extractUrlsWithIndices(t,n);for(var s=0;s<i.length;s++)r.push(i[s].url);return r},e.txt.extractUrlsWithIndices=function(t,n){n||(n={extractUrlsWithoutProtocol:!0});if(!t||(n.extractUrlsWithoutProtocol?!t.match(/\./):!t.match(/:/)))return[];var r=[];while(e.txt.regexen.extractUrl.exec(t)){var i=RegExp.$2,s=RegExp.$3,o=RegExp.$4,u=RegExp.$5,a=RegExp.$7,f=e.txt.regexen.extractUrl.lastIndex,l=f-s.length;if(!o){if(!n.extractUrlsWithoutProtocol||i.match(e.txt.regexen.invalidUrlWithoutProtocolPrecedingChars))continue;var c=null,h=0;u.replace(e.txt.regexen.validAsciiDomain,function(t){var n=u.indexOf(t,h);h=n+t.length,c={url:t,indices:[l+n,l+h]},(a||t.match(e.txt.regexen.validSpecialShortDomain)||!t.match(e.txt.regexen.invalidShortDomain))&&r.push(c)});if(c==null)continue;a&&(c.url=s.replace(u,c.url),c.indices[1]=f)}else s.match(e.txt.regexen.validTcoUrl)&&(s=RegExp.lastMatch,f=l+s.length),r.push({url:s,indices:[l,f]})}return r},e.txt.extractHashtags=function(t){var n=[],r=e.txt.extractHashtagsWithIndices(t);for(var i=0;i<r.length;i++)n.push(r[i].hashtag);return n},e.txt.extractHashtagsWithIndices=function(t,n){n||(n={checkUrlOverlap:!0});if(!t||!t.match(e.txt.regexen.hashSigns))return[];var r=[];t.replace(e.txt.regexen.validHashtag,function(t,n,i,s,o,u){var a=u.slice(o+t.length);if(a.match(e.txt.regexen.endHashtagMatch))return;var f=o+n.length,l=f+s.length+1;r.push({hashtag:s,indices:[f,l]})});if(n.checkUrlOverlap){var i=e.txt.extractUrlsWithIndices(t);if(i.length>0){var s=r.concat(i);e.txt.removeOverlappingEntities(s),r=[];for(var o=0;o<s.length;o++)s[o].hashtag&&r.push(s[o])}}return r},e.txt.extractCashtags=function(t){var n=[],r=e.txt.extractCashtagsWithIndices(t);for(var i=0;i<r.length;i++)n.push(r[i].cashtag);return n},e.txt.extractCashtagsWithIndices=function(t){if(!t||t.indexOf("$")==-1)return[];var n=[];return t.replace(e.txt.regexen.validCashtag,function(e,t,r,i,s,o){var u=s+t.length,a=u+i.length+1;n.push({cashtag:i,indices:[u,a]})}),n},e.txt.modifyIndicesFromUnicodeToUTF16=function(t,n){e.txt.convertUnicodeIndices(t,n,!1)},e.txt.modifyIndicesFromUTF16ToUnicode=function(t,n){e.txt.convertUnicodeIndices(t,n,!0)},e.txt.getUnicodeTextLength=function(t){return t.replace(e.txt.regexen.non_bmp_code_pairs," ").length},e.txt.convertUnicodeIndices=function(e,t,n){if(t.length==0)return;var r=0,i=0;t.sort(function(e,t){return e.indices[0]-t.indices[0]});var s=0,o=t[0];while(r<e.length){if(o.indices[0]==(n?r:i)){var u=o.indices[1]-o.indices[0];o.indices[0]=n?i:r,o.indices[1]=o.indices[0]+u,s++;if(s==t.length)break;o=t[s]}var a=e.charCodeAt(r);55296<=a&&a<=56319&&r<e.length-1&&(a=e.charCodeAt(r+1),56320<=a&&a<=57343&&r++),i++,r++}},e.txt.splitTags=function(e){var t=e.split("<"),n,r=[],i;for(var s=0;s<t.length;s+=1){i=t[s];if(!i)r.push("");else{n=i.split(">");for(var o=0;o<n.length;o+=1)r.push(n[o])}}return r},e.txt.hitHighlight=function(t,n,r){var i="em";n=n||[],r=r||{};if(n.length===0)return t;var s=r.tag||i,o=["<"+s+">","</"+s+">"],u=e.txt.splitTags(t),a,f,l="",c=0,h=u[0],p=0,d=0,v=!1,m=h,g=[],y,b,w,E,S;for(a=0;a<n.length;a+=1)for(f=0;f<n[a].length;f+=1)g.push(n[a][f]);for(y=0;y<g.length;y+=1){b=g[y],w=o[y%2],E=!1;while(h!=null&&b>=p+h.length)l+=m.slice(d),v&&b===p+m.length&&(l+=w,E=!0),u[c+1]&&(l+="<"+u[c+1]+">"),p+=m.length,d=0,c+=2,h=u[c],m=h,v=!1;!E&&h!=null?(S=b-p,l+=m.slice(d,S)+w,d=S,y%2===0?v=!0:v=!1):E||(E=!0,l+=w)}if(h!=null){d<m.length&&(l+=m.slice(d));for(y=c+1;y<u.length;y+=1)l+=y%2===0?u[y]:"<"+u[y]+">"}return l};var b=140,w=[s(65534),s(65279),s(65535),s(8234),s(8235),s(8236),s(8237),s(8238)];e.txt.getTweetLength=function(t,n){n||(n={short_url_length:23,short_url_length_https:23});var r=e.txt.getUnicodeTextLength(t),i=e.txt.extractUrlsWithIndices(t);e.txt.modifyIndicesFromUTF16ToUnicode(t,i);for(var s=0;s<i.length;s++)r+=i[s].indices[0]-i[s].indices[1],i[s].url.toLowerCase().match(e.txt.regexen.urlHasHttps)?r+=n.short_url_length_https:r+=n.short_url_length;return r},e.txt.isInvalidTweet=function(t){return t?e.txt.getTweetLength(t)>b?"too_long":e.txt.hasInvalidCharacters(t)?"invalid_characters":!1:"empty"},e.txt.hasInvalidCharacters=function(e){for(var t=0;t<w.length;t++)if(e.indexOf(w[t])>=0)return!0;return!1},e.txt.isValidTweetText=function(t){return!e.txt.isInvalidTweet(t)},e.txt.isValidUsername=function(t){if(!t)return!1;var n=e.txt.extractMentions(t);return n.length===1&&n[0]===t.slice(1)};var E=n(/^#{validMentionOrList}$/);e.txt.isValidList=function(e){var t=e.match(E);return!!t&&t[1]==""&&!!t[4]},e.txt.isValidHashtag=function(t){if(!t)return!1;var n=e.txt.extractHashtags(t);return n.length===1&&n[0]===t.slice(1)},e.txt.isValidUrl=function(t,n,r){n==null&&(n=!0),r==null&&(r=!0);if(!t)return!1;var i=t.match(e.txt.regexen.validateUrlUnencoded);if(!i||i[0]!==t)return!1;var s=i[1],o=i[2],u=i[3],a=i[4],f=i[5];return(!r||S(s,e.txt.regexen.validateUrlScheme)&&s.match(/^https?$/i))&&S(u,e.txt.regexen.validateUrlPath)&&S(a,e.txt.regexen.validateUrlQuery,!0)&&S(f,e.txt.regexen.validateUrlFragment,!0)?n&&S(o,e.txt.regexen.validateUrlUnicodeAuthority)||!n&&S(o,e.txt.regexen.validateUrlAuthority):!1},typeof module!="undefined"&&module.exports&&(module.exports=e.txt),typeof define=="function"&&define.amd&&define("twitter-text",[],e.txt);if(typeof window!="undefined")if(window.twttr)for(var x in e)window.twttr[x]=e[x];else window.twttr=e}(),define("ui/embedded/embedded_tweet",["require","utils/i18n","flight/lib/component","twitter-text"],function(e){function i(){this.attributes({authorLink:".embedded-tweet-author-link",authorName:".embedded-tweet-author-name",authorProfileImage:".embedded-tweet-author-profile-image",authorScreenName:".embedded-tweet-author-screen-name",closeButton:".embedded-tweet-close-button",followButton:".embedded-tweet-follow-button",followText:".embedded-tweet-follow-text",tweetPermalink:".embedded-tweet-permalink",tweetText:".embedded-tweet-text",tweetTimestamp:".embedded-tweet-timestamp",status:null,statusTimestamp:null,user:null,videoInfo:null}),this.getStatusTextHtml=function(e,t){if(/[<>]/.test(e))return setTimeout(this.trigger.bind(this,"dataParsingError")),undefined;var n=r.autoLinkWithJSON(e,t,{textWithSymbolTag:"b",usernameIncludeSymbol:!0}),i=$("<div></div>");i.html(n);var s=i.contents().last();return s.is("a")&&s.prop("href")===this.attr.videoInfo.cardUrl&&s.css({position:"absolute",left:"-9999px"}),i.html()},this.render=function(){var e=this.attr.status,n=this.attr.statusTimestamp,r=this.attr.user;this.followIntentUrl="https://twitter.com/intent/follow?screen_name="+r.screen_name,this.select("authorLink").attr("href","https://twitter.com/"+r.screen_name),this.select("authorName").text(r.name),this.select("authorProfileImage").attr("src",r.profile_image_url),this.select("authorScreenName").text("@"+r.screen_name),this.select("followButton").attr("href",this.followIntentUrl),this.select("followText").text(t("Follow")),this.select("tweetPermalink").attr("href","https://twitter.com/"+r.screen_name+"/status/"+e.id_str),this.select("tweetText").html(this.getStatusTextHtml(e.text,e.entities)),this.select("tweetTimestamp").text(n.local),this.$node.addClass("embedded-tweet-loaded")},this.show=function(){this.$node.hasClass("embedded-tweet-visible")||(this.$node.addClass("embedded-tweet-visible"),this.trigger("uiReportEmbeddedTweetShown"))},this.hide=function(){this.$node.hasClass("embedded-tweet-visible")&&(this.$node.removeClass("embedded-tweet-visible"),this.trigger("uiReportEmbeddedTweetHidden"))},this.onHidePoster=function(){this.$node.addClass("bg-play-pause")},this.onClickFollowButton=function(e){this.trigger("uiWebIntent",{url:this.followIntentUrl}),e.preventDefault()},this.after("initialize",function(){this.on("click",{closeButton:this.hide,followButton:this.onClickFollowButton}),this.on(document,"dataPlay dataDidReplay",this.hide),this.on(document,"uiShowEmbeddedTweet",this.show),this.on(document,"uiHidePoster",this.onHidePoster),this.render()})}var t=e("utils/i18n"),n=e("flight/lib/component"),r=e("twitter-text");return n(i)}),define("ui/embedded/embedded_boot",["require","flight/lib/component","ui/embedded/embedded_info","ui/embedded/embedded_tweet"],function(e){function i(){this.attributes({embeddedInfoSelector:".embedded-info",embeddedTweetSelector:".embedded-tweet",embedded:!1,hideStatus:!1,status:undefined,statusTimestamp:undefined,user:undefined,videoInfo:undefined}),this.after("initialize",function(){this.attr.embedded&&this.$node.addClass("embedded");var e=this.attr.embedded&&this.attr.status&&this.attr.user&&this.attr.videoInfo;e?(this.$node.addClass("embedded"),n.attachTo(this.select("embeddedInfoSelector"),{status:this.attr.status,user:this.attr.user,videoInfo:this.attr.videoInfo})):this.select("embeddedInfoSelector").remove(),!e||this.attr.hideStatus?this.select("embeddedTweetSelector").remove():r.attachTo(this.select("embeddedTweetSelector"),{status:this.attr.status,statusTimestamp:this.attr.statusTimestamp,user:this.attr.user,videoInfo:this.attr.videoInfo})})}var t=e("flight/lib/component"),n=e("ui/embedded/embedded_info"),r=e("ui/embedded/embedded_tweet");return t(i)}),define("boot/boot",["require","utils/video_type_utils","utils/interface","data/player/player_boot","data/player/vine_player_boot","data/playlist/playlist","data/timing_events/timing_events_boot","data/tracking/tracking_boot","ui/controls/controls_boot","ui/playback/display_boot","ui/playback/vine_display_boot","ui/embedded/embedded_boot","ui/playback/poster_image","utils/utils"],function(e){var t=e("utils/video_type_utils"),n=e("utils/interface"),r=e("data/player/player_boot"),i=e("data/player/vine_player_boot"),s=e("data/playlist/playlist"),o=e("data/timing_events/timing_events_boot"),u=e("data/tracking/tracking_boot"),a=e("ui/controls/controls_boot"),f=e("ui/playback/display_boot"),l=e("ui/playback/vine_display_boot"),c=e("ui/embedded/embedded_boot"),h=e("ui/playback/poster_image"),p=e("utils/utils"),d=function(e){var n={};return n.source=e.video_url,n.contentType=e.content_type,n.contentId=e.media_id,n.ownerId=e.video_owner_id,n.videoType=t.defaultType(),n.ctas={visit:e.visit_cta_url,watchNow:e.watch_now_cta_url},[n]},v=function(e,t){switch(e){case"facebook":t.autoplay="1",t.external_embedder=!0;break;case"moments":t.hide_controls="1",t.json_rpc="1",t.square_corners="1";break;case"related_tweets":t.json_rpc="1",t.square_corners="1";break;case"clientlib":t.json_rpc="1",t.dynamic_ad="1";break;case"macaw_cards":t.square_corners="1",t.dynamic_ad="1"}return t};return function(){var e=function(e){if(!e)return;if(e.videoInfo&&e.videoInfo.publisher&&e.videoInfo.publisher.profile_image_url){var t=p.getValidatedTwimgUrl(e.videoInfo.publisher.profile_image_url);e.videoInfo.publisher.profile_image_url=t}if(e.posterImageUrl){var n=p.getValidatedTwimgUrl(e.posterImageUrl);e.posterImageUrl=n}if(e.user&&e.user.profile_image_url){var r=p.getValidatedTwimgUrl(e.user.profile_image_url);e.user.profile_image_url=r}},t=function(e){u({scribePlaylistUrl:e.scribePlaylistUrl,mediaId:e.mediaId,vmapUrl:e.vmapUrl,playerUrl:e.playerUrl,sourceType:e.sourceType,publisherId:e.publisherId,tweetId:e.tweetId,embedSource:e.embedSource,scribeParams:e.scribeParams,promotedLogParams:e.promotedLogParams,videoSessionEnabled:e.videoSessionEnabled,liveVideoEvent:e.liveVideoEvent,autoPlay:e.autoPlay,widgetOrigin:e.scribeWidgetOrigin?e.widgetOrigin:undefined,useTFWLiveHeartbeatEventCategory:e.useTFWLiveHeartbeatEventCategory,heartbeatEnabled:e.vodHeartbeatEnabled,heartbeatIntervalInMs:e.heartbeatIntervalInMs,loopingEnabled:e.loopingEnabled})},m=function(e){var t={autoPlay:e.autoPlay,posterImageUrl:e.posterImageUrl,playerUrl:e.playerUrl,sourceType:e.sourceType,hideControls:e.hideControls};l.attachTo("#playerContainer",t)},g=function(e){i({autoPlay:e.autoPlay,autoPlayPreview:e.autoPlayPreview})},y=function(e){var t={autoPlay:e.autoPlay,duration:e.duration,hideStatus:e.hideStatus,posterImageUrl:e.posterImageUrl,playerUrl:e.playerUrl,hideControls:e.hideControls,sourceType:e.sourceType,viewCounts:e.viewCounts,showCookieOverrideEn:e.showCookieOverrideEn,showCookieOverrideAll:e.showCookieOverrideAll,videoLoadingTimeout:e.videoLoadingTimeout,loopingEnabled:e.loopingEnabled};f.attachTo("#playerContainer",t)},b=function(e){var t={hideStatus:e.hideStatus,status:e.status,user:e.user,viewCounts:e.viewCounts,isLiveVideo:e.liveVideoEvent,hideStopButton:e.liveVideoEvent&&e.embedSource==="macaw_cards"};a.attachTo(".player-controls",t)},w=function(e){var t={embedded:e.embedded,status:e.status,user:e.user,videoInfo:e.videoInfo,hideStatus:e.hideStatus,statusTimestamp:e.statusTimestamp};c.attachTo("#playerContainer",t)},E=function(e){r({autoPlay:e.autoPlay,autoPlayPreview:e.autoPlayPreview,sourceType:e.sourceType,hideControls:e.hideControls})},S=function(e){o({sourceType:e.sourceType})},x=function(e){var t;e.scribeParams&&(t=e.scribeParams.client);var n={dynamicAd:e.dynamicAd,playlist:e.playlist,useVmapVariants:e.useVmapVariants,vmapUrl:e.vmapUrl,liveVideoEvent:e.liveVideoEvent,client:t};s.attachTo(document,n)},T=function(e){var t={posterImageUrl:e.posterImageUrl,disableEmbed:e.disableEmbed,tweetId:e.tweetId};h.attachTo(".poster-image-container",t)},N=function(e){p.isEnvironmentSupportedMobile()&&(e.hideControls=!0);if(e.disableEmbed){T(e);return}$("#playerContainer").css({"border-top-left-radius":e.squareCorners?0:e.borderRadius.topLeft,"border-top-right-radius":e.squareCorners?0:e.borderRadius.topRight,"border-bottom-left-radius":e.squareCorners?0:e.borderRadius.bottomLeft,"border-bottom-right-radius":e.squareCorners?0:e.borderRadius.bottomRight});switch(e.sourceType){case"vine":t(e),m(e),g(e);break;case"snap-reel":case"gif":t(e),y(e),E(e),S(e),x(e);break;case"consumer":case"amplify":default:e.hideControls||b(e),t(e),y(e),w(e),E(e),S(e),x(e)}$("#playerContainer").attr("data-source-type",e.sourceType).toggleClass("hide-controls",e.hideControls),$(document).trigger("dataPlayerReadyEvent")},C=p.getQueryParams(),k,L=$("#playerContainer"),A=Boolean(L.data("config"));C.embed_source&&(C=v(C.embed_source,C)),C.video_url?k=d(C):C.playlist&&(k=JSON.parse(C.playlist));if(A){var O=L.data("config");C.image_src=O.image_src,C.source_type=O.source_type,C.tweet_id=O.tweet_id,C.video_session_enabled=O.video_session_enabled,C.user=O.user,C.status=O.status,C.title=O.title,C.description=O.description,C.video_info=O.videoInfo,C.status_timestamp=O.statusTimestamp,C.liveVideoEvent=O.liveVideoEvent,C.viewCounts=O.view_counts,C.duration=O.duration,C.use_tfw_live_heartbeat_event_category=O.use_tfw_live_heartbeat_event_category,C.scribe_widget_origin=O.scribe_widget_origin,C.show_cookie_override_en=O.show_cookie_override_en,C.show_cookie_override_all=O.show_cookie_override_all,C.heartbeatIntervalInMs=O.heartbeatIntervalInMs,C.vodHeartbeatEnabled=O.heartbeatEnabled,C.video_loading_timeout=O.video_loading_timeout,C.loopingEnabled=O.looping_enabled,O.source_type==="live"||O.source_type==="consumer"||O.source_type==="gif"||O.source_type==="snap-reel"?(C.scribe_playlist_url=O.scribe_playlist_url,C.media_id=O.media_id,C.video_owner_id=O.owner_id,C.content_type=O.content_type,C.video_url=O.video_url,C.publisher_id=O.owner_id,C.visit_cta_url=O.visit_cta_url,C.watch_now_cta_url=O.watch_now_cta_url,C.snap_reel=O.snap_reel,k=d(C)):O.source_type==="amplify"?(C.vmap_url=O.vmap_url,C.publisher_id=O.publisher_id,C.disable_embed=O.disable_embed):O.source_type==="vine"&&(C.player_url=O.player_url,C.publisher_id=O.owner_id,C.scribe_playlist_url=O.scribe_playlist_url)}n.attachTo(document,{jsonRpc:C.json_rpc==="1",playerId:C.player_id});var M={embedded:C.embedded,vmapUrl:C.vmap_url,autoPlay:C.autoplay==="1",posterImageUrl:C.image_src,duration:C.duration,playlist:k,mediaId:C.media_id,dynamicAd:C.dynamic_ad==="1",autoPlayPreview:!1,useVmapVariants:!1,playerUrl:C.player_url,scribePlaylistUrl:C.scribe_playlist_url,hideControls:C.hide_controls==="1",hideStopButton:C.hideStopButton,sourceType:C.source_type,snapReel:C.snap_reel,liveVideoEvent:C.liveVideoEvent,disableEmbed:C.disable_embed==="1"&&C.external_embedder,widgetOrigin:C.widget_origin,tweetId:C.tweet_id,squareCorners:C.square_corners==="1",borderRadius:C.borderRadius||{},publisherId:C.publisher_id,embedSource:C.embed_source,videoSessionEnabled:C.video_session_enabled,user:C.user,status:C.status,statusTimestamp:C.status_timestamp,videoInfo:C.video_info,title:C.title,description:C.description,viewCounts:C.viewCounts,scribeWidgetOrigin:C.scribe_widget_origin,useTFWLiveHeartbeatEventCategory:C.use_tfw_live_heartbeat_event_category,showCookieOverrideEn:C.show_cookie_override_en,showCookieOverrideAll:C.show_cookie_override_all,heartbeatIntervalInMs:C.heartbeatIntervalInMs,vodHeartbeatEnabled:C.vodHeartbeatEnabled,videoLoadingTimeout:C.video_loading_timeout,loopingEnabled:C.loopingEnabled};C.rpc_init==="1"?($(document).one("dataPlayerConfig",function(t,n){e(n),$.extend(M,n),N(M)}),$(document).trigger("uiRequestPlayerConfig")):N(M),$(".mobile-player-controls .rosetta-icon-play").click(function(){$("video").get(0).play()})}}),requirejs.config({baseUrl:"js",deps:["jquery","es5-shim","es5-sham","hlsjs","boot/boot_debug","boot/boot"],paths:{"es5-shim":"bower_components/es5-shim/es5-shim","es5-sham":"bower_components/es5-shim/es5-sham",flight:"bower_components/flight",hlsjs:"bower_components/hls.js/dist/hls",jquery:"bower_components/jquery/dist/jquery","jquery-ajaxTransport-xdomain":"bower_components/jQuery-ajaxTransport-XDomainRequest/jQuery.XDomainRequest","jquery-xpath":"../../node_modules/jquery-xpath/jquery.xpath",requirejs:"bower_components/requirejs/require","twitter-text":"bower_components/twitter-text-js/js/twitter-text",xdm:"bower_components/xdm.js/xdm"},callback:function(e,t,n,r,i,s){s()}}),define("main",function(){});